<!DOCTYPE html>
<!-- saved from url=(0038)http://www.count-zero.ru/2017/pcd8544/ -->
<html lang="ru"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<!-- Bootstrap -->
<link rel="stylesheet" type="text/css" href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/bootstrap.min.css">
<!-- FontAwesome -->
<link rel="stylesheet" href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/font-awesome.min.css">
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<!-- script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script -->
<script type="text/javascript" async="" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/analytics.js.Без названия"></script><script type="text/javascript" async="" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/watch.js.Без названия"></script><script src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/jquery.min.js.Без названия"></script><style></style>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script type="text/javascript" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/bootstrap.min.js.Без названия"></script>

<!--script type="text/javascript" src="/js/salvattore.min.js"></script-->
<!-- my css -->
<link rel="stylesheet" type="text/css" href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/my.css">

<title>ATmega8 + PCD8544: работа с графическим дисплеем от телефонов Nokia 5110/3310</title>
<meta name="keywords" content="avr, arduino,  atmeag8, atmega, spi, lcd, nokia, 5110, 3310">
<link rel="icon" type="image/png" href="http://www.count-zero.ru/favicon.png">  

<!-- Global site tag (gtag.js) - Google Analytics -->
<script async="" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/js"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70401440-2');
</script>
<!-- Yandex.Metrika counter --> <script type="text/javascript"> (function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter33718644 = new Ya.Metrika({ id:33718644, clickmap:true, trackLinks:true, accurateTrackBounce:true }); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = "https://mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks"); </script> <noscript><div><img src="https://mc.yandex.ru/watch/33718644" style="position:absolute; left:-9999px;" alt="" /></div></noscript> <!-- /Yandex.Metrika counter -->


<script src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/embed.js.Без названия" data-timestamp="1597933204886"></script><style type="text/css">.ya-share2,
.ya-share2 * {
  line-height: normal;
}
.ya-share2 :link:hover,
.ya-share2 :visited:hover {
  color: #000 !important;
}
.ya-share2 input {
  color: inherit;
  font: inherit;
  margin: 0;
  line-height: normal;
}
.ya-share2__messenger-frame {
  display: none;
}
.ya-share2__container.ya-share2__container_color-scheme_blackwhite .ya-share2__badge {
  background-color: #000;
}
.ya-share2__container.ya-share2__container_color-scheme_whiteblack .ya-share2__badge {
  background-color: #fff;
}
.ya-share2__container_shape_round .ya-share2__badge {
  border-radius: 50px;
}
.ya-share2__container_shape_round .ya-share2__icon {
  background-position: center;
}
.ya-share2__container_size_l {
  font-size: 20px;
}
.ya-share2__container_size_l .ya-share2__icon {
  height: 48px;
  width: 48px;
  background-size: 48px 48px;
}
.ya-share2__container_shape_round.ya-share2__container_size_l .ya-share2__icon:not(.ya-share2__icon_messenger-contact):not(.ya-share2__icon_more):not(.ya-share2__icon_copy) {
  background-size: 40px 40px;
}
.ya-share2__container_size_l .ya-share2__item_copy .ya-share2__icon_copy,
.ya-share2__container_size_l .ya-share2__item_more .ya-share2__icon_more {
  background-size: 32px 32px;
}
.ya-share2__container_size_l .ya-share2__title {
  line-height: 48px;
}
.ya-share2__container_size_l .ya-share2__badge + .ya-share2__title {
  margin-left: 16px;
}
.ya-share2__container_size_l .ya-share2__popup {
  border-radius: 16px;
  box-shadow: 0px 16px 48px rgba(0,0,0,0.18), 0px 0px 8px rgba(0,0,0,0.1);
}
.ya-share2__container_size_l .ya-share2__popup .ya-share2__item {
  padding: 2px 16px;
}
.ya-share2__container_size_l .ya-share2__popup > :first-child:not(:empty),
.ya-share2__container_size_l .ya-share2__popup > :first-child:empty + :last-child:not(:empty) {
  padding-top: 8px;
}
.ya-share2__container_size_l .ya-share2__popup > :last-child:not(:empty) {
  padding-bottom: 8px;
}
.ya-share2__container_size_l .ya-share2__popup_direction_bottom {
  top: 56px;
}
.ya-share2__container_size_l .ya-share2__popup_direction_top {
  bottom: 56px;
}
.ya-share2__container_size_l.ya-share2__container_alone .ya-share2__popup_direction_bottom,
.ya-share2__container_size_l .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__popup_direction_bottom {
  top: 72px;
}
.ya-share2__container_size_l.ya-share2__container_alone .ya-share2__popup_direction_top,
.ya-share2__container_size_l .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__popup_direction_top {
  bottom: 72px;
}
.ya-share2__container_size_l .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more {
  padding: 8px 32px 8px 16px;
  font-size: 22px;
}
.ya-share2__container_size_l .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more.ya-share2__link_more-button-type_short {
  padding: 8px;
  border: none;
  background: rgba(0,0,0,0.07);
}
.ya-share2__container_size_l .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more .ya-share2__title {
  margin-left: 6px;
}
.ya-share2__container_size_l .ya-share2__messenger-contacts {
  margin-bottom: 12px;
}
.ya-share2__container_size_l .ya-share2__messenger-contacts::after {
  width: 16px;
  height: 16px;
  bottom: -7px;
  left: 32px;
}
.ya-share2__container_size_m {
  font-size: 13px;
}
.ya-share2__container_size_m .ya-share2__icon {
  height: 24px;
  width: 24px;
  background-size: 24px 24px;
}
.ya-share2__container_shape_round.ya-share2__container_size_m .ya-share2__icon:not(.ya-share2__icon_messenger-contact):not(.ya-share2__icon_more):not(.ya-share2__icon_copy) {
  background-size: 20px 20px;
}
.ya-share2__container_size_m .ya-share2__item_copy .ya-share2__icon_copy,
.ya-share2__container_size_m .ya-share2__item_more .ya-share2__icon_more {
  background-size: 16px 16px;
}
.ya-share2__container_size_m .ya-share2__title {
  line-height: 24px;
}
.ya-share2__container_size_m .ya-share2__badge + .ya-share2__title {
  margin-left: 10px;
}
.ya-share2__container_size_m .ya-share2__popup {
  border-radius: 8px;
  box-shadow: 0px 8px 24px rgba(0,0,0,0.18), 0px 0px 4px rgba(0,0,0,0.1);
}
.ya-share2__container_size_m .ya-share2__popup .ya-share2__item {
  padding: 2px 8px;
}
.ya-share2__container_size_m .ya-share2__popup > :first-child:not(:empty),
.ya-share2__container_size_m .ya-share2__popup > :first-child:empty + :last-child:not(:empty) {
  padding-top: 8px;
}
.ya-share2__container_size_m .ya-share2__popup > :last-child:not(:empty) {
  padding-bottom: 8px;
}
.ya-share2__container_size_m .ya-share2__popup_direction_bottom {
  top: 28px;
}
.ya-share2__container_size_m .ya-share2__popup_direction_top {
  bottom: 28px;
}
.ya-share2__container_size_m.ya-share2__container_alone .ya-share2__popup_direction_bottom,
.ya-share2__container_size_m .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__popup_direction_bottom {
  top: 36px;
}
.ya-share2__container_size_m.ya-share2__container_alone .ya-share2__popup_direction_top,
.ya-share2__container_size_m .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__popup_direction_top {
  bottom: 36px;
}
.ya-share2__container_size_m .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more {
  padding: 4px 16px 4px 8px;
  font-size: 15px;
}
.ya-share2__container_size_m .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more.ya-share2__link_more-button-type_short {
  padding: 4px;
  border: none;
  background: rgba(0,0,0,0.07);
}
.ya-share2__container_size_m .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more .ya-share2__title {
  margin-left: 2px;
}
.ya-share2__container_size_m .ya-share2__messenger-contacts {
  margin-bottom: 6px;
}
.ya-share2__container_size_m .ya-share2__messenger-contacts::after {
  width: 10px;
  height: 10px;
  bottom: -4px;
  left: 15px;
}
.ya-share2__container_size_s {
  font-size: 12px;
}
.ya-share2__container_size_s .ya-share2__icon {
  height: 18px;
  width: 18px;
  background-size: 18px 18px;
}
.ya-share2__container_shape_round.ya-share2__container_size_s .ya-share2__icon:not(.ya-share2__icon_messenger-contact):not(.ya-share2__icon_more):not(.ya-share2__icon_copy) {
  background-size: 15px 15px;
}
.ya-share2__container_size_s .ya-share2__item_copy .ya-share2__icon_copy,
.ya-share2__container_size_s .ya-share2__item_more .ya-share2__icon_more {
  background-size: 12px 12px;
}
.ya-share2__container_size_s .ya-share2__title {
  line-height: 18px;
}
.ya-share2__container_size_s .ya-share2__badge + .ya-share2__title {
  margin-left: 6px;
}
.ya-share2__container_size_s .ya-share2__popup {
  border-radius: 6px;
  box-shadow: 0px 6px 18px rgba(0,0,0,0.18), 0px 0px 3px rgba(0,0,0,0.1);
}
.ya-share2__container_size_s .ya-share2__popup .ya-share2__item {
  padding: 2px 6px;
}
.ya-share2__container_size_s .ya-share2__popup > :first-child:not(:empty),
.ya-share2__container_size_s .ya-share2__popup > :first-child:empty + :last-child:not(:empty) {
  padding-top: 6px;
}
.ya-share2__container_size_s .ya-share2__popup > :last-child:not(:empty) {
  padding-bottom: 6px;
}
.ya-share2__container_size_s .ya-share2__popup_direction_bottom {
  top: 21px;
}
.ya-share2__container_size_s .ya-share2__popup_direction_top {
  bottom: 21px;
}
.ya-share2__container_size_s.ya-share2__container_alone .ya-share2__popup_direction_bottom,
.ya-share2__container_size_s .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__popup_direction_bottom {
  top: 27px;
}
.ya-share2__container_size_s.ya-share2__container_alone .ya-share2__popup_direction_top,
.ya-share2__container_size_s .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__popup_direction_top {
  bottom: 27px;
}
.ya-share2__container_size_s .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more {
  padding: 3px 12px 3px 6px;
  font-size: 14px;
}
.ya-share2__container_size_s .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more.ya-share2__link_more-button-type_short {
  padding: 3px;
  border: none;
  background: rgba(0,0,0,0.07);
}
.ya-share2__container_size_s .ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more .ya-share2__title {
  margin-left: 1px;
}
.ya-share2__container_size_s .ya-share2__messenger-contacts {
  margin-bottom: 4.5px;
}
.ya-share2__container_size_s .ya-share2__messenger-contacts::after {
  width: 8px;
  height: 8px;
  bottom: -3px;
  left: 11px;
}
.ya-share2__list.ya-share2__list_direction_horizontal {
  margin-top: -2px;
}
.ya-share2__list.ya-share2__list_direction_horizontal > .ya-share2__item {
  display: inline-block;
  vertical-align: top;
  padding: 0;
  margin: 2px 4px 0 0;
}
.ya-share2__list.ya-share2__list_direction_horizontal > .ya-share2__item:last-child {
  margin-right: 0;
}
.ya-share2__list.ya-share2__list_direction_horizontal > .ya-share2__item > .ya-share2__link > .ya-share2__title {
  display: none;
}
.ya-share2__list.ya-share2__list_direction_vertical > .ya-share2__item {
  display: block;
  margin: 4px 0;
}
.ya-share2__list.ya-share2__list_direction_vertical > .ya-share2__item:first-child {
  margin-top: 0;
}
.ya-share2__list.ya-share2__list_direction_vertical > .ya-share2__item:last-child {
  margin-bottom: 0;
}
.ya-share2__container .ya-share2__popup {
  position: absolute;
  display: none;
  z-index: 9999;
  background-color: #fff;
}
.ya-share2__container .ya-share2__popup_visible {
  display: block;
}
.ya-share2__container .ya-share2__popup_direction_auto {
  visibility: hidden;
}
.ya-share2__container .ya-share2__popup_direction_bottom,
.ya-share2__container .ya-share2__popup_direction_top {
  visibility: visible;
}
.ya-share2__container .ya-share2__popup_list-direction_horizontal {
  right: 0;
}
.ya-share2__container .ya-share2__popup_list-direction_vertical {
  left: 0;
}
.ya-share2__container .ya-share2__popup_x-direction_left {
  right: 0;
  left: auto;
}
.ya-share2__container .ya-share2__popup_x-direction_right {
  left: 0;
  right: auto;
}
.ya-share2__container .ya-share2__popup .ya-share2__item {
  margin: 0;
}
.ya-share2__container .ya-share2__popup .ya-share2__item:hover,
.ya-share2__container .ya-share2__popup .ya-share2__item:focus {
  background: rgba(0,0,0,0.03);
}
.ya-share2__container .ya-share2__popup .ya-share2__item:active {
  background: rgba(0,0,0,0.05);
}
.ya-share2__container .ya-share2__popup .ya-share2__item:hover,
.ya-share2__container .ya-share2__popup .ya-share2__item:focus,
.ya-share2__container .ya-share2__popup .ya-share2__item:active {
  opacity: 1;
}
.ya-share2__container_color-scheme_whiteblack.ya-share2__container .ya-share2__popup .ya-share2__item:hover .ya-share2__badge,
.ya-share2__container_color-scheme_whiteblack.ya-share2__container .ya-share2__popup .ya-share2__item:focus .ya-share2__badge,
.ya-share2__container_color-scheme_whiteblack.ya-share2__container .ya-share2__popup .ya-share2__item:active .ya-share2__badge,
.ya-share2__container_color-scheme_normal.ya-share2__container .ya-share2__popup .ya-share2__item:hover.ya-share2__item_copy .ya-share2__badge,
.ya-share2__container_color-scheme_normal.ya-share2__container .ya-share2__popup .ya-share2__item:focus.ya-share2__item_copy .ya-share2__badge,
.ya-share2__container_color-scheme_normal.ya-share2__container .ya-share2__popup .ya-share2__item:active.ya-share2__item_copy .ya-share2__badge {
  background: transparent;
}
.ya-share2__container .ya-share2__messenger-contacts {
  background-color: #f5f5f5;
  position: relative;
}
.ya-share2__container .ya-share2__messenger-contacts:empty {
  display: none;
}
.ya-share2__container .ya-share2__messenger-contacts::after {
  content: '';
  transform: rotate(45deg);
  position: absolute;
  background-color: #f5f5f5;
  z-index: -1;
}
.ya-share2__container .ya-share2__messenger-contacts .ya-share2__messenger-contacts-list {
  padding-left: 0;
}
.ya-share2__container .ya-share2__messenger-contacts .ya-share2__item {
  display: block;
}
.ya-share2__container .ya-share2__messenger-contacts .ya-share2__badge {
  background: none;
}
.ya-share2__container .ya-share2__messenger-contacts .ya-share2__icon {
  border-radius: 50px;
}
.ya-share2__container .ya-share2__messenger-contacts + .ya-share2__list {
  display: block;
}
.ya-share2__list,
.ya-share2__badge,
.ya-share2__icon {
  display: inline-block;
  vertical-align: top;
}
.ya-share2__title {
  display: inline-block;
  vertical-align: bottom;
}
.ya-share2__list {
  padding: 0;
  margin: 0;
  list-style-type: none;
}
.ya-share2__link {
  display: block;
}
.ya-share2__item {
  display: inline-block;
  font-family: 'YS Text', Arial, sans-serif;
}
.ya-share2__item:not(.ya-share2__item_more):hover,
.ya-share2__item.ya-share2__item_more > .ya-share2__link:hover,
.ya-share2__item:not(.ya-share2__item_more):focus,
.ya-share2__item.ya-share2__item_more > .ya-share2__link:focus {
  cursor: pointer;
  opacity: 0.85;
}
.ya-share2__item:not(.ya-share2__item_more):active,
.ya-share2__item.ya-share2__item_more > .ya-share2__link:active {
  opacity: 0.7;
}
.ya-share2__link {
  text-decoration: none;
  white-space: nowrap;
}
.ya-share2__badge {
  border-radius: 4px;
  color: #fff;
  overflow: hidden;
  position: relative;
}
.ya-share2__title {
  color: #000;
}
.ya-share2__item_more {
  position: relative;
}
.ya-share2__item_more .ya-share2__link_more .ya-share2__title {
  display: none;
}
.ya-share2__item_more .ya-share2__icon_more {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1 8a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm5.5 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm7-1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z' fill='%23999'/%3E%3C/svg%3E");
}
.ya-share2__container_color-scheme_blackwhite .ya-share2__item_more .ya-share2__icon_more {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1 8a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm5.5 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm7-1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z' fill='%23fff'/%3E%3C/svg%3E");
}
.ya-share2__container_color-scheme_whiteblack .ya-share2__item_more .ya-share2__icon_more {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M1 8a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm5.5 0a1.5 1.5 0 113 0 1.5 1.5 0 01-3 0zm7-1.5a1.5 1.5 0 100 3 1.5 1.5 0 000-3z' fill='%23000'/%3E%3C/svg%3E");
}
.ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__icon_more {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.6 2.9a2.7 2.7 0 01-4.554 1.963L5.303 7.28a2.702 2.702 0 010 1.44l4.743 2.417a2.7 2.7 0 11-.834 1.708l-5.05-2.575a2.7 2.7 0 110-4.54l5.05-2.575A2.7 2.7 0 1114.6 2.9z' fill='%23000'/%3E%3C/svg%3E");
}
.ya-share2__item_more .ya-share2__badge,
.ya-share2__item_copy .ya-share2__badge {
  background: rgba(0,0,0,0.03);
}
.ya-share2__item_more .ya-share2__icon,
.ya-share2__item_copy .ya-share2__icon {
  background-position: center;
  background-repeat: no-repeat;
}
.ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more {
  background: rgba(0,0,0,0.03);
  border: 1px solid rgba(0,0,0,0.15);
  border-radius: 50px;
}
.ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more:not(.ya-share2__link_more-button-type_short):hover,
.ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more:not(.ya-share2__link_more-button-type_short):focus {
  border-color: rgba(0,0,0,0.25);
  opacity: 1;
}
.ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more:not(.ya-share2__link_more-button-type_short):active {
  border-color: rgba(0,0,0,0.4);
  opacity: 1;
}
.ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__link_more:not(.ya-share2__link_more-button-type_short) .ya-share2__title {
  display: inline-block;
}
.ya-share2__item_more.ya-share2__item_has-pretty-view .ya-share2__badge_more {
  background: transparent;
}
.ya-share2__item_copy .ya-share2__icon {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 2a1 1 0 001 1h7.5a.5.5 0 01.5.5v7.497a1 1 0 002 0V3.5A2.5 2.5 0 0012.5 1H5a1 1 0 00-1 1zM2.5 4h8A1.5 1.5 0 0112 5.5v8a1.5 1.5 0 01-1.5 1.5h-8A1.5 1.5 0 011 13.5v-8A1.5 1.5 0 012.5 4zM3 6v7h7V6H3z' fill='%23999'/%3E%3C/svg%3E");
}
.ya-share2__container_color-scheme_blackwhite .ya-share2__item_copy .ya-share2__icon {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 2a1 1 0 001 1h7.5a.5.5 0 01.5.5v7.497a1 1 0 002 0V3.5A2.5 2.5 0 0012.5 1H5a1 1 0 00-1 1zM2.5 4h8A1.5 1.5 0 0112 5.5v8a1.5 1.5 0 01-1.5 1.5h-8A1.5 1.5 0 011 13.5v-8A1.5 1.5 0 012.5 4zM3 6v7h7V6H3z' fill='%23fff'/%3E%3C/svg%3E");
}
.ya-share2__container_color-scheme_whiteblack .ya-share2__item_copy .ya-share2__icon {
  background-image: url("data:image/svg+xml,%3Csvg width='16' height='16' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M4 2a1 1 0 001 1h7.5a.5.5 0 01.5.5v7.497a1 1 0 002 0V3.5A2.5 2.5 0 0012.5 1H5a1 1 0 00-1 1zM2.5 4h8A1.5 1.5 0 0112 5.5v8a1.5 1.5 0 01-1.5 1.5h-8A1.5 1.5 0 011 13.5v-8A1.5 1.5 0 012.5 4zM3 6v7h7V6H3z' fill='%23000'/%3E%3C/svg%3E");
}
.ya-share2__item_copy .ya-share2__input_copy {
  display: none;
}
.ya-share2__item_copy .ya-share2__link_copy {
  display: none;
}
.ya-share2__popup_clipboard .ya-share2__item_copy .ya-share2__link_copy,
.ya-share2__container > .ya-share2__list > .ya-share2__item_copy .ya-share2__link_copy {
  display: inline-block;
}

.ya-share2__item_service_blogger .ya-share2__badge
{
    background-color: #fb8f3d;
}

.ya-share2__item_service_blogger .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.896 14.833A5.167 5.167 0 0114.729 20H9.166A5.167 5.167 0 014 14.833V9.167A5.166 5.166 0 019.166 4h2.608a5.167 5.167 0 015.167 5.167l.002.011c.037.536.484.96 1.03.96l.018-.002h.872c.57 0 1.034.463 1.034 1.034l-.001 3.663zM9.038 10.176h2.926a.993.993 0 000-1.987H9.038a.994.994 0 000 1.987zm5.867 3.83H9.032a.94.94 0 000 1.879h5.873a.94.94 0 100-1.88z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_blogger .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.896 14.833A5.167 5.167 0 0114.729 20H9.166A5.167 5.167 0 014 14.833V9.167A5.166 5.166 0 019.166 4h2.608a5.167 5.167 0 015.167 5.167l.002.011c.037.536.484.96 1.03.96l.018-.002h.872c.57 0 1.034.463 1.034 1.034l-.001 3.663zM9.038 10.176h2.926a.993.993 0 000-1.987H9.038a.994.994 0 000 1.987zm5.867 3.83H9.032a.94.94 0 000 1.879h5.873a.94.94 0 100-1.88z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_collections .ya-share2__badge
{
    background-color: #f55;
}

.ya-share2__item_service_collections .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M5.346 4c-.264 0-.477.104-.612.19a1.568 1.568 0 00-.367.336c-.19.237-.367.59-.367 1V15.2a.8.8 0 001.6 0V6.4a.8.8 0 01.8-.8h5.68a.8.8 0 100-1.6H5.346zm2.185 3.75a1.35 1.35 0 011.077-.55h9.002c.543 0 1.024.31 1.29.687.142.2.262.47.262.786 0 .329-.13.637-.367.878l-3.408 3.68a.737.737 0 000 .737l3.407 3.68c.215.216.367.494.4.815.033.326-.066.621-.222.851-.3.443-.83.684-1.362.684H8.743c-.393.012-.926-.032-1.272-.456a1.198 1.198 0 01-.251-.591c-.02-.138-.02-.278-.02-.359V8.747c0-.35.111-.71.33-.998z' fill='%23FFF' fill-rule='evenodd'/%3E %3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_collections .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath d='M5.346 4c-.264 0-.477.104-.612.19a1.568 1.568 0 00-.367.336c-.19.237-.367.59-.367 1V15.2a.8.8 0 001.6 0V6.4a.8.8 0 01.8-.8h5.68a.8.8 0 100-1.6H5.346zm2.185 3.75a1.35 1.35 0 011.077-.55h9.002c.543 0 1.024.31 1.29.687.142.2.262.47.262.786 0 .329-.13.637-.367.878l-3.408 3.68a.737.737 0 000 .737l3.407 3.68c.215.216.367.494.4.815.033.326-.066.621-.222.851-.3.443-.83.684-1.362.684H8.743c-.393.012-.926-.032-1.272-.456a1.198 1.198 0 01-.251-.591c-.02-.138-.02-.278-.02-.359V8.747c0-.35.111-.71.33-.998z' fill='%23000' fill-rule='evenodd'/%3E %3C/svg%3E");
}

.ya-share2__item_service_delicious .ya-share2__badge
{
    background-color: #31a9ff;
}

.ya-share2__item_service_delicious .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 12h8v8H4zm8-8h8v8h-7.984z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_delicious .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4 12h8v8H4zm8-8h8v8h-7.984z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_digg .ya-share2__badge
{
    background-color: #000;
}

.ya-share2__item_service_digg .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.555 10.814V14.1h.96s.18.005.18-.222v-3.287h-.96s-.18-.006-.18.222zm8.032 3.065v-3.287h-.96s-.18-.006-.18.222V14.1h.96s.18.006.18-.222zm-5.306 1.32c0 .227-.18.222-.18.222H4V9.497c0-.227.18-.222.18-.222h2.514V7.222c0-.227.18-.222.18-.222h1.408l-.001 8.199zm2.065 0c0 .227-.18.221-.18.221H8.761V9.496c0-.226.18-.221.18-.221h1.406v5.924zm0-7.103c0 .227-.18.222-.18.222H8.76V7.222c0-.227.18-.222.18-.222h1.408l-.001 1.096zm4.827 9.21c0 .228-.18.223-.18.223h-4.1v-1.096c0-.227.18-.222.18-.222h2.513v-.79h-2.694V9.497c0-.227.18-.222.18-.222l4.102.003v8.029zm4.826 0c0 .228-.18.223-.18.223h-4.1v-1.096c0-.227.18-.222.18-.222h2.514v-.79h-2.695V9.497c0-.227.18-.222.18-.222L20 9.279v8.028zm-1.585-3.427v-3.287h-.96s-.18-.006-.18.222V14.1h.96s.18.006.18-.222z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_digg .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M5.555 10.814V14.1h.96s.18.005.18-.222v-3.287h-.96s-.18-.006-.18.222zm8.032 3.065v-3.287h-.96s-.18-.006-.18.222V14.1h.96s.18.006.18-.222zm-5.306 1.32c0 .227-.18.222-.18.222H4V9.497c0-.227.18-.222.18-.222h2.514V7.222c0-.227.18-.222.18-.222h1.408l-.001 8.199zm2.065 0c0 .227-.18.221-.18.221H8.761V9.496c0-.226.18-.221.18-.221h1.406v5.924zm0-7.103c0 .227-.18.222-.18.222H8.76V7.222c0-.227.18-.222.18-.222h1.408l-.001 1.096zm4.827 9.21c0 .228-.18.223-.18.223h-4.1v-1.096c0-.227.18-.222.18-.222h2.513v-.79h-2.694V9.497c0-.227.18-.222.18-.222l4.102.003v8.029zm4.826 0c0 .228-.18.223-.18.223h-4.1v-1.096c0-.227.18-.222.18-.222h2.514v-.79h-2.695V9.497c0-.227.18-.222.18-.222L20 9.279v8.028zm-1.585-3.427v-3.287h-.96s-.18-.006-.18.222V14.1h.96s.18.006.18-.222z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_evernote .ya-share2__badge
{
    background-color: #24d666;
}

.ya-share2__item_service_evernote .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.277 7.109h1.517c.08 0 .16-.08.16-.16V5.313c0-.28.08-.559.159-.758l.04-.12L5.2 7.348l.16-.08c.239-.12.558-.16.917-.16zm11.654-.28c-.12-.638-.479-.917-.838-1.037-.36-.12-.718-.28-1.676-.4-.759-.08-1.557-.12-2.116-.12-.16-.438-.399-.917-1.317-1.156-.638-.16-1.796-.12-2.155-.08-.559.08-.758.319-.918.479-.16.16-.28.598-.28.878v1.556c0 .48-.318.838-.877.838H6.397c-.32 0-.559.04-.758.12-.16.12-.32.28-.4.4-.2.279-.239.598-.239.957 0 0 0 .28.08.798.04.4.479 3.033.878 3.911.16.36.28.48.599.639.718.32 2.354.639 3.152.758.759.08 1.278.32 1.557-.279 0 0 .04-.16.12-.36a6.3 6.3 0 00.28-1.915c0-.04.079-.04.079 0 0 .36-.08 1.557.838 1.876.36.12 1.118.24 1.876.32.678.079 1.197.358 1.197 2.114 0 1.078-.24 1.238-1.397 1.238-.958 0-1.317.04-1.317-.759 0-.598.599-.558 1.078-.558.2 0 .04-.16.04-.52 0-.398.24-.598 0-.598-1.557-.04-2.475 0-2.475 1.956 0 1.796.679 2.115 2.914 2.115 1.756 0 2.354-.04 3.073-2.275.16-.439.479-1.796.678-4.03.16-1.478-.12-5.788-.319-6.866zm-3.033 4.75c-.2 0-.32 0-.519.04h-.08s-.04 0-.04-.04v-.04c.08-.4.28-.878.878-.878.639.04.799.599.799 1.038v.04c0 .04-.04.04-.04.04-.04 0-.04 0-.04-.04-.28-.08-.599-.12-.958-.16z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_evernote .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.277 7.109h1.517c.08 0 .16-.08.16-.16V5.313c0-.28.08-.559.159-.758l.04-.12L5.2 7.348l.16-.08c.239-.12.558-.16.917-.16zm11.654-.28c-.12-.638-.479-.917-.838-1.037-.36-.12-.718-.28-1.676-.4-.759-.08-1.557-.12-2.116-.12-.16-.438-.399-.917-1.317-1.156-.638-.16-1.796-.12-2.155-.08-.559.08-.758.319-.918.479-.16.16-.28.598-.28.878v1.556c0 .48-.318.838-.877.838H6.397c-.32 0-.559.04-.758.12-.16.12-.32.28-.4.4-.2.279-.239.598-.239.957 0 0 0 .28.08.798.04.4.479 3.033.878 3.911.16.36.28.48.599.639.718.32 2.354.639 3.152.758.759.08 1.278.32 1.557-.279 0 0 .04-.16.12-.36a6.3 6.3 0 00.28-1.915c0-.04.079-.04.079 0 0 .36-.08 1.557.838 1.876.36.12 1.118.24 1.876.32.678.079 1.197.358 1.197 2.114 0 1.078-.24 1.238-1.397 1.238-.958 0-1.317.04-1.317-.759 0-.598.599-.558 1.078-.558.2 0 .04-.16.04-.52 0-.398.24-.598 0-.598-1.557-.04-2.475 0-2.475 1.956 0 1.796.679 2.115 2.914 2.115 1.756 0 2.354-.04 3.073-2.275.16-.439.479-1.796.678-4.03.16-1.478-.12-5.788-.319-6.866zm-3.033 4.75c-.2 0-.32 0-.519.04h-.08s-.04 0-.04-.04v-.04c.08-.4.28-.878.878-.878.639.04.799.599.799 1.038v.04c0 .04-.04.04-.04.04-.04 0-.04 0-.04-.04-.28-.08-.599-.12-.958-.16z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_facebook .ya-share2__badge
{
    background-color: #3b5998;
}

.ya-share2__item_service_facebook .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.423 20v-7.298h2.464l.369-2.845h-2.832V8.042c0-.824.23-1.385 1.417-1.385h1.515V4.111A20.255 20.255 0 0014.148 4c-2.183 0-3.678 1.326-3.678 3.76v2.097H8v2.845h2.47V20h2.953z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_facebook .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.423 20v-7.298h2.464l.369-2.845h-2.832V8.042c0-.824.23-1.385 1.417-1.385h1.515V4.111A20.255 20.255 0 0014.148 4c-2.183 0-3.678 1.326-3.678 3.76v2.097H8v2.845h2.47V20h2.953z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_linkedin .ya-share2__badge
{
    background-color: #0083be;
}

.ya-share2__item_service_linkedin .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.246 8.954h3.41v10.281h-3.41zm1.725-4.935c-1.167 0-1.929.769-1.929 1.776 0 .987.74 1.777 1.884 1.777h.022c1.19 0 1.93-.79 1.93-1.777-.023-1.007-.74-1.776-1.907-1.776zm10.052 4.715c-1.81 0-2.62.997-3.073 1.698V8.976H9.54c.045.965 0 10.281 0 10.281h3.41v-5.742c0-.307.022-.614.112-.834.246-.613.807-1.25 1.75-1.25 1.233 0 1.727.944 1.727 2.325v5.501h3.41v-5.896c0-3.158-1.683-4.627-3.926-4.627z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_linkedin .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M4.246 8.954h3.41v10.281h-3.41zm1.725-4.935c-1.167 0-1.929.769-1.929 1.776 0 .987.74 1.777 1.884 1.777h.022c1.19 0 1.93-.79 1.93-1.777-.023-1.007-.74-1.776-1.907-1.776zm10.052 4.715c-1.81 0-2.62.997-3.073 1.698V8.976H9.54c.045.965 0 10.281 0 10.281h3.41v-5.742c0-.307.022-.614.112-.834.246-.613.807-1.25 1.75-1.25 1.233 0 1.727.944 1.727 2.325v5.501h3.41v-5.896c0-3.158-1.683-4.627-3.926-4.627z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_lj .ya-share2__badge
{
    background-color: #0d425a;
}

.ya-share2__item_service_lj .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M17.815 13.3c.223 1.074.443 2.146.663 3.218.214 1.039.427 2.078.643 3.118.037.178-.148.385-.334.311-1.544-.565-3.063-1.135-4.585-1.706l-1.425-.534a.625.625 0 01-.318-.23l-7.39-8.903c-.067-.082-.082-.215-.06-.32.312-1.23.72-2.143 1.752-3.019C7.799 4.36 8.779 4.1 10.047 4.004c.156-.015.223.014.312.133l1.351 1.625v.001c1.968 2.367 3.935 4.733 5.897 7.099.109.124.18.275.208.438zM6.175 8.462c.69-1.795 2.3-3.004 3.835-3.301l-.185-.223a4.242 4.242 0 00-3.85 3.272l.2.252zm.504.601c.727-1.758 2.107-2.945 3.851-3.271l.89 1.06c-1.536.305-3.049 1.522-3.836 3.302l-.905-1.091zM9.364 8.9l3.926 4.719h-.002c.564.682-.014 2.656-.303 3.041l-4.89-5.89A6.12 6.12 0 019.364 8.9zm4.23 4.481L9.647 8.633c.69-.601 1.484-1.009 2.277-1.165l4.756 5.72c-.63.52-2.641.735-3.086.193zm3.36.298l.001-.001h-.001zm-2.93.526c1.03.208 2.32-.067 2.93-.526l.43 2.091.35 1.692c-.371.156-.69.386-.913.764l-1.528-.564-1.885-.712c.52-.853.69-1.922.616-2.745z' fill='%23FFF'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_lj .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M17.815 13.3c.223 1.074.443 2.146.663 3.218.214 1.039.427 2.078.643 3.118.037.178-.148.385-.334.311-1.544-.565-3.063-1.135-4.585-1.706l-1.425-.534a.625.625 0 01-.318-.23l-7.39-8.903c-.067-.082-.082-.215-.06-.32.312-1.23.72-2.143 1.752-3.019C7.799 4.36 8.779 4.1 10.047 4.004c.156-.015.223.014.312.133l1.351 1.625v.001c1.968 2.367 3.935 4.733 5.897 7.099.109.124.18.275.208.438zM6.175 8.462c.69-1.795 2.3-3.004 3.835-3.301l-.185-.223a4.242 4.242 0 00-3.85 3.272l.2.252zm.504.601c.727-1.758 2.107-2.945 3.851-3.271l.89 1.06c-1.536.305-3.049 1.522-3.836 3.302l-.905-1.091zM9.364 8.9l3.926 4.719h-.002c.564.682-.014 2.656-.303 3.041l-4.89-5.89A6.12 6.12 0 019.364 8.9zm4.23 4.481L9.647 8.633c.69-.601 1.484-1.009 2.277-1.165l4.756 5.72c-.63.52-2.641.735-3.086.193zm3.36.298l.001-.001h-.001zm-2.93.526c1.03.208 2.32-.067 2.93-.526l.43 2.091.35 1.692c-.371.156-.69.386-.913.764l-1.528-.564-1.885-.712c.52-.853.69-1.922.616-2.745z' fill='%23000'/%3E%3C/svg%3E");
}

.ya-share2__item_service_messenger .ya-share2__badge
{
    background-color: #03CECE;
}

.ya-share2__item_service_messenger .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.643 11.415L7.723 4.636a.703.703 0 00-1.048.62v1.826s3.961 1.542 4.284 1.662a.457.457 0 01.343.54c-.058.144-.18.128-.533.042-.352-.085-5.505-1.368-5.505-1.368a.62.62 0 00-.715.847l1.077 2.563s6.949.29 7.199.305c.247.015.393.134.397.327-.004.194-.15.312-.397.327-.25.014-7.199.305-7.199.305L4.55 15.196a.62.62 0 00.715.846s5.153-1.283 5.505-1.368c.353-.086.475-.102.533.042a.457.457 0 01-.343.54c-.323.12-4.284 1.663-4.284 1.663v1.825a.703.703 0 001.048.62l11.92-6.78a.658.658 0 000-1.169z' fill='%23FFF'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_messenger .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.643 11.415L7.723 4.636a.703.703 0 00-1.048.62v1.826s3.961 1.542 4.284 1.662a.457.457 0 01.343.54c-.058.144-.18.128-.533.042-.352-.085-5.505-1.368-5.505-1.368a.62.62 0 00-.715.847l1.077 2.563s6.949.29 7.199.305c.247.015.393.134.397.327-.004.194-.15.312-.397.327-.25.014-7.199.305-7.199.305L4.55 15.196a.62.62 0 00.715.846s5.153-1.283 5.505-1.368c.353-.086.475-.102.533.042a.457.457 0 01-.343.54c-.323.12-4.284 1.663-4.284 1.663v1.825a.703.703 0 001.048.62l11.92-6.78a.658.658 0 000-1.169z' fill='%23000'/%3E%3C/svg%3E");
}

.ya-share2__item_service_moimir .ya-share2__badge
{
    background-color: #168de2;
}

.ya-share2__item_service_moimir .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.889 9.667a1.333 1.333 0 100-2.667 1.333 1.333 0 000 2.667zm6.222 0a1.333 1.333 0 100-2.667 1.333 1.333 0 000 2.667zm4.77 6.108l-1.802-3.028a.879.879 0 00-1.188-.307.843.843 0 00-.313 1.166l.214.36a6.71 6.71 0 01-4.795 1.996 6.711 6.711 0 01-4.792-1.992l.217-.364a.844.844 0 00-.313-1.166.878.878 0 00-1.189.307l-1.8 3.028a.844.844 0 00.312 1.166.88.88 0 001.189-.307l.683-1.147a8.466 8.466 0 005.694 2.18 8.463 8.463 0 005.698-2.184l.685 1.151a.873.873 0 001.189.307.844.844 0 00.312-1.166z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_moimir .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.889 9.667a1.333 1.333 0 100-2.667 1.333 1.333 0 000 2.667zm6.222 0a1.333 1.333 0 100-2.667 1.333 1.333 0 000 2.667zm4.77 6.108l-1.802-3.028a.879.879 0 00-1.188-.307.843.843 0 00-.313 1.166l.214.36a6.71 6.71 0 01-4.795 1.996 6.711 6.711 0 01-4.792-1.992l.217-.364a.844.844 0 00-.313-1.166.878.878 0 00-1.189.307l-1.8 3.028a.844.844 0 00.312 1.166.88.88 0 001.189-.307l.683-1.147a8.466 8.466 0 005.694 2.18 8.463 8.463 0 005.698-2.184l.685 1.151a.873.873 0 001.189.307.844.844 0 00.312-1.166z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_odnoklassniki .ya-share2__badge
{
    background-color: #eb722e;
}

.ya-share2__item_service_odnoklassniki .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.674 6.536a1.69 1.69 0 00-1.688 1.688c0 .93.757 1.687 1.688 1.687a1.69 1.69 0 001.688-1.687 1.69 1.69 0 00-1.688-1.688zm0 5.763a4.08 4.08 0 01-4.076-4.075 4.08 4.08 0 014.076-4.077 4.08 4.08 0 014.077 4.077 4.08 4.08 0 01-4.077 4.075zm-1.649 3.325a7.633 7.633 0 01-2.367-.98 1.194 1.194 0 011.272-2.022 5.175 5.175 0 005.489 0 1.194 1.194 0 111.272 2.022 7.647 7.647 0 01-2.367.98l2.279 2.28a1.194 1.194 0 01-1.69 1.688l-2.238-2.24-2.24 2.24a1.193 1.193 0 11-1.689-1.689l2.279-2.279' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_odnoklassniki .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.674 6.536a1.69 1.69 0 00-1.688 1.688c0 .93.757 1.687 1.688 1.687a1.69 1.69 0 001.688-1.687 1.69 1.69 0 00-1.688-1.688zm0 5.763a4.08 4.08 0 01-4.076-4.075 4.08 4.08 0 014.076-4.077 4.08 4.08 0 014.077 4.077 4.08 4.08 0 01-4.077 4.075zm-1.649 3.325a7.633 7.633 0 01-2.367-.98 1.194 1.194 0 011.272-2.022 5.175 5.175 0 005.489 0 1.194 1.194 0 111.272 2.022 7.647 7.647 0 01-2.367.98l2.279 2.28a1.194 1.194 0 01-1.69 1.688l-2.238-2.24-2.24 2.24a1.193 1.193 0 11-1.689-1.689l2.279-2.279' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_pinterest .ya-share2__badge
{
    background-color: #c20724;
}

.ya-share2__item_service_pinterest .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 9.742c0 1.58.599 2.986 1.884 3.51.21.087.4.003.46-.23.043-.16.144-.568.189-.738.06-.23.037-.31-.133-.512-.37-.436-.608-1.001-.608-1.802 0-2.322 1.74-4.402 4.53-4.402 2.471 0 3.829 1.508 3.829 3.522 0 2.65-1.174 4.887-2.917 4.887-.963 0-1.683-.795-1.452-1.77.276-1.165.812-2.421.812-3.262 0-.752-.405-1.38-1.24-1.38-.985 0-1.775 1.017-1.775 2.38 0 .867.293 1.454.293 1.454L8.69 16.406c-.352 1.487-.053 3.309-.028 3.492.015.11.155.136.22.054.09-.119 1.262-1.564 1.66-3.008.113-.409.647-2.526.647-2.526.32.61 1.254 1.145 2.248 1.145 2.957 0 4.964-2.693 4.964-6.298C18.4 6.539 16.089 4 12.576 4 8.204 4 6 7.13 6 9.742z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_pinterest .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6 9.742c0 1.58.599 2.986 1.884 3.51.21.087.4.003.46-.23.043-.16.144-.568.189-.738.06-.23.037-.31-.133-.512-.37-.436-.608-1.001-.608-1.802 0-2.322 1.74-4.402 4.53-4.402 2.471 0 3.829 1.508 3.829 3.522 0 2.65-1.174 4.887-2.917 4.887-.963 0-1.683-.795-1.452-1.77.276-1.165.812-2.421.812-3.262 0-.752-.405-1.38-1.24-1.38-.985 0-1.775 1.017-1.775 2.38 0 .867.293 1.454.293 1.454L8.69 16.406c-.352 1.487-.053 3.309-.028 3.492.015.11.155.136.22.054.09-.119 1.262-1.564 1.66-3.008.113-.409.647-2.526.647-2.526.32.61 1.254 1.145 2.248 1.145 2.957 0 4.964-2.693 4.964-6.298C18.4 6.539 16.089 4 12.576 4 8.204 4 6 7.13 6 9.742z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_pocket .ya-share2__badge
{
    background-color: #ee4056;
}

.ya-share2__item_service_pocket .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.9 5c1.159 0 2.1.948 2.1 2.117v5.862c0 .108-.008.215-.024.32.016.156.024.314.024.473 0 3.36-3.582 6.085-8 6.085s-8-2.724-8-6.085c0-.159.008-.317.024-.473a2.148 2.148 0 01-.024-.32V7.117C4 5.948 4.94 5 6.1 5h11.8zM8.596 9.392L12 12.795l3.404-3.403a1.063 1.063 0 011.502 1.502l-4.132 4.131c-.21.21-.486.314-.76.311a1.062 1.062 0 01-.788-.31l-4.132-4.132a1.063 1.063 0 011.502-1.502z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_pocket .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.9 5c1.159 0 2.1.948 2.1 2.117v5.862c0 .108-.008.215-.024.32.016.156.024.314.024.473 0 3.36-3.582 6.085-8 6.085s-8-2.724-8-6.085c0-.159.008-.317.024-.473a2.148 2.148 0 01-.024-.32V7.117C4 5.948 4.94 5 6.1 5h11.8zM8.596 9.392L12 12.795l3.404-3.403a1.063 1.063 0 011.502 1.502l-4.132 4.131c-.21.21-.486.314-.76.311a1.062 1.062 0 01-.788-.31l-4.132-4.132a1.063 1.063 0 011.502-1.502z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_qzone .ya-share2__badge
{
    background-color: #f5b53c;
}

.ya-share2__item_service_qzone .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.367 14.463s-.105.148-.457.299l-.553.222.597 3.273c.062.282.25.983-.082 1.062-.17.04-.307-.067-.395-.121l-.769-.445-2.675-1.545c-.204-.122-.78-.546-1.093-.489-.205.038-.336.127-.483.216l-.77.445-2.39 1.386-.883.508c-.123.06-.301.058-.394-.025-.07-.063-.09-.253-.063-.388l.19-1.004.572-3.02c.047-.2.237-.975.166-1.137-.048-.107-.173-.196-.261-.267l-.61-.565-2.13-1.983c-.189-.153-.345-.345-.533-.496l-.235-.216c-.062-.078-.165-.235-.09-.369.142-.248.974-.218 1.335-.28l2.682-.31.82-.09c.146-.024.299-.004.413-.063.239-.123.51-.809.636-1.087l1.31-2.714c.151-.297.286-.603.431-.896.075-.15.133-.308.305-.356.162-.045.257.105.312.178.177.235.325.685.451.973l1.29 2.853c.104.238.363.964.54 1.074.266.166.858.108 1.227.172l2.841.292c.355.062 1.245.01 1.36.267.076.17-.072.314-.152.394l-.864.814-1.983 1.868c-.185.164-.77.637-.833.858-.04.14.02.414.088.722a95.62 95.62 0 01-1.182-.029c-.63-.007-2.616-.17-2.713-.178l-.84-.076c-.14-.023-.326.012-.4-.076v-.02c1.727-1.168 3.407-2.416 5.142-3.578l-.006-.044c-.146-.072-.359-.059-.54-.095-.385-.077-.79-.078-1.208-.147-.75-.124-1.59-.114-2.434-.114-1.172 0-2.329.03-3.35.21-.45.079-.894.095-1.309.197-.172.042-.358.03-.49.108l.007.012c.1.027.253.02.381.02l.928.019.808.025.813.032.591.032c.486.075 1.007.036 1.475.114.404.068.804.065 1.182.14.113.022.245.015.33.064v.006c-.039.094-.336.255-.432.318l-1.055.743-2.256 1.62-1.417.992c.003.048.024.035.045.061 1.15.167 2.52.258 3.77.262 1.298.005 2.465-.094 3.118-.193.561-.086 1.082-.147 1.653-.287.325-.08.521-.148.521-.148z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_qzone .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.367 14.463s-.105.148-.457.299l-.553.222.597 3.273c.062.282.25.983-.082 1.062-.17.04-.307-.067-.395-.121l-.769-.445-2.675-1.545c-.204-.122-.78-.546-1.093-.489-.205.038-.336.127-.483.216l-.77.445-2.39 1.386-.883.508c-.123.06-.301.058-.394-.025-.07-.063-.09-.253-.063-.388l.19-1.004.572-3.02c.047-.2.237-.975.166-1.137-.048-.107-.173-.196-.261-.267l-.61-.565-2.13-1.983c-.189-.153-.345-.345-.533-.496l-.235-.216c-.062-.078-.165-.235-.09-.369.142-.248.974-.218 1.335-.28l2.682-.31.82-.09c.146-.024.299-.004.413-.063.239-.123.51-.809.636-1.087l1.31-2.714c.151-.297.286-.603.431-.896.075-.15.133-.308.305-.356.162-.045.257.105.312.178.177.235.325.685.451.973l1.29 2.853c.104.238.363.964.54 1.074.266.166.858.108 1.227.172l2.841.292c.355.062 1.245.01 1.36.267.076.17-.072.314-.152.394l-.864.814-1.983 1.868c-.185.164-.77.637-.833.858-.04.14.02.414.088.722a95.62 95.62 0 01-1.182-.029c-.63-.007-2.616-.17-2.713-.178l-.84-.076c-.14-.023-.326.012-.4-.076v-.02c1.727-1.168 3.407-2.416 5.142-3.578l-.006-.044c-.146-.072-.359-.059-.54-.095-.385-.077-.79-.078-1.208-.147-.75-.124-1.59-.114-2.434-.114-1.172 0-2.329.03-3.35.21-.45.079-.894.095-1.309.197-.172.042-.358.03-.49.108l.007.012c.1.027.253.02.381.02l.928.019.808.025.813.032.591.032c.486.075 1.007.036 1.475.114.404.068.804.065 1.182.14.113.022.245.015.33.064v.006c-.039.094-.336.255-.432.318l-1.055.743-2.256 1.62-1.417.992c.003.048.024.035.045.061 1.15.167 2.52.258 3.77.262 1.298.005 2.465-.094 3.118-.193.561-.086 1.082-.147 1.653-.287.325-.08.521-.148.521-.148z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_reddit .ya-share2__badge
{
    background-color: #ff4500;
}

.ya-share2__item_service_reddit .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.542 10.63c-1.105-.636-2.494-1.033-4.025-1.118l.808-2.393 2.182.637c0 .963.78 1.742 1.743 1.742.964 0 1.758-.779 1.758-1.742C19.008 6.78 18.214 6 17.25 6c-.609 0-1.148.326-1.459.793l-2.65-.764a.482.482 0 00-.61.311l-1.063 3.172c-1.516.085-2.905.482-4.01 1.119a1.987 1.987 0 00-1.46-.623A1.995 1.995 0 004 12.004c0 .75.425 1.403 1.035 1.742-.029.17-.043.34-.043.51 0 2.62 3.146 4.744 7.015 4.744 3.855 0 7-2.124 7-4.744 0-.17-.013-.34-.042-.51A1.974 1.974 0 0020 12.004a1.995 1.995 0 00-1.998-1.996 2.01 2.01 0 00-1.46.623zM9.499 12.5a1.01 1.01 0 011.006 1.006.998.998 0 01-1.006.991.986.986 0 01-.992-.991.997.997 0 01.992-1.006zm5.002 0a.998.998 0 00-.992 1.006c0 .552.44.991.992.991a.998.998 0 001.006-.991 1.01 1.01 0 00-1.006-1.006zm-5.3 3.597a.484.484 0 01-.085-.694c.156-.226.482-.255.694-.085.567.44 1.474.68 2.197.68.709 0 1.616-.24 2.197-.68a.484.484 0 01.694.085.496.496 0 01-.085.694c-.737.58-1.885.907-2.806.907-.935 0-2.07-.326-2.806-.907zm8.05-7.59a.757.757 0 01-.752-.75c0-.426.34-.752.751-.752s.752.326.752.751c0 .41-.34.75-.752.75z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_reddit .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.542 10.63c-1.105-.636-2.494-1.033-4.025-1.118l.808-2.393 2.182.637c0 .963.78 1.742 1.743 1.742.964 0 1.758-.779 1.758-1.742C19.008 6.78 18.214 6 17.25 6c-.609 0-1.148.326-1.459.793l-2.65-.764a.482.482 0 00-.61.311l-1.063 3.172c-1.516.085-2.905.482-4.01 1.119a1.987 1.987 0 00-1.46-.623A1.995 1.995 0 004 12.004c0 .75.425 1.403 1.035 1.742-.029.17-.043.34-.043.51 0 2.62 3.146 4.744 7.015 4.744 3.855 0 7-2.124 7-4.744 0-.17-.013-.34-.042-.51A1.974 1.974 0 0020 12.004a1.995 1.995 0 00-1.998-1.996 2.01 2.01 0 00-1.46.623zM9.499 12.5a1.01 1.01 0 011.006 1.006.998.998 0 01-1.006.991.986.986 0 01-.992-.991.997.997 0 01.992-1.006zm5.002 0a.998.998 0 00-.992 1.006c0 .552.44.991.992.991a.998.998 0 001.006-.991 1.01 1.01 0 00-1.006-1.006zm-5.3 3.597a.484.484 0 01-.085-.694c.156-.226.482-.255.694-.085.567.44 1.474.68 2.197.68.709 0 1.616-.24 2.197-.68a.484.484 0 01.694.085.496.496 0 01-.085.694c-.737.58-1.885.907-2.806.907-.935 0-2.07-.326-2.806-.907zm8.05-7.59a.757.757 0 01-.752-.75c0-.426.34-.752.751-.752s.752.326.752.751c0 .41-.34.75-.752.75z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_renren .ya-share2__badge
{
    background-color: #1760a7;
}

.ya-share2__item_service_renren .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.019 15.562l-.001-.003-.018.002a.055.055 0 00.019.001zM7.71 12.398l.146-.68c.048-.205.03-.452.03-.692V9.812L7.88 8c-.139 0-.278.043-.393.076-.358.102-.666.201-.962.352-1.158.59-2.022 1.565-2.387 2.944-.343 1.297-.007 2.652.522 3.507.118.19.269.48.44.61.135-.02.272-.15.375-.217a6.06 6.06 0 00.622-.452l.24-.229c.63-.506 1.075-1.346 1.373-2.193zm4.276 3.164h.02a.382.382 0 00-.019-.003v.003zm-3.01-.888l-.258-.575-.088-.264h-.01l-.264.498c-.176.288-.358.574-.557.839a6.5 6.5 0 01-.85.944l-.517.422.012.024.287.14c.206.091.43.173.657.235.788.217 1.811.177 2.545-.053.178-.055.643-.194.739-.305v-.017c-.177-.092-.324-.254-.47-.381a5.573 5.573 0 01-1.225-1.507zm10.884-3.302c-.365-1.379-1.23-2.354-2.387-2.944a5.277 5.277 0 00-.962-.352c-.115-.033-.254-.077-.393-.076l-.005 1.812v1.214c0 .24-.019.487.029.692l.147.68c.297.847.741 1.687 1.372 2.193l.24.23c.196.164.402.309.622.45.103.067.24.198.375.218.171-.13.322-.42.44-.61.529-.855.865-2.21.522-3.507zm-3.66 3.8c-.2-.265-.381-.55-.557-.839l-.264-.498h-.011l-.088.264-.258.575a5.576 5.576 0 01-1.226 1.507c-.145.127-.292.29-.469.38v.018c.096.111.561.25.739.305.734.23 1.757.27 2.545.053a4.85 4.85 0 00.657-.234l.287-.141a1.31 1.31 0 00.012-.024l-.516-.422a6.5 6.5 0 01-.85-.944zm-1.653-2.727c.068-.192.097-.402.146-.61.05-.21.024-.484.024-.727V9.753l-.006-1.741c-.015-.008-.02-.01-.047-.012-.197.047-.326.05-.592.14-.357.102-.685.275-.985.44-.289.16-.53.388-.78.587-.097.077-.199.19-.308.312l.01.01a1.19 1.19 0 00-.01.012l.36.47c.232.359.445.763.581 1.213.326 1.079.182 2.411-.235 3.273a4.9 4.9 0 01-.445.75l-.258.323a.018.018 0 01-.003.007c.004.007.01.016.012.022h.008c.395-.215.686-.574 1.027-.844.189-.15.354-.35.504-.54.404-.514.755-1.046.997-1.73zm-2.55 3.085l-.259-.323a4.903 4.903 0 01-.445-.75c-.417-.862-.561-2.194-.235-3.273.136-.45.35-.854.58-1.214L12 9.501l-.01-.011.01-.01a2.791 2.791 0 00-.308-.313c-.25-.2-.491-.427-.78-.586-.3-.166-.628-.339-.985-.44-.266-.09-.395-.094-.592-.141a.083.083 0 00-.047.012l-.006 1.741v1.355c0 .243-.026.517.024.727.049.208.078.418.146.61.242.684.593 1.216.997 1.73.15.19.315.39.505.54.34.27.63.629 1.026.844h.008c.001-.006.008-.015.012-.022a.019.019 0 01-.003-.007z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_renren .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.019 15.562l-.001-.003-.018.002a.055.055 0 00.019.001zM7.71 12.398l.146-.68c.048-.205.03-.452.03-.692V9.812L7.88 8c-.139 0-.278.043-.393.076-.358.102-.666.201-.962.352-1.158.59-2.022 1.565-2.387 2.944-.343 1.297-.007 2.652.522 3.507.118.19.269.48.44.61.135-.02.272-.15.375-.217a6.06 6.06 0 00.622-.452l.24-.229c.63-.506 1.075-1.346 1.373-2.193zm4.276 3.164h.02a.382.382 0 00-.019-.003v.003zm-3.01-.888l-.258-.575-.088-.264h-.01l-.264.498c-.176.288-.358.574-.557.839a6.5 6.5 0 01-.85.944l-.517.422.012.024.287.14c.206.091.43.173.657.235.788.217 1.811.177 2.545-.053.178-.055.643-.194.739-.305v-.017c-.177-.092-.324-.254-.47-.381a5.573 5.573 0 01-1.225-1.507zm10.884-3.302c-.365-1.379-1.23-2.354-2.387-2.944a5.277 5.277 0 00-.962-.352c-.115-.033-.254-.077-.393-.076l-.005 1.812v1.214c0 .24-.019.487.029.692l.147.68c.297.847.741 1.687 1.372 2.193l.24.23c.196.164.402.309.622.45.103.067.24.198.375.218.171-.13.322-.42.44-.61.529-.855.865-2.21.522-3.507zm-3.66 3.8c-.2-.265-.381-.55-.557-.839l-.264-.498h-.011l-.088.264-.258.575a5.576 5.576 0 01-1.226 1.507c-.145.127-.292.29-.469.38v.018c.096.111.561.25.739.305.734.23 1.757.27 2.545.053a4.85 4.85 0 00.657-.234l.287-.141a1.31 1.31 0 00.012-.024l-.516-.422a6.5 6.5 0 01-.85-.944zm-1.653-2.727c.068-.192.097-.402.146-.61.05-.21.024-.484.024-.727V9.753l-.006-1.741c-.015-.008-.02-.01-.047-.012-.197.047-.326.05-.592.14-.357.102-.685.275-.985.44-.289.16-.53.388-.78.587-.097.077-.199.19-.308.312l.01.01a1.19 1.19 0 00-.01.012l.36.47c.232.359.445.763.581 1.213.326 1.079.182 2.411-.235 3.273a4.9 4.9 0 01-.445.75l-.258.323a.018.018 0 01-.003.007c.004.007.01.016.012.022h.008c.395-.215.686-.574 1.027-.844.189-.15.354-.35.504-.54.404-.514.755-1.046.997-1.73zm-2.55 3.085l-.259-.323a4.903 4.903 0 01-.445-.75c-.417-.862-.561-2.194-.235-3.273.136-.45.35-.854.58-1.214L12 9.501l-.01-.011.01-.01a2.791 2.791 0 00-.308-.313c-.25-.2-.491-.427-.78-.586-.3-.166-.628-.339-.985-.44-.266-.09-.395-.094-.592-.141a.083.083 0 00-.047.012l-.006 1.741v1.355c0 .243-.026.517.024.727.049.208.078.418.146.61.242.684.593 1.216.997 1.73.15.19.315.39.505.54.34.27.63.629 1.026.844h.008c.001-.006.008-.015.012-.022a.019.019 0 01-.003-.007z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_sinaWeibo .ya-share2__badge
{
    background-color: #c53220;
}

.ya-share2__item_service_sinaWeibo .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.266 14.696c-.103.421.55.447.64.063.037-.191-.103-.332-.282-.332-.167 0-.333.128-.358.269zm-.128.945c.102-.498-.307-.869-.793-.843-.46.038-.843.358-.92.754-.115.511.307.882.793.844.46-.026.843-.345.92-.755zm3.797-3.157c-1.586-.997-3.707-1.01-5.42-.447-.857.28-1.764.818-2.301 1.495-.627.793-.882 1.815-.23 2.8.958 1.431 3.413 2.033 5.675 1.508 1.33-.307 2.749-1.048 3.35-2.326.562-1.177-.052-2.378-1.074-3.03zm-3.17.498c.945.167 1.7.755 1.827 1.739.243 1.854-2.173 3.336-4.026 2.327a1.933 1.933 0 01-.742-2.723c.435-.767 1.266-1.266 2.148-1.355a2.75 2.75 0 01.793.012zm6.11-.37c-.268-.18-.538-.281-.856-.383-.308-.103-.359-.154-.243-.46.076-.218.14-.41.166-.666.14-1.15-.793-1.495-1.854-1.406-.498.039-.92.167-1.355.307-.281.09-.806.384-.92.205-.064-.09.013-.23.038-.32.166-.626.23-1.496-.384-1.88-.447-.28-1.227-.204-1.7-.038-2.556.87-6.455 4.552-5.663 7.479.18.664.55 1.163.908 1.521 1.061 1.061 2.71 1.65 4.231 1.866 1.112.154 2.263.14 3.375-.064 1.815-.332 3.554-1.15 4.679-2.607.754-.972.997-2.352 0-3.235a3.334 3.334 0 00-.422-.319zm1.623-3.682c.652 1.483-.064 2.148.166 2.66.192.421.767.46 1.023.14.191-.243.294-.959.307-1.278a4.193 4.193 0 00-1.125-3.12c-.984-1.073-2.276-1.444-3.694-1.303-.256.025-.46.064-.601.217-.332.358-.166.882.294.959.384.063 1.342-.23 2.416.396.498.307.971.792 1.214 1.33zm-3.45-.562c-.282.345-.078.87.408.856.294-.012.358-.05.677.051.307.103.626.448.64.857.025.268-.282.895.32 1.061a.523.523 0 00.536-.166c.115-.128.166-.371.192-.575.089-.857-.333-1.598-1.01-2.02-.384-.23-1.445-.46-1.764-.064z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_sinaWeibo .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.266 14.696c-.103.421.55.447.64.063.037-.191-.103-.332-.282-.332-.167 0-.333.128-.358.269zm-.128.945c.102-.498-.307-.869-.793-.843-.46.038-.843.358-.92.754-.115.511.307.882.793.844.46-.026.843-.345.92-.755zm3.797-3.157c-1.586-.997-3.707-1.01-5.42-.447-.857.28-1.764.818-2.301 1.495-.627.793-.882 1.815-.23 2.8.958 1.431 3.413 2.033 5.675 1.508 1.33-.307 2.749-1.048 3.35-2.326.562-1.177-.052-2.378-1.074-3.03zm-3.17.498c.945.167 1.7.755 1.827 1.739.243 1.854-2.173 3.336-4.026 2.327a1.933 1.933 0 01-.742-2.723c.435-.767 1.266-1.266 2.148-1.355a2.75 2.75 0 01.793.012zm6.11-.37c-.268-.18-.538-.281-.856-.383-.308-.103-.359-.154-.243-.46.076-.218.14-.41.166-.666.14-1.15-.793-1.495-1.854-1.406-.498.039-.92.167-1.355.307-.281.09-.806.384-.92.205-.064-.09.013-.23.038-.32.166-.626.23-1.496-.384-1.88-.447-.28-1.227-.204-1.7-.038-2.556.87-6.455 4.552-5.663 7.479.18.664.55 1.163.908 1.521 1.061 1.061 2.71 1.65 4.231 1.866 1.112.154 2.263.14 3.375-.064 1.815-.332 3.554-1.15 4.679-2.607.754-.972.997-2.352 0-3.235a3.334 3.334 0 00-.422-.319zm1.623-3.682c.652 1.483-.064 2.148.166 2.66.192.421.767.46 1.023.14.191-.243.294-.959.307-1.278a4.193 4.193 0 00-1.125-3.12c-.984-1.073-2.276-1.444-3.694-1.303-.256.025-.46.064-.601.217-.332.358-.166.882.294.959.384.063 1.342-.23 2.416.396.498.307.971.792 1.214 1.33zm-3.45-.562c-.282.345-.078.87.408.856.294-.012.358-.05.677.051.307.103.626.448.64.857.025.268-.282.895.32 1.061a.523.523 0 00.536-.166c.115-.128.166-.371.192-.575.089-.857-.333-1.598-1.01-2.02-.384-.23-1.445-.46-1.764-.064z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_skype .ya-share2__badge
{
    background-color: #00aff0;
}

.ya-share2__item_service_skype .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.537 13.698c.115-.52.176-1.06.176-1.614 0-4.155-3.415-7.524-7.63-7.524-.444 0-.88.038-1.304.11A4.444 4.444 0 008.425 4C5.981 4 4 5.954 4 8.364c0 .805.222 1.56.608 2.207a7.428 7.428 0 00-.155 1.513c0 4.156 3.416 7.4 7.63 7.4.477 0 .944-.044 1.397-.126.623.33 1.335.642 2.092.642 2.444 0 4.425-1.953 4.425-4.364a4.3 4.3 0 00-.46-1.938zm-3.974 1.457c-.294.418-.725.747-1.293.984-.567.238-1.239.356-2.016.356-.933 0-1.702-.162-2.308-.486a2.986 2.986 0 01-1.047-.934c-.268-.39-.403-.768-.403-1.137 0-.213.08-.395.242-.547a.855.855 0 01.615-.229.76.76 0 01.512.178c.14.119.26.294.358.527.12.278.25.51.39.695.139.185.336.34.589.46.254.12.587.18 1 .18.566 0 1.027-.12 1.382-.364.354-.243.532-.547.532-.91a.919.919 0 00-.287-.702 1.88 1.88 0 00-.741-.412 13.21 13.21 0 00-1.216-.303c-.678-.146-1.247-.318-1.703-.513-.458-.196-.822-.463-1.09-.8-.269-.34-.403-.759-.403-1.26 0-.48.142-.904.426-1.275.283-.372.693-.658 1.23-.858.537-.2 1.17-.299 1.895-.299.58 0 1.082.066 1.505.198.423.133.774.309 1.053.528.28.22.484.45.612.691.13.24.194.477.194.705 0 .21-.08.4-.241.567a.8.8 0 01-.603.252c-.22 0-.386-.05-.5-.151-.114-.101-.237-.266-.37-.495a2.27 2.27 0 00-.618-.768c-.241-.184-.627-.276-1.16-.276-.494 0-.893.1-1.196.3-.303.199-.455.44-.455.72 0 .173.053.324.155.45.103.128.245.235.426.326.18.091.363.162.547.214.185.052.49.126.916.225a15.47 15.47 0 011.446.38c.432.138.8.307 1.103.503.302.198.54.45.709.752.17.302.255.673.255 1.111 0 .525-.148.998-.442 1.417z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_skype .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.537 13.698c.115-.52.176-1.06.176-1.614 0-4.155-3.415-7.524-7.63-7.524-.444 0-.88.038-1.304.11A4.444 4.444 0 008.425 4C5.981 4 4 5.954 4 8.364c0 .805.222 1.56.608 2.207a7.428 7.428 0 00-.155 1.513c0 4.156 3.416 7.4 7.63 7.4.477 0 .944-.044 1.397-.126.623.33 1.335.642 2.092.642 2.444 0 4.425-1.953 4.425-4.364a4.3 4.3 0 00-.46-1.938zm-3.974 1.457c-.294.418-.725.747-1.293.984-.567.238-1.239.356-2.016.356-.933 0-1.702-.162-2.308-.486a2.986 2.986 0 01-1.047-.934c-.268-.39-.403-.768-.403-1.137 0-.213.08-.395.242-.547a.855.855 0 01.615-.229.76.76 0 01.512.178c.14.119.26.294.358.527.12.278.25.51.39.695.139.185.336.34.589.46.254.12.587.18 1 .18.566 0 1.027-.12 1.382-.364.354-.243.532-.547.532-.91a.919.919 0 00-.287-.702 1.88 1.88 0 00-.741-.412 13.21 13.21 0 00-1.216-.303c-.678-.146-1.247-.318-1.703-.513-.458-.196-.822-.463-1.09-.8-.269-.34-.403-.759-.403-1.26 0-.48.142-.904.426-1.275.283-.372.693-.658 1.23-.858.537-.2 1.17-.299 1.895-.299.58 0 1.082.066 1.505.198.423.133.774.309 1.053.528.28.22.484.45.612.691.13.24.194.477.194.705 0 .21-.08.4-.241.567a.8.8 0 01-.603.252c-.22 0-.386-.05-.5-.151-.114-.101-.237-.266-.37-.495a2.27 2.27 0 00-.618-.768c-.241-.184-.627-.276-1.16-.276-.494 0-.893.1-1.196.3-.303.199-.455.44-.455.72 0 .173.053.324.155.45.103.128.245.235.426.326.18.091.363.162.547.214.185.052.49.126.916.225a15.47 15.47 0 011.446.38c.432.138.8.307 1.103.503.302.198.54.45.709.752.17.302.255.673.255 1.111 0 .525-.148.998-.442 1.417z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_surfingbird .ya-share2__badge
{
    background-color: #30baff;
}

.ya-share2__item_service_surfingbird .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.315 8.49l-.214 1.987-3.436 3.382h-1.826l-.698 1.826v2.523l-2.47-.698 2.846-5.1L4 8.167l5.638.752L6.899 5l7.463 4.027 2.202-2.47h1.02L20 7.631z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_surfingbird .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M17.315 8.49l-.214 1.987-3.436 3.382h-1.826l-.698 1.826v2.523l-2.47-.698 2.846-5.1L4 8.167l5.638.752L6.899 5l7.463 4.027 2.202-2.47h1.02L20 7.631z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_telegram .ya-share2__badge
{
    background-color: #64a9dc;
}

.ya-share2__item_service_telegram .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.92 6.089L4.747 11.555c-.967.388-.962.928-.176 1.168l3.534 1.104 1.353 4.146c.164.454.083.634.56.634.368 0 .53-.168.736-.368.13-.127.903-.88 1.767-1.719l3.677 2.717c.676.373 1.165.18 1.333-.628l2.414-11.374c.247-.99-.378-1.44-1.025-1.146zM8.66 13.573l7.967-5.026c.398-.242.763-.112.463.154l-6.822 6.155-.265 2.833-1.343-4.116z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_telegram .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.92 6.089L4.747 11.555c-.967.388-.962.928-.176 1.168l3.534 1.104 1.353 4.146c.164.454.083.634.56.634.368 0 .53-.168.736-.368.13-.127.903-.88 1.767-1.719l3.677 2.717c.676.373 1.165.18 1.333-.628l2.414-11.374c.247-.99-.378-1.44-1.025-1.146zM8.66 13.573l7.967-5.026c.398-.242.763-.112.463.154l-6.822 6.155-.265 2.833-1.343-4.116z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_tencentWeibo .ya-share2__badge
{
    background-color: #53a9d7;
}

.ya-share2__item_service_tencentWeibo .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.813 6.01a4.397 4.397 0 00-4.326 6.121c.087.199.312.29.511.2a.382.382 0 00.206-.51 3.566 3.566 0 01-.286-1.668A3.616 3.616 0 018.76 6.79a3.615 3.615 0 013.366 3.84 3.615 3.615 0 01-4.65 3.218.39.39 0 00-.486.263.394.394 0 00.262.485c.315.093.647.152.977.174a4.397 4.397 0 004.677-4.087A4.398 4.398 0 008.813 6.01zm-1.348 5.658a1.67 1.67 0 10-.46-.655c-.274.27-.565.59-.854.966-1.022 1.315-2.224 3.694-2.148 7.007.006.204.157.484.355.497l.04.002c.213.015.394-.301.391-.516-.064-2.458.6-4.662 1.955-6.423.242-.316.488-.626.72-.878zm12.388 4.106c-1.307-.48-2.302-1.27-2.95-2.352a4.873 4.873 0 01-.354-.71.819.819 0 00.337-.36.829.829 0 00-.395-1.098.822.822 0 00-1.098.392.822.822 0 00.724 1.177c.091.237.218.516.39.81.483.812 1.431 1.912 3.196 2.558a.226.226 0 00.278-.113c0-.006.005-.01.007-.022a.224.224 0 00-.135-.282zm-3.767-1.676a2.04 2.04 0 01-1.707-3.042 2.039 2.039 0 012.784-.787 2.04 2.04 0 01.786 2.783 1.92 1.92 0 01-.268.378.223.223 0 00.014.314c.09.082.234.074.313-.016a2.489 2.489 0 10-4.017-2.89 2.493 2.493 0 002.08 3.708.224.224 0 00.015-.448z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_tencentWeibo .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.813 6.01a4.397 4.397 0 00-4.326 6.121c.087.199.312.29.511.2a.382.382 0 00.206-.51 3.566 3.566 0 01-.286-1.668A3.616 3.616 0 018.76 6.79a3.615 3.615 0 013.366 3.84 3.615 3.615 0 01-4.65 3.218.39.39 0 00-.486.263.394.394 0 00.262.485c.315.093.647.152.977.174a4.397 4.397 0 004.677-4.087A4.398 4.398 0 008.813 6.01zm-1.348 5.658a1.67 1.67 0 10-.46-.655c-.274.27-.565.59-.854.966-1.022 1.315-2.224 3.694-2.148 7.007.006.204.157.484.355.497l.04.002c.213.015.394-.301.391-.516-.064-2.458.6-4.662 1.955-6.423.242-.316.488-.626.72-.878zm12.388 4.106c-1.307-.48-2.302-1.27-2.95-2.352a4.873 4.873 0 01-.354-.71.819.819 0 00.337-.36.829.829 0 00-.395-1.098.822.822 0 00-1.098.392.822.822 0 00.724 1.177c.091.237.218.516.39.81.483.812 1.431 1.912 3.196 2.558a.226.226 0 00.278-.113c0-.006.005-.01.007-.022a.224.224 0 00-.135-.282zm-3.767-1.676a2.04 2.04 0 01-1.707-3.042 2.039 2.039 0 012.784-.787 2.04 2.04 0 01.786 2.783 1.92 1.92 0 01-.268.378.223.223 0 00.014.314c.09.082.234.074.313-.016a2.489 2.489 0 10-4.017-2.89 2.493 2.493 0 002.08 3.708.224.224 0 00.015-.448z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_tumblr .ya-share2__badge
{
    background-color: #547093;
}

.ya-share2__item_service_tumblr .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.72 7.7h3.699v2.857h-3.7v4.102c0 .928-.01 1.463.087 1.726.098.262.343.534.61.69.355.213.758.32 1.214.32.81 0 1.616-.264 2.417-.79v2.522c-.683.322-1.302.55-1.857.678a7.94 7.94 0 01-1.798.195 4.905 4.905 0 01-1.724-.276 4.215 4.215 0 01-1.438-.79c-.399-.343-.673-.706-.826-1.09-.154-.386-.23-.945-.23-1.676v-5.611H7V8.29c.628-.203 1.357-.496 1.804-.877.45-.382.809-.84 1.08-1.374.272-.534.459-1.214.56-2.039h2.276v3.7z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_tumblr .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.72 7.7h3.699v2.857h-3.7v4.102c0 .928-.01 1.463.087 1.726.098.262.343.534.61.69.355.213.758.32 1.214.32.81 0 1.616-.264 2.417-.79v2.522c-.683.322-1.302.55-1.857.678a7.94 7.94 0 01-1.798.195 4.905 4.905 0 01-1.724-.276 4.215 4.215 0 01-1.438-.79c-.399-.343-.673-.706-.826-1.09-.154-.386-.23-.945-.23-1.676v-5.611H7V8.29c.628-.203 1.357-.496 1.804-.877.45-.382.809-.84 1.08-1.374.272-.534.459-1.214.56-2.039h2.276v3.7z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_twitter .ya-share2__badge
{
    background-color: #00aced;
}

.ya-share2__item_service_twitter .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 7.539a6.56 6.56 0 01-1.885.517 3.294 3.294 0 001.443-1.816 6.575 6.575 0 01-2.085.796 3.283 3.283 0 00-5.593 2.994A9.32 9.32 0 015.114 6.6a3.28 3.28 0 001.016 4.382 3.274 3.274 0 01-1.487-.41v.041a3.285 3.285 0 002.633 3.218 3.305 3.305 0 01-1.482.056 3.286 3.286 0 003.066 2.28A6.585 6.585 0 014 17.524 9.291 9.291 0 009.032 19c6.038 0 9.34-5 9.34-9.337 0-.143-.004-.285-.01-.425A6.672 6.672 0 0020 7.538z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_twitter .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 7.539a6.56 6.56 0 01-1.885.517 3.294 3.294 0 001.443-1.816 6.575 6.575 0 01-2.085.796 3.283 3.283 0 00-5.593 2.994A9.32 9.32 0 015.114 6.6a3.28 3.28 0 001.016 4.382 3.274 3.274 0 01-1.487-.41v.041a3.285 3.285 0 002.633 3.218 3.305 3.305 0 01-1.482.056 3.286 3.286 0 003.066 2.28A6.585 6.585 0 014 17.524 9.291 9.291 0 009.032 19c6.038 0 9.34-5 9.34-9.337 0-.143-.004-.285-.01-.425A6.672 6.672 0 0020 7.538z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_viber .ya-share2__badge
{
    background-color: #7b519d;
}

.ya-share2__item_service_viber .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23FFF' fill-rule='evenodd'%3E%3Cpath d='M18.434 15.574c-.484-.391-1.002-.743-1.511-1.102-1.016-.718-1.945-.773-2.703.38-.426.648-1.021.677-1.644.392-1.718-.782-3.044-1.989-3.821-3.743-.344-.777-.34-1.473.465-2.022.425-.29.854-.634.82-1.268-.045-.828-2.043-3.593-2.832-3.885a1.429 1.429 0 00-.984 0C4.373 4.95 3.606 6.48 4.34 8.292c2.19 5.405 6.043 9.167 11.349 11.463.302.13.638.183.808.23 1.208.012 2.623-1.158 3.032-2.318.393-1.117-.438-1.56-1.096-2.093zM12.485 4.88c3.879.6 5.668 2.454 6.162 6.38.045.363-.09.909.426.919.538.01.408-.528.413-.89.045-3.699-3.163-7.127-6.888-7.253-.281.04-.863-.195-.9.438-.024.427.466.357.787.406z'/%3E%3Cpath d='M13.244 5.957c-.373-.045-.865-.222-.953.299-.09.546.458.49.811.57 2.395.538 3.23 1.414 3.624 3.802.057.349-.057.89.532.8.436-.066.278-.53.315-.802.02-2.293-1.936-4.38-4.329-4.669z'/%3E%3Cpath d='M13.464 7.832c-.249.006-.493.033-.585.3-.137.4.152.496.446.544.983.158 1.5.74 1.598 1.725.027.268.195.484.452.454.356-.043.389-.361.378-.664.017-1.106-1.227-2.385-2.289-2.359z'/%3E%3C/g%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_viber .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23000' fill-rule='evenodd'%3E%3Cpath d='M18.434 15.574c-.484-.391-1.002-.743-1.511-1.102-1.016-.718-1.945-.773-2.703.38-.426.648-1.021.677-1.644.392-1.718-.782-3.044-1.989-3.821-3.743-.344-.777-.34-1.473.465-2.022.425-.29.854-.634.82-1.268-.045-.828-2.043-3.593-2.832-3.885a1.429 1.429 0 00-.984 0C4.373 4.95 3.606 6.48 4.34 8.292c2.19 5.405 6.043 9.167 11.349 11.463.302.13.638.183.808.23 1.208.012 2.623-1.158 3.032-2.318.393-1.117-.438-1.56-1.096-2.093zM12.485 4.88c3.879.6 5.668 2.454 6.162 6.38.045.363-.09.909.426.919.538.01.408-.528.413-.89.045-3.699-3.163-7.127-6.888-7.253-.281.04-.863-.195-.9.438-.024.427.466.357.787.406z'/%3E%3Cpath d='M13.244 5.957c-.373-.045-.865-.222-.953.299-.09.546.458.49.811.57 2.395.538 3.23 1.414 3.624 3.802.057.349-.057.89.532.8.436-.066.278-.53.315-.802.02-2.293-1.936-4.38-4.329-4.669z'/%3E%3Cpath d='M13.464 7.832c-.249.006-.493.033-.585.3-.137.4.152.496.446.544.983.158 1.5.74 1.598 1.725.027.268.195.484.452.454.356-.043.389-.361.378-.664.017-1.106-1.227-2.385-2.289-2.359z'/%3E%3C/g%3E%3C/svg%3E");
}

.ya-share2__item_service_vkontakte .ya-share2__badge
{
    background-color: #4680c2;
}

.ya-share2__item_service_vkontakte .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.623 7.66c.12-.372 0-.643-.525-.643h-1.745c-.44 0-.644.237-.763.491 0 0-.898 2.17-2.152 3.576-.406.406-.593.542-.813.542-.119 0-.271-.136-.271-.508V7.644c0-.44-.136-.644-.509-.644H10.1c-.27 0-.44.203-.44.407 0 .423.627.525.694 1.711v2.576c0 .559-.101.66-.322.66-.593 0-2.033-2.185-2.897-4.676-.17-.492-.339-.678-.78-.678H4.593C4.085 7 4 7.237 4 7.491c0 .458.593 2.762 2.762 5.813 1.44 2.084 3.49 3.202 5.338 3.202 1.118 0 1.254-.254 1.254-.678v-1.575c0-.509.101-.594.457-.594.254 0 .712.136 1.746 1.136 1.186 1.186 1.39 1.728 2.05 1.728h1.745c.509 0 .746-.254.61-.745-.152-.492-.728-1.203-1.474-2.05-.407-.475-1.017-1-1.203-1.255-.254-.339-.186-.474 0-.78-.017 0 2.118-3.015 2.338-4.032' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_vkontakte .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M19.623 7.66c.12-.372 0-.643-.525-.643h-1.745c-.44 0-.644.237-.763.491 0 0-.898 2.17-2.152 3.576-.406.406-.593.542-.813.542-.119 0-.271-.136-.271-.508V7.644c0-.44-.136-.644-.509-.644H10.1c-.27 0-.44.203-.44.407 0 .423.627.525.694 1.711v2.576c0 .559-.101.66-.322.66-.593 0-2.033-2.185-2.897-4.676-.17-.492-.339-.678-.78-.678H4.593C4.085 7 4 7.237 4 7.491c0 .458.593 2.762 2.762 5.813 1.44 2.084 3.49 3.202 5.338 3.202 1.118 0 1.254-.254 1.254-.678v-1.575c0-.509.101-.594.457-.594.254 0 .712.136 1.746 1.136 1.186 1.186 1.39 1.728 2.05 1.728h1.745c.509 0 .746-.254.61-.745-.152-.492-.728-1.203-1.474-2.05-.407-.475-1.017-1-1.203-1.255-.254-.339-.186-.474 0-.78-.017 0 2.118-3.015 2.338-4.032' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__item_service_whatsapp .ya-share2__badge
{
    background-color: #65bc54;
}

.ya-share2__item_service_whatsapp .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 11.794c0 4.304-3.517 7.794-7.855 7.794a7.87 7.87 0 01-3.796-.97L4 20l1.418-4.182a7.714 7.714 0 01-1.127-4.024C4.29 7.489 7.807 4 12.145 4S20 7.49 20 11.794zm-7.855-6.553c-3.641 0-6.603 2.94-6.603 6.553A6.48 6.48 0 006.8 15.636l-.825 2.433 2.537-.806a6.6 6.6 0 003.633 1.084c3.642 0 6.604-2.94 6.604-6.553s-2.962-6.553-6.604-6.553zm3.967 8.348c-.049-.08-.177-.128-.37-.223-.192-.095-1.139-.558-1.315-.621-.177-.064-.305-.096-.434.095a10.92 10.92 0 01-.61.749c-.112.128-.224.143-.416.048-.193-.096-.813-.297-1.549-.948a5.76 5.76 0 01-1.07-1.323c-.113-.191-.013-.295.084-.39.086-.086.192-.223.289-.334.096-.112.128-.191.192-.319s.032-.239-.016-.335c-.048-.095-.433-1.035-.594-1.418-.16-.382-.32-.318-.433-.318-.112 0-.24-.016-.369-.016a.71.71 0 00-.513.239c-.177.19-.674.653-.674 1.593s.69 1.848.786 1.976c.096.127 1.332 2.119 3.289 2.884 1.958.764 1.958.51 2.31.477.353-.031 1.14-.461 1.3-.908.16-.446.16-.829.113-.908z' fill='%23FFF' fill-rule='evenodd'/%3E%3C/svg%3E");
}

.ya-share2__container_color-scheme_whiteblack .ya-share2__item_service_whatsapp .ya-share2__icon
{
    background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 24 24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M20 11.794c0 4.304-3.517 7.794-7.855 7.794a7.87 7.87 0 01-3.796-.97L4 20l1.418-4.182a7.714 7.714 0 01-1.127-4.024C4.29 7.489 7.807 4 12.145 4S20 7.49 20 11.794zm-7.855-6.553c-3.641 0-6.603 2.94-6.603 6.553A6.48 6.48 0 006.8 15.636l-.825 2.433 2.537-.806a6.6 6.6 0 003.633 1.084c3.642 0 6.604-2.94 6.604-6.553s-2.962-6.553-6.604-6.553zm3.967 8.348c-.049-.08-.177-.128-.37-.223-.192-.095-1.139-.558-1.315-.621-.177-.064-.305-.096-.434.095a10.92 10.92 0 01-.61.749c-.112.128-.224.143-.416.048-.193-.096-.813-.297-1.549-.948a5.76 5.76 0 01-1.07-1.323c-.113-.191-.013-.295.084-.39.086-.086.192-.223.289-.334.096-.112.128-.191.192-.319s.032-.239-.016-.335c-.048-.095-.433-1.035-.594-1.418-.16-.382-.32-.318-.433-.318-.112 0-.24-.016-.369-.016a.71.71 0 00-.513.239c-.177.19-.674.653-.674 1.593s.69 1.848.786 1.976c.096.127 1.332 2.119 3.289 2.884 1.958.764 1.958.51 2.31.477.353-.031 1.14-.461 1.3-.908.16-.446.16-.829.113-.908z' fill='%23000' fill-rule='evenodd'/%3E%3C/svg%3E");
}
</style><link rel="stylesheet" type="text/css" href="chrome-extension://glgemekgfjppocilabhlcbngobillcgf/styles.css"><link rel="prefetch" as="style" href="https://c.disquscdn.com/next/embed/styles/lounge.6525595c7a9874fa10bd041275e40f17.css"><link rel="prefetch" as="script" href="https://c.disquscdn.com/next/embed/common.bundle.9061cdaed1273d430eb02357766a8560.js"><link rel="prefetch" as="script" href="https://c.disquscdn.com/next/embed/lounge.bundle.277f9ff2e410eacf604c2762b3003e57.js"><link rel="prefetch" as="script" href="https://disqus.com/next/config.js"></head>

<body>
<a name="top"></a>
<nav class="container">  <div class="row">
<div class="navbar  navbar-inverse">
  <div class="container">
   <div class="navbar-header">
      
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#responsive-menu">
        <span class="sr-only">Показать навигацию</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>            
      </button>
    </div>
    <div class="collapse navbar-collapse" id="responsive-menu">
    <ul class="nav navbar-nav">
      <li class="active"><a href="http://www.count-zero.ru/"><i class="fa fa-home">&nbsp;</i>Главная</a></li>
      <li>
        <a href="http://www.count-zero.ru/tags/avr/"><i class="fa fa-paw">&nbsp;</i>AVR</a>
      </li>
       <li>
        <a href="http://www.count-zero.ru/tags/stm8/"><i class="fa fa-paw">&nbsp;</i>STM8</a>
      </li>
       <li>
        <a href="http://www.count-zero.ru/tags/stm32/"><i class="fa fa-paw">&nbsp;</i>STM32</a>
      </li>
       <li>
        <a href="http://www.count-zero.ru/tags/msp430/"><i class="fa fa-paw">&nbsp;</i>MSP430</a>
      </li>
        </ul>               
    </div>
   </div>
  </div>
</div> </nav>


  <div class="container">  <div class="row">
    <div class="col-lg-10 col-md-10 col-sm-12 col-xs-12">


<div class="fild"><p>
<a name="pcd8544"></a></p>
<a href="http://www.count-zero.ru/2017/pcd8544/"><h2>ATmega8 + PCD8544: работа с графическим дисплеем от телефонов Nokia 5110/3310</h2></a>

<h4 style="text-align:right; font-family: Geneva, Arial, Helvetica, sans-serif; font-weight: bold;"> разделы:  <a href="http://www.count-zero.ru/tags/avr">AVR </a>,  <a href="http://www.count-zero.ru/tags/spi">SPI </a>,  <a href="http://www.count-zero.ru/tags/pcd8544">PCD8544 </a>,  дата: 23 ноября 2017г.</h4>

<div class="row">
	<div class="col-lg-4 col-md-4 hidden-sm hidden-xs">
		<p style="text-align:center;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/cover1.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/cover1.jpg" width="100%"></a><em>Графический дисплей на контроллере PCD8544</em> </p>
	</div>
	<div class="col-lg-8 col-md-8 col-sm-12 col-xs-12">
	<p>
		Дисплей от мобильного телефона  Nokia 5110/3310 - это довольно известный  графический дисплей начального уровня на управляющем контроллере pcd8544. Цена на него колеблется в пределах ста рублей, что сделало его широко распространенным "народным" дисплеем, наряду со знакогенерирующим LCD1602. Несмотря на широкое распространение, имеющаяся информация по этому дисплею или противоречива, или обрывочна(<a href="http://cxem.net/mc/mc274.php" target="_blank">например</a>). Ниже приводится лог недельного изучения девайса с примерами кода от простого к сложному. Вначале я пытался  использовать Proteus для большей наглядности, но его возможностей, увы, хватило только на три примера. Поэтому остальные примеры идут для реальной связки ATmega8+дисплей. Так или иначе примеры с Proteus работают и на настоящем устройстве. Ко всем примерами, исходники к ним, скомпилированные прошивками и сборочные Makefile можно скачать здесь <a href="https://gitlab.com/flank1er/pcd8544_atmega8" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8</a>.
	</p>
	
	</div>
</div>
<p>
	Должен сразу сказать, что для русификации дисплея я использовал кодировку CP866, и сделал я это удобным для Linux-пользователей способом. В Windows это получится использовать разве что из CYGWIN (понадобится утилита iconv).
</p>
<p>
	Также должен упомянуть, что у меня были сложности с управлением дисплеем через аппаратный SPI. Она заключается в том, что и USBasp, и дисплей используют SPI порт ATmega8, и чтобы загрузить прошивку в микроконтроллер, дисплей приходится отключать. Это просто неудобно. Поэтому почти во всех примерах используется подключение дисплея по программному SPI. Подключение через аппаратный SPI используется только во втором и в последнем (финишном) примере (там не сложно, лишь нужно поменять пару строчек в коде и переподключиться к нужным пинам). 
</p>
<p>
	В целом, говоря про графические дисплеи, скажу, что эти штуки быстро "съедают" оперативную и флеш память и легко занимают всю пропускную способность SPI шины ;) 
</p>
<ol>
	Содержание статьи:
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#1"> Основные характеристики дисплея на контроллере pcd8544</a>;
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#2">Подключение дисплея к Arduino</a>;
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#3">Пишем HelloWorld для ATmega8+PCD8544 в Proteus</a>;
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#4">Переподключение дисплея на аппаратный SPI в Proteus</a>;
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#5">Функции масштабирование шрифта в два и три раза</a>;
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#6">Создание проекта для реального микроконтроллера ATmega8, чтение таблицы ASCII из флеш-памяти</a>;
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#7">Добавляем кириллицу в кодировке CP866</a>
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#8">Добавление фреймбуфера. Программа рисования  фрактала.</a>
	</li>
	<li>
		 <a href="http://www.count-zero.ru/2017/pcd8544/#9">Делаем скринсейвер "сквозь звездное небо"</a>
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#10">Функции рисования прямых линий, и окружностей</a>
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#11">Интерфейс для метеостанции</a>
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#12">Интерфейс для FM-радиоприемника</a>
	</li>
	<li>
		<a href="http://www.count-zero.ru/2017/pcd8544/#13">Финальная версия библиотеки на аппаратном SPI</a>
	</li>

</ol>



<h3><a name="1"></a>1) Основные характеристики дисплея на контроллере pcd8544</h3>
<ul>
	Они следующие: 
	<li>
		Напряжение питания дисплея: от 2.7 до 3.3 Вольт, пины данных толерантны к 5 Вольт;
	</li>
	<li>Разрешение дисплея 48x84 пикселов;</li>
	<li>
		Управление осуществляется через SPI интерфейс(три провода). Всего в управлении задействовано 5 линий;
	</li>
	<li>
		Предельная частота SPI шины 4MBit/s;
	</li>
	<li>
		Дисплей имеет шесть строк(банков) на каждой их которых может разместиться 12 символов. Итого экран имеет текстовую емкость 6 х 12 = 72 символа. Графическая емкость дисплея равна 48 х 84 = 4032  бита/пикселов, или 504 байта;
	</li>
	<li>
		Базовый шрифт для дисплея имеет размерность 5x7 пикселов, знакоместо для одной литеры имеет графическую размерность 7(ш)x8(в).
	</li>
	<li>
		Дисплей имеет два набора команд: базовый и расширенный. Расширенный набор команд используется для конфигурации дисплея, его настройки. Для вывода картинки на экран используется базовый набор команд.
	</li>
</ul>

<p>
	Нужно осознавать, что дисплеи покупаемые на али или ибэе, это не оригинальные дисплеи на контроллере pcd8544, а совместимые с ним noname девайсы(<a href="http://radiokot.ru/articles/29/" target="_blank">подробности здесь</a>).  По крайней мере в продаже на mouser я их не нашел. Это не плохо, но параметры устройства могут не соответствовать документации на оригинальный чип, что как бы уже нехорошо.
</p>
<p>
	Далее немного справочной информации.
</p>
<p>
	Datasheet на дисплей  можно скачать например отсюда: <a href="https://www.sparkfun.com/datasheets/LCD/Monochrome/Nokia5110.pdf" target="_blank">https://www.sparkfun.com/datasheets/LCD/Monochrome/Nokia5110.pdf</a>
</p>

<p>
	Распиновка. Модули с экраном от Nokia 5110/3310 продаются в двух вариантах: красные и синие. Синий модуль имеет следующий ряд контактов:
</p>
<div class="row">
	<div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
		<p style="text-align:center;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/03.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/03.png" width="100%"></a> </p>
	</div>
	<div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
	<p>
		Здесь: <br> Gnd - это "земля", <br>BL - подсветка +3.3 Вольта, <br>Vcc - питание +3.3 Вольта, <br>Clk - линия тактирования, <br>Din - линия данных "Data input",<br> DC или D/<span style="text-decoration: overline;">C</span>- выбор между регистрами данных или команд, аналогичен RS в HD44780,  <br>CE  или <span style="text-decoration: overline;">SCE</span> - Chip Enable, он же <span style="text-decoration: overline;">CS</span>/<span style="text-decoration: overline;">SS</span>, Chip Select,<br> <span style="text-decoration: overline;">RST</span> - это линия сброса контроллера PCD8544.
	</p>
	</div>
</div>
<p>
	Мой экземпляр экрана имеет красную расцветку, от синего он отличается тем, что подсветка LIGHT включается подключением к "земле", а не к питанию. В остальном все тоже самое.
</p>

<div class="row">
	<div class="col-lg-4 col-md-4 col-sm-4 col-xs-4">
		<p style="text-align:center;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/04.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/04.jpg" width="100%"></a> </p>
	</div>
	<div class="col-lg-8 col-md-8 col-sm-8 col-xs-8">
		<p style="text-align:center;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/05.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/05.jpg" width="100%"></a> </p>
	</div>
</div>
<p>
	Стрелочкой обозначен верх дисплея.
</p>
<p>
	Адресация видеопамяти:
</p>
<div class="row">
	<div class="col-lg-5 col-md-5 col-sm-5 col-xs-5">
		<p style="text-align:center;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/06.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/06.png" width="100%"></a> </p>
	</div>
	<div class="col-lg-7 col-md-7 col-sm-7 col-xs-7">
		<p style="text-align:center;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/07.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/07.png" width="100%"></a> </p>

	</div>
</div>
<p>
	Начало координат располагается в верхнем левом углу. Очередность байтов при линейном заполнении видеопамяти такая:
</p>
<p style="text-align:left;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/08.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/08.png" width="60%"></a> 
</p>

<p>
	Также хочется сказать пару слов о подключении дисплея с 3.3 вольтовой логикой к микроконтроллеру ATmega8. Все знают, что в частности Аrduino - это  5 вольтовая логика. Однако микроконтроллеры ATmega могут работать на 3.3 Вольтах. 
</p>
<p>
	Я лично использовал такую самодельную DevBoard:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/atmega8.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/atmega8.jpg" width="90%"></a> 
</p>
<p>
	Линейный стабилизатор LM1117 3.3 позволяет переключать внешнее питание с 5 Вольт на 3.3Вольт. Однако при подключении программатора USBasp линейный стабилизатор не задействуется, вместо этого на самом программаторе переключается джампик питания микроконтроллера на 3.3V. 
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/usbasp.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/usbasp.jpg" width="90%"></a> 
</p>
<p>
	На моей DevBoard установлен кварц на 16MHz, хотя по документации на ATmega8, при напряжении питания 3.3Вольт частота clk<sub>cpu</sub> не должна превышать 10МГц. И хотя при комнатной температуре это будет работать скорее всего без проблем, технически это является overclocking'ом.
</p>

<h3><a name="2"></a>2) Подключение экрана Nokia 5110 к Arduino</h3>
<p>
	Для проверки дисплея на работоспособность, можно попробовать подключить его к Arduino.
</p>
<p>
	На <a href="https://playground.arduino.cc/Code/PCD8544" target="_blank">  официальном сайте Arduino</a> имеется небольшой скетч - HelloWorld, с помощью которого можно проверить работоспособность дисплея. Этот скетч не требует установки каких-либо библиотек для своей работы.
</p>
<pre class="CodeC"><span class="PreProc">#define PIN_SCE   </span><span class="Constant">7</span>
<span class="PreProc">#define PIN_RESET </span><span class="Constant">6</span>
<span class="PreProc">#define PIN_DC    </span><span class="Constant">5</span>
<span class="PreProc">#define PIN_SDIN  </span><span class="Constant">4</span>
<span class="PreProc">#define PIN_SCLK  </span><span class="Constant">3</span>

<span class="PreProc">#define LCD_C     </span><span class="Constant">LOW</span>
<span class="PreProc">#define LCD_D     </span><span class="Constant">HIGH</span>

<span class="PreProc">#define LCD_X     </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y     </span><span class="Constant">48</span>

<span class="Type">static</span> <span class="Type">const</span> <span class="Type">byte</span> ASCII[][<span class="Constant">5</span>] =
{
 {<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">20</span><span class="Comment">  </span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x5f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">21</span><span class="Comment"> !</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">22</span><span class="Comment"> </span><span class="Constant">"</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>} <span class="Comment">// </span><span class="Constant">23</span><span class="Comment"> #</span>
,{<span class="Constant">0x24</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x12</span>} <span class="Comment">// </span><span class="Constant">24</span><span class="Comment"> $</span>
,{<span class="Constant">0x23</span>, <span class="Constant">0x13</span>, <span class="Constant">0x08</span>, <span class="Constant">0x64</span>, <span class="Constant">0x62</span>} <span class="Comment">// </span><span class="Constant">25</span><span class="Comment"> %</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x55</span>, <span class="Constant">0x22</span>, <span class="Constant">0x50</span>} <span class="Comment">// </span><span class="Constant">26</span><span class="Comment"> &amp;</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">27</span><span class="Comment"> '</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">28</span><span class="Comment"> (</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">29</span><span class="Comment"> )</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>} <span class="Comment">// 2a *</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2b +</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x50</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2c ,</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2d -</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x60</span>, <span class="Constant">0x60</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2e .</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">2f</span><span class="Comment"> /</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">30</span><span class="Comment"> </span><span class="Constant">0</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x42</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">31</span><span class="Comment"> </span><span class="Constant">1</span>
,{<span class="Constant">0x42</span>, <span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">32</span><span class="Comment"> </span><span class="Constant">2</span>
,{<span class="Constant">0x21</span>, <span class="Constant">0x41</span>, <span class="Constant">0x45</span>, <span class="Constant">0x4b</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">33</span><span class="Comment"> </span><span class="Constant">3</span>
,{<span class="Constant">0x18</span>, <span class="Constant">0x14</span>, <span class="Constant">0x12</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x10</span>} <span class="Comment">// </span><span class="Constant">34</span><span class="Comment"> </span><span class="Constant">4</span>
,{<span class="Constant">0x27</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x39</span>} <span class="Comment">// </span><span class="Constant">35</span><span class="Comment"> </span><span class="Constant">5</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x30</span>} <span class="Comment">// </span><span class="Constant">36</span><span class="Comment"> </span><span class="Constant">6</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x71</span>, <span class="Constant">0x09</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>} <span class="Comment">// </span><span class="Constant">37</span><span class="Comment"> </span><span class="Constant">7</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">38</span><span class="Comment"> </span><span class="Constant">8</span>
,{<span class="Constant">0x06</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x29</span>, <span class="Constant">0x1e</span>} <span class="Comment">// </span><span class="Constant">39</span><span class="Comment"> </span><span class="Constant">9</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x36</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3a :</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x56</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3b ;</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3c &lt;</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>} <span class="Comment">// 3d =</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// 3e &gt;</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x51</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">3f</span><span class="Comment"> ?</span>
,{<span class="Constant">0x32</span>, <span class="Constant">0x49</span>, <span class="Constant">0x79</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">40</span><span class="Comment"> @</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>} <span class="Comment">// </span><span class="Constant">41</span><span class="Comment"> A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">42</span><span class="Comment"> B</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>} <span class="Comment">// </span><span class="Constant">43</span><span class="Comment"> C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">44</span><span class="Comment"> D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>} <span class="Comment">// </span><span class="Constant">45</span><span class="Comment"> E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">46</span><span class="Comment"> F</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x7a</span>} <span class="Comment">// </span><span class="Constant">47</span><span class="Comment"> G</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">48</span><span class="Comment"> H</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">49</span><span class="Comment"> I</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>} <span class="Comment">// 4a J</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>} <span class="Comment">// 4b K</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// 4c L</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4d M</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4e N</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">4f</span><span class="Comment"> O</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">50</span><span class="Comment"> P</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x51</span>, <span class="Constant">0x21</span>, <span class="Constant">0x5e</span>} <span class="Comment">// </span><span class="Constant">51</span><span class="Comment"> Q</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x19</span>, <span class="Constant">0x29</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">52</span><span class="Comment"> R</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">53</span><span class="Comment"> S</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">54</span><span class="Comment"> T</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">55</span><span class="Comment"> U</span>
,{<span class="Constant">0x1f</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1f</span>} <span class="Comment">// </span><span class="Constant">56</span><span class="Comment"> V</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x38</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">57</span><span class="Comment"> W</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>} <span class="Comment">// </span><span class="Constant">58</span><span class="Comment"> X</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x70</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>} <span class="Comment">// </span><span class="Constant">59</span><span class="Comment"> Y</span>
,{<span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x43</span>} <span class="Comment">// 5a Z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5b [</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x20</span>} <span class="Comment">// 5c ¥</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5d ]</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>} <span class="Comment">// 5e ^</span>
,{<span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// </span><span class="Constant">5f</span><span class="Comment"> _</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">60</span><span class="Comment"> `</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">61</span><span class="Comment"> a</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">62</span><span class="Comment"> b</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">63</span><span class="Comment"> c</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x48</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">64</span><span class="Comment"> d</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>} <span class="Comment">// </span><span class="Constant">65</span><span class="Comment"> e</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x7e</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">66</span><span class="Comment"> f</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">67</span><span class="Comment"> g</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">68</span><span class="Comment"> h</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x44</span>, <span class="Constant">0x7d</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">69</span><span class="Comment"> i</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3d</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6a j </span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6b k</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6c l</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x18</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6d m</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6e n</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">6f</span><span class="Comment"> o</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">70</span><span class="Comment"> p</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x18</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">71</span><span class="Comment"> q</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">72</span><span class="Comment"> r</span>
,{<span class="Constant">0x48</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">73</span><span class="Comment"> s</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x44</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">74</span><span class="Comment"> t</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">75</span><span class="Comment"> u</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">76</span><span class="Comment"> v</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x30</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">77</span><span class="Comment"> w</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>} <span class="Comment">// </span><span class="Constant">78</span><span class="Comment"> x</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">79</span><span class="Comment"> y</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x64</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>} <span class="Comment">// 7a z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x08</span>, <span class="Constant">0x36</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7b {</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7c |</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x36</span>, <span class="Constant">0x08</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7d }</span>
,{<span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>} <span class="Comment">// 7e ←</span>
,{<span class="Constant">0x78</span>, <span class="Constant">0x46</span>, <span class="Constant">0x41</span>, <span class="Constant">0x46</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">7f</span><span class="Comment"> →</span>
};

<span class="Type">void</span> LcdCharacter(<span class="Type">char</span> character)
{
  LcdWrite(LCD_D, <span class="Constant">0x00</span>);
  <span class="Statement">for</span> (<span class="Type">int</span> index = <span class="Constant">0</span>; index &lt; <span class="Constant">5</span>; index++)
  {
    LcdWrite(LCD_D, ASCII[character - <span class="Constant">0x20</span>][index]);
  }
  LcdWrite(LCD_D, <span class="Constant">0x00</span>);
}

<span class="Type">void</span> LcdClear(<span class="Type">void</span>)
{
  <span class="Statement">for</span> (<span class="Type">int</span> index = <span class="Constant">0</span>; index &lt; LCD_X * LCD_Y / <span class="Constant">8</span>; index++)
  {
    LcdWrite(LCD_D, <span class="Constant">0x00</span>);
  }
}

<span class="Type">void</span> LcdInitialise(<span class="Type">void</span>)
{
  <span class="Identifier">pinMode</span>(PIN_SCE, <span class="Constant">OUTPUT</span>);
  <span class="Identifier">pinMode</span>(PIN_RESET, <span class="Constant">OUTPUT</span>);
  <span class="Identifier">pinMode</span>(PIN_DC, <span class="Constant">OUTPUT</span>);
  <span class="Identifier">pinMode</span>(PIN_SDIN, <span class="Constant">OUTPUT</span>);
  <span class="Identifier">pinMode</span>(PIN_SCLK, <span class="Constant">OUTPUT</span>);
  <span class="Identifier">digitalWrite</span>(PIN_RESET, <span class="Constant">LOW</span>);
  <span class="Identifier">digitalWrite</span>(PIN_RESET, <span class="Constant">HIGH</span>);
  LcdWrite(LCD_C, <span class="Constant">0x21</span> );  <span class="Comment">// LCD Extended Commands.</span>
  LcdWrite(LCD_C, <span class="Constant">0xBA</span> );  <span class="Comment">// Set LCD Vop (Contrast). Здесь константа в оригинале была B1 (c)flanker </span>
  LcdWrite(LCD_C, <span class="Constant">0x04</span> );  <span class="Comment">// Set Temp coefficent. //</span><span class="Constant">0x04</span>
  LcdWrite(LCD_C, <span class="Constant">0x14</span> );  <span class="Comment">// LCD bias mode </span><span class="Constant">1</span><span class="Comment">:</span><span class="Constant">48.</span><span class="Comment"> //</span><span class="Constant">0x13</span>
  LcdWrite(LCD_C, <span class="Constant">0x20</span> );  <span class="Comment">// LCD Basic Commands</span>
  LcdWrite(LCD_C, <span class="Constant">0x0C</span> );  <span class="Comment">// LCD in normal mode.</span>
}

<span class="Type">void</span> LcdString(<span class="Type">char</span> *characters)
{
  <span class="Statement">while</span> (*characters)
  {
    LcdCharacter(*characters++);
  }
}

<span class="Type">void</span> LcdWrite(<span class="Type">byte</span> dc, <span class="Type">byte</span> data)
{
  <span class="Identifier">digitalWrite</span>(PIN_DC, dc);
  <span class="Identifier">digitalWrite</span>(PIN_SCE, <span class="Constant">LOW</span>);
  <span class="Identifier">shiftOut</span>(PIN_SDIN, PIN_SCLK, <span class="Constant">MSBFIRST</span>, data);
  <span class="Identifier">digitalWrite</span>(PIN_SCE, <span class="Constant">HIGH</span>);
}

<span class="Type">void</span> <span class="Identifier">setup</span>(<span class="Type">void</span>)
{
  LcdInitialise();
  LcdClear();
  LcdString(<span class="Constant">"Hello World!"</span>);
}

<span class="Type">void</span> <span class="Identifier">loop</span>(<span class="Type">void</span>)
{
}</pre>


<p>
	При успешном подключении, на экране дисплея появится строка: Hello World!
</p>
<p>
	Данный скетч я буду использовать как  образец для написания кода под ATmega8.
</p>
<h3><a name="3"></a>3)Пишем HelloWorld для ATmega8+PCD8544 в Proteus</h3>
<p>
	В Proteus 8.5 дисплей на контролере pcd8544 уже имеется в библиотеке, так что ничего искать и скачивать не надо, нужно просто добавить его в проект:
</p>
<p></p>
	<p style="text-align:left;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/01.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/01.png" width="90%"></a> 
</p>

<p>
	После статьи о сдвиговых регистрах, у меня в Proteus остался проект с ATmega8 настроенный на работу на 2МГц, его я и буду продолжать использовать:
</p>
<p></p>
	<p style="text-align:left;"><a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/09.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/09.png" width="90%"></a> 
</p>
<p>
	Код для микроконтроллера я пишу в самом Proteus, и вариант приведенного выше кода для ATmega8 будет выглядеть так:


<a href="http://www.count-zero.ru/2017/pcd8544/#spoiler-A" data-toggle="collapse" class="btn tag-primary spoiler collapsed">показать код</a></p>
<div class="collapse" id="spoiler-A">
<div class="wall"> 
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">&lt;avr/io.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">&lt;util/delay.h&gt;</span>

<span class="PreProc">#define PIN_SCE   PD7</span>
<span class="PreProc">#define PIN_RESET PD6</span>
<span class="PreProc">#define PIN_DC    PD5</span>
<span class="PreProc">#define PIN_SDIN  PD4</span>
<span class="PreProc">#define PIN_SCLK  PD3</span>

<span class="PreProc">#define LCD_C     </span><span class="Constant">0x00</span>
<span class="PreProc">#define LCD_D     </span><span class="Constant">0x01</span>

<span class="PreProc">#define LCD_X     </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y     </span><span class="Constant">48</span>

<span class="PreProc">#define PORT_PCD8544 PORTD</span>
<span class="PreProc">#define DDR_PCD8544  DDRD</span>

<span class="Type">static</span> <span class="Type">const</span> <span class="Type">uint8_t</span> ASCII[][<span class="Constant">5</span>] =
{
 {<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">20</span><span class="Comment">  </span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x5f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">21</span><span class="Comment"> !</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">22</span><span class="Comment"> </span><span class="Constant">"</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>} <span class="Comment">// </span><span class="Constant">23</span><span class="Comment"> #</span>
,{<span class="Constant">0x24</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x12</span>} <span class="Comment">// </span><span class="Constant">24</span><span class="Comment"> $</span>
,{<span class="Constant">0x23</span>, <span class="Constant">0x13</span>, <span class="Constant">0x08</span>, <span class="Constant">0x64</span>, <span class="Constant">0x62</span>} <span class="Comment">// </span><span class="Constant">25</span><span class="Comment"> %</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x55</span>, <span class="Constant">0x22</span>, <span class="Constant">0x50</span>} <span class="Comment">// </span><span class="Constant">26</span><span class="Comment"> &amp;</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">27</span><span class="Comment"> '</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">28</span><span class="Comment"> (</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">29</span><span class="Comment"> )</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>} <span class="Comment">// 2a *</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2b +</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x50</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2c ,</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2d -</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x60</span>, <span class="Constant">0x60</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2e .</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">2f</span><span class="Comment"> /</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">30</span><span class="Comment"> </span><span class="Constant">0</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x42</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">31</span><span class="Comment"> </span><span class="Constant">1</span>
,{<span class="Constant">0x42</span>, <span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">32</span><span class="Comment"> </span><span class="Constant">2</span>
,{<span class="Constant">0x21</span>, <span class="Constant">0x41</span>, <span class="Constant">0x45</span>, <span class="Constant">0x4b</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">33</span><span class="Comment"> </span><span class="Constant">3</span>
,{<span class="Constant">0x18</span>, <span class="Constant">0x14</span>, <span class="Constant">0x12</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x10</span>} <span class="Comment">// </span><span class="Constant">34</span><span class="Comment"> </span><span class="Constant">4</span>
,{<span class="Constant">0x27</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x39</span>} <span class="Comment">// </span><span class="Constant">35</span><span class="Comment"> </span><span class="Constant">5</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x30</span>} <span class="Comment">// </span><span class="Constant">36</span><span class="Comment"> </span><span class="Constant">6</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x71</span>, <span class="Constant">0x09</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>} <span class="Comment">// </span><span class="Constant">37</span><span class="Comment"> </span><span class="Constant">7</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">38</span><span class="Comment"> </span><span class="Constant">8</span>
,{<span class="Constant">0x06</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x29</span>, <span class="Constant">0x1e</span>} <span class="Comment">// </span><span class="Constant">39</span><span class="Comment"> </span><span class="Constant">9</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x36</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3a :</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x56</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3b ;</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3c &lt;</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>} <span class="Comment">// 3d =</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// 3e &gt;</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x51</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">3f</span><span class="Comment"> ?</span>
,{<span class="Constant">0x32</span>, <span class="Constant">0x49</span>, <span class="Constant">0x79</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">40</span><span class="Comment"> @</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>} <span class="Comment">// </span><span class="Constant">41</span><span class="Comment"> A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">42</span><span class="Comment"> B</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>} <span class="Comment">// </span><span class="Constant">43</span><span class="Comment"> C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">44</span><span class="Comment"> D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>} <span class="Comment">// </span><span class="Constant">45</span><span class="Comment"> E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">46</span><span class="Comment"> F</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x7a</span>} <span class="Comment">// </span><span class="Constant">47</span><span class="Comment"> G</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">48</span><span class="Comment"> H</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">49</span><span class="Comment"> I</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>} <span class="Comment">// 4a J</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>} <span class="Comment">// 4b K</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// 4c L</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4d M</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4e N</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">4f</span><span class="Comment"> O</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">50</span><span class="Comment"> P</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x51</span>, <span class="Constant">0x21</span>, <span class="Constant">0x5e</span>} <span class="Comment">// </span><span class="Constant">51</span><span class="Comment"> Q</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x19</span>, <span class="Constant">0x29</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">52</span><span class="Comment"> R</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">53</span><span class="Comment"> S</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">54</span><span class="Comment"> T</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">55</span><span class="Comment"> U</span>
,{<span class="Constant">0x1f</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1f</span>} <span class="Comment">// </span><span class="Constant">56</span><span class="Comment"> V</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x38</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">57</span><span class="Comment"> W</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>} <span class="Comment">// </span><span class="Constant">58</span><span class="Comment"> X</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x70</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>} <span class="Comment">// </span><span class="Constant">59</span><span class="Comment"> Y</span>
,{<span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x43</span>} <span class="Comment">// 5a Z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5b [</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x20</span>} <span class="Comment">// 5c ?</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5d ]</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>} <span class="Comment">// 5e ^</span>
,{<span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// </span><span class="Constant">5f</span><span class="Comment"> _</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">60</span><span class="Comment"> `</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">61</span><span class="Comment"> a</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">62</span><span class="Comment"> b</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">63</span><span class="Comment"> c</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x48</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">64</span><span class="Comment"> d</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>} <span class="Comment">// </span><span class="Constant">65</span><span class="Comment"> e</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x7e</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">66</span><span class="Comment"> f</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">67</span><span class="Comment"> g</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">68</span><span class="Comment"> h</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x44</span>, <span class="Constant">0x7d</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">69</span><span class="Comment"> i</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3d</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6a j </span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6b k</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6c l</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x18</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6d m</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6e n</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">6f</span><span class="Comment"> o</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">70</span><span class="Comment"> p</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x18</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">71</span><span class="Comment"> q</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">72</span><span class="Comment"> r</span>
,{<span class="Constant">0x48</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">73</span><span class="Comment"> s</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x44</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">74</span><span class="Comment"> t</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">75</span><span class="Comment"> u</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">76</span><span class="Comment"> v</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x30</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">77</span><span class="Comment"> w</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>} <span class="Comment">// </span><span class="Constant">78</span><span class="Comment"> x</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">79</span><span class="Comment"> y</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x64</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>} <span class="Comment">// 7a z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x08</span>, <span class="Constant">0x36</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7b {</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7c |</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x36</span>, <span class="Constant">0x08</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7d }</span>
,{<span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>} <span class="Comment">// 7e &lt;</span>
,{<span class="Constant">0x78</span>, <span class="Constant">0x46</span>, <span class="Constant">0x41</span>, <span class="Constant">0x46</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">7f</span><span class="Comment"> &gt;</span>
};

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>);
<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data);
<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str);
<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch);
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>);

<span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   pcd8544_clear();
   pcd8544_print_string(<span class="Constant">"Hello World!"</span>);

   <span class="Statement">for</span> (;;){
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>)
{
   <span class="Comment">// GPIO Setup</span>
   DDR_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_SCE) | (<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC) | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) | (<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   pcd8544_send(LCD_C, <span class="Constant">0x21</span> );  <span class="Comment">// LCD Extended Commands.</span>
   pcd8544_send(LCD_C, <span class="Constant">0xBA</span> );  <span class="Comment">// Set LCD Vop (Contrast).</span>
   pcd8544_send(LCD_C, <span class="Constant">0x04</span> );  <span class="Comment">// Set Temp coefficent. //</span><span class="Constant">0x04</span>
   pcd8544_send(LCD_C, <span class="Constant">0x14</span> );  <span class="Comment">// LCD bias mode </span><span class="Constant">1</span><span class="Comment">:</span><span class="Constant">48.</span><span class="Comment"> //</span><span class="Constant">0x13</span>
   pcd8544_send(LCD_C, <span class="Constant">0x20</span> );  <span class="Comment">// LCD Basic Commands</span>
   pcd8544_send(LCD_C, <span class="Constant">0x0C</span> );  <span class="Comment">// LCD in normal mode.</span>
}

<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data)
{
   <span class="Type">uint8_t</span> i;
   <span class="Statement">if</span> (dc == LCD_D)
      PORT_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_DC);
   <span class="Statement">else</span>
      PORT_PCD8544 &amp;= ~(<span class="Constant">1</span>&lt;&lt;PIN_DC);

   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i&lt;<span class="Constant">8</span>; i++)
   {
      PORT_PCD8544=(data &amp; <span class="Constant">0x80</span>) ? PORT_PCD8544 | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) : PORT_PCD8544 &amp; ~(<span class="Constant">1</span>&lt;&lt;PIN_SDIN);

      data=(data&lt;&lt;<span class="Constant">1</span>);

      PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
      PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   }
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
}

<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str)
{
   <span class="Statement">while</span> (*str)
   {
      pcd8544_send_char(*str++);
   }
}

<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch)
{
   <span class="Type">int</span> i;
   <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
      <span class="Statement">for</span> (i = <span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
      {
         pcd8544_send(LCD_D,  ASCII[ch - <span class="Constant">0x20</span>][i]);
      }
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}

<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>)
{
   <span class="Type">int</span> i;
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; LCD_X * LCD_Y / <span class="Constant">8</span>; i++)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}
</pre>
</div>
</div>
<p>
	Результат работы:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/02.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/02.png" width="90%"></a> 
</p>

<p>
	Начало положено, начнём добавлять функционал. Что мы можем сделать на этом этапе? Первое, что хотелось бы сделать, это чтение ASCII таблицы из флеш-памяти, и поддержку кириллицы. Но Proteus такие штуки не осилит. Поэтому начнем с малого, установка курсора на определенную позицию экрана, сейчас это нам вполне  по силам.
</p>
<p>
	Добавляем функцию установки курсора:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    x=x%<span class="Constant">12</span>; y=y%<span class="Constant">6</span>;
    pcd8544_send(LCD_C, <span class="Constant">0x40</span>+y);
    pcd8544_send(LCD_C, <span class="Constant">0x80</span>+x*<span class="Constant">7</span>);
} </pre>
<p>
	Чтобы каждый раз не вызывать эту функцию, добавим функцию печати строки с определенной позиции:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y)
{
    pcd8544_set_cursor(x,y);

    <span class="Statement">while</span> (*str)
    {
        pcd8544_send_char(*str++);
    }
    <span class="Statement">break</span>;
}</pre>
<p>
	Теперь можно написать на дисплее уже что-то более осмысленное:
</p>
<pre class="CodeC"><span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   pcd8544_clear();
   pcd8544_print_at(<span class="Constant">"Nokia 3310"</span>,<span class="Constant">1</span>,<span class="Constant">0</span>);
   pcd8544_print_at(<span class="Constant">"Connecting"</span>,<span class="Constant">1</span>,<span class="Constant">2</span>);
   pcd8544_print_at(<span class="Constant">"People"</span>,<span class="Constant">6</span>,<span class="Constant">3</span>);

   <span class="Statement">for</span> (;;){
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<a href="http://www.count-zero.ru/2017/pcd8544/#spoiler-B" data-toggle="collapse" class="btn tag-primary spoiler collapsed">показать полный код</a><p></p>
<div class="collapse" id="spoiler-B">
<div class="wall"> 
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">&lt;avr/io.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">&lt;util/delay.h&gt;</span>

<span class="PreProc">#define PIN_SCE   PD7</span>
<span class="PreProc">#define PIN_RESET PD6</span>
<span class="PreProc">#define PIN_DC    PD5</span>
<span class="PreProc">#define PIN_SDIN  PD4</span>
<span class="PreProc">#define PIN_SCLK  PD3</span>

<span class="PreProc">#define LCD_C     </span><span class="Constant">0x00</span>
<span class="PreProc">#define LCD_D     </span><span class="Constant">0x01</span>

<span class="PreProc">#define LCD_X     </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y     </span><span class="Constant">48</span>

<span class="PreProc">#define PORT_PCD8544 PORTD</span>
<span class="PreProc">#define DDR_PCD8544  DDRD</span>

<span class="Type">static</span> <span class="Type">const</span> <span class="Type">uint8_t</span> ASCII[][<span class="Constant">5</span>] =
{
 {<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">20</span><span class="Comment">  </span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x5f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">21</span><span class="Comment"> !</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">22</span><span class="Comment"> </span><span class="Constant">"</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>} <span class="Comment">// </span><span class="Constant">23</span><span class="Comment"> #</span>
,{<span class="Constant">0x24</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x12</span>} <span class="Comment">// </span><span class="Constant">24</span><span class="Comment"> $</span>
,{<span class="Constant">0x23</span>, <span class="Constant">0x13</span>, <span class="Constant">0x08</span>, <span class="Constant">0x64</span>, <span class="Constant">0x62</span>} <span class="Comment">// </span><span class="Constant">25</span><span class="Comment"> %</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x55</span>, <span class="Constant">0x22</span>, <span class="Constant">0x50</span>} <span class="Comment">// </span><span class="Constant">26</span><span class="Comment"> &amp;</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">27</span><span class="Comment"> '</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">28</span><span class="Comment"> (</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">29</span><span class="Comment"> )</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>} <span class="Comment">// 2a *</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2b +</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x50</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2c ,</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2d -</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x60</span>, <span class="Constant">0x60</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2e .</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">2f</span><span class="Comment"> /</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">30</span><span class="Comment"> </span><span class="Constant">0</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x42</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">31</span><span class="Comment"> </span><span class="Constant">1</span>
,{<span class="Constant">0x42</span>, <span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">32</span><span class="Comment"> </span><span class="Constant">2</span>
,{<span class="Constant">0x21</span>, <span class="Constant">0x41</span>, <span class="Constant">0x45</span>, <span class="Constant">0x4b</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">33</span><span class="Comment"> </span><span class="Constant">3</span>
,{<span class="Constant">0x18</span>, <span class="Constant">0x14</span>, <span class="Constant">0x12</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x10</span>} <span class="Comment">// </span><span class="Constant">34</span><span class="Comment"> </span><span class="Constant">4</span>
,{<span class="Constant">0x27</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x39</span>} <span class="Comment">// </span><span class="Constant">35</span><span class="Comment"> </span><span class="Constant">5</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x30</span>} <span class="Comment">// </span><span class="Constant">36</span><span class="Comment"> </span><span class="Constant">6</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x71</span>, <span class="Constant">0x09</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>} <span class="Comment">// </span><span class="Constant">37</span><span class="Comment"> </span><span class="Constant">7</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">38</span><span class="Comment"> </span><span class="Constant">8</span>
,{<span class="Constant">0x06</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x29</span>, <span class="Constant">0x1e</span>} <span class="Comment">// </span><span class="Constant">39</span><span class="Comment"> </span><span class="Constant">9</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x36</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3a :</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x56</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3b ;</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3c &lt;</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>} <span class="Comment">// 3d =</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// 3e &gt;</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x51</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">3f</span><span class="Comment"> ?</span>
,{<span class="Constant">0x32</span>, <span class="Constant">0x49</span>, <span class="Constant">0x79</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">40</span><span class="Comment"> @</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>} <span class="Comment">// </span><span class="Constant">41</span><span class="Comment"> A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">42</span><span class="Comment"> B</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>} <span class="Comment">// </span><span class="Constant">43</span><span class="Comment"> C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">44</span><span class="Comment"> D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>} <span class="Comment">// </span><span class="Constant">45</span><span class="Comment"> E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">46</span><span class="Comment"> F</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x7a</span>} <span class="Comment">// </span><span class="Constant">47</span><span class="Comment"> G</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">48</span><span class="Comment"> H</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">49</span><span class="Comment"> I</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>} <span class="Comment">// 4a J</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>} <span class="Comment">// 4b K</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// 4c L</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4d M</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4e N</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">4f</span><span class="Comment"> O</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">50</span><span class="Comment"> P</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x51</span>, <span class="Constant">0x21</span>, <span class="Constant">0x5e</span>} <span class="Comment">// </span><span class="Constant">51</span><span class="Comment"> Q</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x19</span>, <span class="Constant">0x29</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">52</span><span class="Comment"> R</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">53</span><span class="Comment"> S</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">54</span><span class="Comment"> T</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">55</span><span class="Comment"> U</span>
,{<span class="Constant">0x1f</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1f</span>} <span class="Comment">// </span><span class="Constant">56</span><span class="Comment"> V</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x38</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">57</span><span class="Comment"> W</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>} <span class="Comment">// </span><span class="Constant">58</span><span class="Comment"> X</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x70</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>} <span class="Comment">// </span><span class="Constant">59</span><span class="Comment"> Y</span>
,{<span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x43</span>} <span class="Comment">// 5a Z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5b [</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x20</span>} <span class="Comment">// 5c ?</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5d ]</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>} <span class="Comment">// 5e ^</span>
,{<span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// </span><span class="Constant">5f</span><span class="Comment"> _</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">60</span><span class="Comment"> `</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">61</span><span class="Comment"> a</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">62</span><span class="Comment"> b</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">63</span><span class="Comment"> c</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x48</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">64</span><span class="Comment"> d</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>} <span class="Comment">// </span><span class="Constant">65</span><span class="Comment"> e</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x7e</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">66</span><span class="Comment"> f</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">67</span><span class="Comment"> g</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">68</span><span class="Comment"> h</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x44</span>, <span class="Constant">0x7d</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">69</span><span class="Comment"> i</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3d</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6a j </span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6b k</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6c l</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x18</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6d m</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6e n</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">6f</span><span class="Comment"> o</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">70</span><span class="Comment"> p</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x18</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">71</span><span class="Comment"> q</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">72</span><span class="Comment"> r</span>
,{<span class="Constant">0x48</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">73</span><span class="Comment"> s</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x44</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">74</span><span class="Comment"> t</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">75</span><span class="Comment"> u</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">76</span><span class="Comment"> v</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x30</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">77</span><span class="Comment"> w</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>} <span class="Comment">// </span><span class="Constant">78</span><span class="Comment"> x</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">79</span><span class="Comment"> y</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x64</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>} <span class="Comment">// 7a z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x08</span>, <span class="Constant">0x36</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7b {</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7c |</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x36</span>, <span class="Constant">0x08</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7d }</span>
,{<span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>} <span class="Comment">// 7e &lt;</span>
,{<span class="Constant">0x78</span>, <span class="Constant">0x46</span>, <span class="Constant">0x41</span>, <span class="Constant">0x46</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">7f</span><span class="Comment"> &gt;</span>
};

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>);
<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data);
<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str);
<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch);
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>);
<span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);

<span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   pcd8544_clear();
   pcd8544_print_at(<span class="Constant">"Nokia 3310"</span>,<span class="Constant">1</span>,<span class="Constant">0</span>);
   pcd8544_print_at(<span class="Constant">"Connecting"</span>,<span class="Constant">1</span>,<span class="Constant">2</span>);
   pcd8544_print_at(<span class="Constant">"People"</span>,<span class="Constant">6</span>,<span class="Constant">3</span>);

   <span class="Statement">for</span> (;;){
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>)
{
   <span class="Comment">// GPIO Setup</span>
   DDR_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_SCE) | (<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC) | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) | (<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   pcd8544_send(LCD_C, <span class="Constant">0x21</span> );  <span class="Comment">// LCD Extended Commands.</span>
   pcd8544_send(LCD_C, <span class="Constant">0xBA</span> );  <span class="Comment">// Set LCD Vop (Contrast).</span>
   pcd8544_send(LCD_C, <span class="Constant">0x04</span> );  <span class="Comment">// Set Temp coefficent. //</span><span class="Constant">0x04</span>
   pcd8544_send(LCD_C, <span class="Constant">0x14</span> );  <span class="Comment">// LCD bias mode </span><span class="Constant">1</span><span class="Comment">:</span><span class="Constant">48.</span><span class="Comment"> //</span><span class="Constant">0x13</span>
   pcd8544_send(LCD_C, <span class="Constant">0x20</span> );  <span class="Comment">// LCD Basic Commands</span>
   pcd8544_send(LCD_C, <span class="Constant">0x0C</span> );  <span class="Comment">// LCD in normal mode.</span>
}

<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data)
{
   <span class="Type">uint8_t</span> i;
   <span class="Statement">if</span> (dc == LCD_D)
      PORT_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_DC);
   <span class="Statement">else</span>
      PORT_PCD8544 &amp;= ~(<span class="Constant">1</span>&lt;&lt;PIN_DC);

   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i&lt;<span class="Constant">8</span>; i++)
   {
      PORT_PCD8544=(data &amp; <span class="Constant">0x80</span>) ? PORT_PCD8544 | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) : PORT_PCD8544 &amp; ~(<span class="Constant">1</span>&lt;&lt;PIN_SDIN);

      data=(data&lt;&lt;<span class="Constant">1</span>);

      PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
      PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   }
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
}

<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str)
{
   <span class="Statement">while</span> (*str)
   {
      pcd8544_send_char(*str++);
   }
}

<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch)
{
   <span class="Type">int</span> i;
   <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
      <span class="Statement">for</span> (i = <span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
      {
     pcd8544_send(LCD_D,  ASCII[ch - <span class="Constant">0x20</span>][i]);
      }
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>)
{
   <span class="Type">int</span> i;
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; LCD_X * LCD_Y / <span class="Constant">8</span>; i++)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}

<span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    x=x%<span class="Constant">12</span>; y=y%<span class="Constant">6</span>;
    pcd8544_send(LCD_C, <span class="Constant">0x40</span>+y);
    pcd8544_send(LCD_C, <span class="Constant">0x80</span>+x*<span class="Constant">7</span>);
}

<span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y)
{
    pcd8544_set_cursor(x,y);
    <span class="Statement">while</span> (*str)
    {
        pcd8544_send_char(*str++);
    }
}</pre>
</div>
</div>

<p>
	Результат:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/10.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/10.png" width="90%"></a> 
</p>
<h3><a name="4"></a>4) Переподключение дисплея на аппаратный SPI в Proteus</h3>

<p> Теперь мы можем переподключить дисплей на аппаратную SPI шину ATmega8.
</p>
<p>
	Для использования SPI, дисплей нужно будет переподключить следующим образом:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/11.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/11.png" width="70%"></a> 
</p>
<p>
	Обращаю внимание, что вывод D/<span style="text-decoration: overline;">C</span>- дисплея я переподключил с PD5 на PD7. В этом нет особой необходимости, просто мне удобнее использовать крайние пины.
</p>
<p>
	Именованные константы:
</p>
<pre class="CodeC"><span class="PreProc">#define PIN_SCE   PD7</span>
<span class="PreProc">#define PIN_RESET PD6</span>
<span class="PreProc">#define PIN_DC    PD5</span>
<span class="PreProc">#define PIN_SDIN  PD4</span>
<span class="PreProc">#define PIN_SCLK  PD3</span>
</pre>
<p>меняются на:</p>
<pre class="CodeC"><span class="Comment">// PORT D</span>
<span class="PreProc">#define PIN_RESET PD6</span>
<span class="PreProc">#define PIN_DC    PD7</span>
<span class="Comment">// PORT B</span>
<span class="PreProc">#define PIN_SCE   PB2</span>
<span class="PreProc">#define PIN_SDIN  PB3</span>
<span class="PreProc">#define PIN_SCLK  PB5</span>
</pre>
<p>
	В функции инициализации дисплея void pcd8544_init(void), строка:
</p>
<pre class="CodeC">DDR_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_SCE) | (<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC) | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) | (<span class="Constant">1</span>&lt;&lt;PIN_SCLK);</pre>
<p>
	заменяется на:
</p>
<pre class="CodeC"><span class="Comment">// GPIO Setup</span>
DDR_PCD8544 |=(<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC);
DDRB |= (<span class="Constant">1</span>&lt;&lt;PIN_SCE) | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) | (<span class="Constant">1</span>&lt;&lt;PIN_SCLK);

<span class="Comment">// SPI setup </span>
SPCR = (<span class="Constant">1</span>&lt;&lt;SPE)|(<span class="Constant">1</span>&lt;&lt;MSTR)|(<span class="Constant">1</span>&lt;&lt;SPR0); <span class="Comment">// SPI mode 0, master, prescaler 1/16</span></pre>

<p>
	Ну и  последнее, в функции void pcd8544_send(uint8_t dc, uint8_t data), программный SPI:
</p>
<pre class="CodeC">PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
<span class="Statement">for</span> (i=<span class="Constant">0</span>; i&lt;<span class="Constant">8</span>; i++)
{
  PORT_PCD8544=(data &amp; <span class="Constant">0x80</span>) ? PORT_PCD8544 | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) : PORT_PCD8544 &amp; ~(<span class="Constant">1</span>&lt;&lt;PIN_SDIN);

  data=(data&lt;&lt;<span class="Constant">1</span>);

  PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
  PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
}
PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
</pre>
<p>
	заменяется на аппаратный:
</p>
<pre class="CodeC">PORTB&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCE);

SPDR=data;
<span class="Statement">while</span>(!(SPSR &amp; (<span class="Constant">1</span>&lt;&lt;SPIF)));

PORTB|=(<span class="Constant">1</span>&lt;&lt;PIN_SCE);</pre>

<p>
	
	Это все. Полный исходник под спойлером.
</p>

<a href="http://www.count-zero.ru/2017/pcd8544/#spoiler-C" data-toggle="collapse" class="btn tag-primary spoiler collapsed">показать полный код</a><p></p>
<div class="collapse" id="spoiler-C">
<div class="wall"> 
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">&lt;avr/io.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">&lt;util/delay.h&gt;</span>
<span class="Comment">// PORT D</span>
<span class="PreProc">#define PIN_RESET PD6</span>
<span class="PreProc">#define PIN_DC    PD7</span>
<span class="Comment">// PORT B</span>
<span class="PreProc">#define PIN_SCE   PB2</span>
<span class="PreProc">#define PIN_SDIN  PB3</span>
<span class="PreProc">#define PIN_SCLK  PB5</span>
<span class="Comment">// LCD</span>
<span class="PreProc">#define LCD_C     </span><span class="Constant">0x00</span>
<span class="PreProc">#define LCD_D     </span><span class="Constant">0x01</span>

<span class="PreProc">#define LCD_X     </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y     </span><span class="Constant">48</span>

<span class="PreProc">#define PORT_PCD8544 PORTD</span>
<span class="PreProc">#define DDR_PCD8544  DDRD</span>

<span class="Type">static</span> <span class="Type">const</span> <span class="Type">uint8_t</span> ASCII[][<span class="Constant">5</span>] =
{
 {<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">20</span><span class="Comment">  </span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x5f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">21</span><span class="Comment"> !</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">22</span><span class="Comment"> </span><span class="Constant">"</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>} <span class="Comment">// </span><span class="Constant">23</span><span class="Comment"> #</span>
,{<span class="Constant">0x24</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x12</span>} <span class="Comment">// </span><span class="Constant">24</span><span class="Comment"> $</span>
,{<span class="Constant">0x23</span>, <span class="Constant">0x13</span>, <span class="Constant">0x08</span>, <span class="Constant">0x64</span>, <span class="Constant">0x62</span>} <span class="Comment">// </span><span class="Constant">25</span><span class="Comment"> %</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x55</span>, <span class="Constant">0x22</span>, <span class="Constant">0x50</span>} <span class="Comment">// </span><span class="Constant">26</span><span class="Comment"> &amp;</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">27</span><span class="Comment"> '</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">28</span><span class="Comment"> (</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">29</span><span class="Comment"> )</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>} <span class="Comment">// 2a *</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2b +</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x50</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2c ,</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2d -</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x60</span>, <span class="Constant">0x60</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2e .</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">2f</span><span class="Comment"> /</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">30</span><span class="Comment"> </span><span class="Constant">0</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x42</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">31</span><span class="Comment"> </span><span class="Constant">1</span>
,{<span class="Constant">0x42</span>, <span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">32</span><span class="Comment"> </span><span class="Constant">2</span>
,{<span class="Constant">0x21</span>, <span class="Constant">0x41</span>, <span class="Constant">0x45</span>, <span class="Constant">0x4b</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">33</span><span class="Comment"> </span><span class="Constant">3</span>
,{<span class="Constant">0x18</span>, <span class="Constant">0x14</span>, <span class="Constant">0x12</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x10</span>} <span class="Comment">// </span><span class="Constant">34</span><span class="Comment"> </span><span class="Constant">4</span>
,{<span class="Constant">0x27</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x39</span>} <span class="Comment">// </span><span class="Constant">35</span><span class="Comment"> </span><span class="Constant">5</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x30</span>} <span class="Comment">// </span><span class="Constant">36</span><span class="Comment"> </span><span class="Constant">6</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x71</span>, <span class="Constant">0x09</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>} <span class="Comment">// </span><span class="Constant">37</span><span class="Comment"> </span><span class="Constant">7</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">38</span><span class="Comment"> </span><span class="Constant">8</span>
,{<span class="Constant">0x06</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x29</span>, <span class="Constant">0x1e</span>} <span class="Comment">// </span><span class="Constant">39</span><span class="Comment"> </span><span class="Constant">9</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x36</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3a :</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x56</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3b ;</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3c &lt;</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>} <span class="Comment">// 3d =</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// 3e &gt;</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x51</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">3f</span><span class="Comment"> ?</span>
,{<span class="Constant">0x32</span>, <span class="Constant">0x49</span>, <span class="Constant">0x79</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">40</span><span class="Comment"> @</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>} <span class="Comment">// </span><span class="Constant">41</span><span class="Comment"> A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">42</span><span class="Comment"> B</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>} <span class="Comment">// </span><span class="Constant">43</span><span class="Comment"> C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">44</span><span class="Comment"> D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>} <span class="Comment">// </span><span class="Constant">45</span><span class="Comment"> E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">46</span><span class="Comment"> F</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x7a</span>} <span class="Comment">// </span><span class="Constant">47</span><span class="Comment"> G</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">48</span><span class="Comment"> H</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">49</span><span class="Comment"> I</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>} <span class="Comment">// 4a J</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>} <span class="Comment">// 4b K</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// 4c L</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4d M</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4e N</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">4f</span><span class="Comment"> O</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">50</span><span class="Comment"> P</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x51</span>, <span class="Constant">0x21</span>, <span class="Constant">0x5e</span>} <span class="Comment">// </span><span class="Constant">51</span><span class="Comment"> Q</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x19</span>, <span class="Constant">0x29</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">52</span><span class="Comment"> R</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">53</span><span class="Comment"> S</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">54</span><span class="Comment"> T</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">55</span><span class="Comment"> U</span>
,{<span class="Constant">0x1f</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1f</span>} <span class="Comment">// </span><span class="Constant">56</span><span class="Comment"> V</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x38</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">57</span><span class="Comment"> W</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>} <span class="Comment">// </span><span class="Constant">58</span><span class="Comment"> X</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x70</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>} <span class="Comment">// </span><span class="Constant">59</span><span class="Comment"> Y</span>
,{<span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x43</span>} <span class="Comment">// 5a Z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5b [</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x20</span>} <span class="Comment">// 5c ?</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5d ]</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>} <span class="Comment">// 5e ^</span>
,{<span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// </span><span class="Constant">5f</span><span class="Comment"> _</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">60</span><span class="Comment"> `</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">61</span><span class="Comment"> a</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">62</span><span class="Comment"> b</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">63</span><span class="Comment"> c</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x48</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">64</span><span class="Comment"> d</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>} <span class="Comment">// </span><span class="Constant">65</span><span class="Comment"> e</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x7e</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">66</span><span class="Comment"> f</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">67</span><span class="Comment"> g</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">68</span><span class="Comment"> h</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x44</span>, <span class="Constant">0x7d</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">69</span><span class="Comment"> i</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3d</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6a j </span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6b k</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6c l</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x18</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6d m</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6e n</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">6f</span><span class="Comment"> o</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">70</span><span class="Comment"> p</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x18</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">71</span><span class="Comment"> q</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">72</span><span class="Comment"> r</span>
,{<span class="Constant">0x48</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">73</span><span class="Comment"> s</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x44</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">74</span><span class="Comment"> t</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">75</span><span class="Comment"> u</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">76</span><span class="Comment"> v</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x30</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">77</span><span class="Comment"> w</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>} <span class="Comment">// </span><span class="Constant">78</span><span class="Comment"> x</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">79</span><span class="Comment"> y</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x64</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>} <span class="Comment">// 7a z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x08</span>, <span class="Constant">0x36</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7b {</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7c |</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x36</span>, <span class="Constant">0x08</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7d }</span>
,{<span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>} <span class="Comment">// 7e &lt;</span>
,{<span class="Constant">0x78</span>, <span class="Constant">0x46</span>, <span class="Constant">0x41</span>, <span class="Constant">0x46</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">7f</span><span class="Comment"> &gt;</span>
};

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>);
<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data);
<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str);
<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch);
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>);
<span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);

<span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   pcd8544_clear();
   pcd8544_print_at(<span class="Constant">"Nokia 3310"</span>,<span class="Constant">1</span>,<span class="Constant">0</span>);
   pcd8544_print_at(<span class="Constant">"Connecting"</span>,<span class="Constant">1</span>,<span class="Constant">2</span>);
   pcd8544_print_at(<span class="Constant">"People"</span>,<span class="Constant">6</span>,<span class="Constant">3</span>);

   <span class="Statement">for</span> (;;){
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>)
{

   <span class="Comment">// GPIO Setup</span>
   DDR_PCD8544 |=(<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC);
   DDRB |= (<span class="Constant">1</span>&lt;&lt;PIN_SCE) | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) | (<span class="Constant">1</span>&lt;&lt;PIN_SCLK);

   <span class="Comment">// SPI setup </span>
   SPCR = (<span class="Constant">1</span>&lt;&lt;SPE)|(<span class="Constant">1</span>&lt;&lt;MSTR)|(<span class="Constant">1</span>&lt;&lt;SPR0); <span class="Comment">// master mode, </span>

   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   pcd8544_send(LCD_C, <span class="Constant">0x21</span> );  <span class="Comment">// LCD Extended Commands.</span>
   pcd8544_send(LCD_C, <span class="Constant">0xBA</span> );  <span class="Comment">// Set LCD Vop (Contrast).</span>
   pcd8544_send(LCD_C, <span class="Constant">0x04</span> );  <span class="Comment">// Set Temp coefficent. //</span><span class="Constant">0x04</span>
   pcd8544_send(LCD_C, <span class="Constant">0x14</span> );  <span class="Comment">// LCD bias mode </span><span class="Constant">1</span><span class="Comment">:</span><span class="Constant">48.</span><span class="Comment"> //</span><span class="Constant">0x13</span>
   pcd8544_send(LCD_C, <span class="Constant">0x20</span> );  <span class="Comment">// LCD Basic Commands</span>
   pcd8544_send(LCD_C, <span class="Constant">0x0C</span> );  <span class="Comment">// LCD in normal mode.</span>
}

<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data)
{
   <span class="Comment">//uint8_t i;</span>
   <span class="Statement">if</span> (dc == LCD_D)
      PORT_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_DC);
   <span class="Statement">else</span>
      PORT_PCD8544 &amp;= ~(<span class="Constant">1</span>&lt;&lt;PIN_DC);

   PORTB&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCE);

   SPDR=data;
   <span class="Statement">while</span>(!(SPSR &amp; (<span class="Constant">1</span>&lt;&lt;SPIF)));

   PORTB|=(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
}

<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str)
{
   <span class="Statement">while</span> (*str)
   {
      pcd8544_send_char(*str++);
   }
}

<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch)
{
   <span class="Type">int</span> i;
   <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
      <span class="Statement">for</span> (i = <span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
      {
        pcd8544_send(LCD_D,  ASCII[ch - <span class="Constant">0x20</span>][i]);
      }
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>)
{
   <span class="Type">int</span> i;
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; LCD_X * LCD_Y / <span class="Constant">8</span>; i++)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}

<span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    x=x%<span class="Constant">12</span>; y=y%<span class="Constant">6</span>;
    pcd8544_send(LCD_C, <span class="Constant">0x40</span>+y);
    pcd8544_send(LCD_C, <span class="Constant">0x80</span>+x*<span class="Constant">7</span>);
}

<span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y)
{
    pcd8544_set_cursor(x,y);
    <span class="Statement">while</span> (*str)
    {
        pcd8544_send_char(*str++);
    }
}</pre>
</div>
</div>

<h3><a name="5"></a>5) Функции масштабирование шрифта в два и три раза</h3>
<p>
	Пока отбросим аппаратный SPI в сторону и продолжим работать с программным. 
</p>
<p>
	Т.к. дисплей маленький, одной из самых востребованных функций является алгоритмическое увеличение шрифта.
</p>
<p>
	Для увеличения шрифта в два раза добавим такую функцию:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_send_char_size2(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    <span class="Type">uint8_t</span> s[<span class="Constant">5</span>]; <span class="Comment">// source</span>
    <span class="Type">uint8_t</span> r[<span class="Constant">20</span>]; <span class="Comment">// result</span>
    <span class="Type">uint8_t</span> i,j;
   <span class="Comment">// get littera</span>
    <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
    {
        <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
        {
            s[i]=ASCII[ch-<span class="Constant">0x20</span>][i];
        }
    }
    <span class="Comment">// scale</span>
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b=<span class="Constant">0</span>;
        <span class="Type">uint8_t</span> a=<span class="Constant">0</span>;
        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;<span class="Constant">4</span>;j++)
        {
            b=(s[i]&gt;&gt;j) &amp; <span class="Constant">0x01</span>;
            a|=(b&lt;&lt;(j&lt;&lt;<span class="Constant">1</span>)) | (b&lt;&lt;((j&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>));
        }
        r[(i&lt;&lt;<span class="Constant">1</span>)]=a;
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>]=a;
    }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b=<span class="Constant">0</span>;
        <span class="Type">uint8_t</span> a=<span class="Constant">0</span>;
        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;<span class="Constant">4</span>;j++)
        {
            b=(s[i]&gt;&gt;(j+<span class="Constant">4</span>)) &amp; <span class="Constant">0x01</span>;
            a|=(b&lt;&lt;(j&lt;&lt;<span class="Constant">1</span>)) | (b&lt;&lt;((j&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>));
        }
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">10</span>]=a;
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">11</span>]=a;
    }
    <span class="Comment">// print</span>
    pcd8544_set_cursor(x,y);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">10</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">1</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">10</span>;i&lt;<span class="Constant">20</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
}</pre>
<p>
	А увеличение в три раза будет делать такая функция:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_send_char_size3(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    <span class="Type">uint8_t</span> s[<span class="Constant">5</span>]; <span class="Comment">// source</span>
    <span class="Type">uint8_t</span> r[<span class="Constant">45</span>]; <span class="Comment">// result</span>
    <span class="Type">uint8_t</span> i;
    <span class="Comment">// get littera</span>
    <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
    {
        <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
        {
            s[i]=ASCII[ch-<span class="Constant">0x20</span>][i];
        }
    }
    <span class="Comment">// scale</span>
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i] &amp; <span class="Constant">0x01</span>);
        a=(b) ? <span class="Constant">0x7</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">1</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x38</span>;
        b=(s[i]&gt;&gt;<span class="Constant">2</span>) &amp; <span class="Constant">0x01</span>;
        a|=(b&lt;&lt;<span class="Constant">6</span>)|(b&lt;&lt;<span class="Constant">7</span>);

        r[i*<span class="Constant">3</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">1</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">2</span>]=a;

        r[i*<span class="Constant">3</span>+<span class="Constant">15</span>]=b;
        r[i*<span class="Constant">3</span>+<span class="Constant">16</span>]=b;
        r[i*<span class="Constant">3</span>+<span class="Constant">17</span>]=b;
    }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i]&gt;&gt;<span class="Constant">3</span>) &amp; <span class="Constant">0x01</span>;
        a=(b) ? <span class="Constant">0x0e</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">4</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x70</span>;
        b=(s[i]&gt;&gt;<span class="Constant">5</span>) &amp; <span class="Constant">0x01</span>;
        a|=(b&lt;&lt;<span class="Constant">7</span>);

        r[i*<span class="Constant">3</span>+<span class="Constant">15</span>]|=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">16</span>]|=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">17</span>]|=a;
     }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i]&gt;&gt;<span class="Constant">5</span>) &amp; <span class="Constant">0x01</span>;
        a=(b) ? <span class="Constant">0x3</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">6</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x1c</span>;
        b=(s[i]&gt;&gt;<span class="Constant">7</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0xe0</span>;

        r[i*<span class="Constant">3</span>+<span class="Constant">30</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">31</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">32</span>]=a;
     }

    <span class="Comment">// print</span>
    pcd8544_set_cursor(x,y);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">15</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">1</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">15</span>;i&lt;<span class="Constant">30</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">2</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">30</span>;i&lt;<span class="Constant">45</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
}</pre>
<p>
	Чтобы можно было печатать строки нужным размером шрифта, недавно введенную функцию void pcd8544_print_at() приведем к такому виду:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> size,  <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y)
{
    <span class="Type">uint8_t</span> i=<span class="Constant">0</span>;
    pcd8544_set_cursor(x,y);
    <span class="Statement">switch</span> (size) {
      <span class="Statement">case</span> <span class="Constant">3</span>:
      <span class="Statement">while</span> (*str)
      {
         pcd8544_send_char_size3(*str++,x+i,y);
         i+=<span class="Constant">3</span>;
      }
      <span class="Statement">break</span>;
      <span class="Statement">case</span> <span class="Constant">2</span>:
      <span class="Statement">while</span> (*str)
      {
        pcd8544_send_char_size2(*str++,x+i,y);
        i+=<span class="Constant">2</span>;
      }
      <span class="Statement">break</span>;
      <span class="Statement">default</span>:
      <span class="Statement">while</span> (*str)
      {
        pcd8544_send_char(*str++);
      }
      <span class="Statement">break</span>;
   }
}</pre>
<p>
	И последнее, что нам нужно от шрифтов, это печать небольшого целого числа. 
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_print_uint8_at(<span class="Type">uint8_t</span> num, <span class="Type">uint8_t</span> size, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y){
    <span class="Type">uint8_t</span> sym[<span class="Constant">3</span>];
    <span class="Type">int8_t</span> i=<span class="Constant">2</span>;
    <span class="Statement">do</span>  {
      <span class="Statement">if</span> (num == <span class="Constant">0</span> &amp;&amp; i&lt;<span class="Constant">2</span>)
        sym[i]=<span class="Constant">0x20</span>; <span class="Comment">// space</span>
      <span class="Statement">else</span>
        sym[i]=<span class="Constant">0x30</span>+num%<span class="Constant">10</span>;

      num=num/<span class="Constant">10</span>;
      i--;

    } <span class="Statement">while</span> (i&gt;=<span class="Constant">0</span>);

    <span class="Type">uint8_t</span> j=<span class="Constant">0</span>;
    <span class="Statement">for</span> (i=<span class="Constant">0</span>;i&lt;<span class="Constant">3</span>;i++)
    {
        <span class="Statement">if</span> (!(i&lt;<span class="Constant">2</span> &amp;&amp; sym[i] == <span class="Constant">0x20</span>))
        {
            <span class="Statement">switch</span>(size) {
            <span class="Statement">case</span> <span class="Constant">3</span>:
                pcd8544_send_char_size3(sym[i],x+j*size,y);
                <span class="Statement">break</span>;
            <span class="Statement">case</span> <span class="Constant">2</span>:
                pcd8544_send_char_size2(sym[i],x+j*size,y);
                <span class="Statement">break</span>;
            <span class="Statement">default</span>:
                pcd8544_send_char(sym[i]);
                <span class="Statement">break</span>;
            }
            j++;
        }
    }
</pre>
<p>
	Для теста, в функции main() сделаем печать шрифта крупным шрифтом:
</p>
<pre class="CodeC"><span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   <span class="Type">uint8_t</span> i=<span class="Constant">0</span>;
   <span class="Statement">for</span> (;;){
      pcd8544_clear();
      pcd8544_print_at(<span class="Constant">"&gt;"</span>,<span class="Constant">3</span>,<span class="Constant">0</span>,<span class="Constant">2</span>);
      pcd8544_print_uint8_at(i++,<span class="Constant">3</span>,<span class="Constant">3</span>,<span class="Constant">2</span>);
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>

<p>
	Результат работы, без анимации:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/12.png" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/12.png" width="70%"></a> 
</p>
<p>
	Полный листинг программы под спойлером:
</p>

<a href="http://www.count-zero.ru/2017/pcd8544/#spoiler-D" data-toggle="collapse" class="btn tag-primary spoiler collapsed">показать полный код</a><p></p>
<div class="collapse" id="spoiler-D">
<div class="wall"> 
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">&lt;avr/io.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">&lt;util/delay.h&gt;</span>

<span class="PreProc">#define PIN_SCE   PD7</span>
<span class="PreProc">#define PIN_RESET PD6</span>
<span class="PreProc">#define PIN_DC    PD5</span>
<span class="PreProc">#define PIN_SDIN  PD4</span>
<span class="PreProc">#define PIN_SCLK  PD3</span>

<span class="PreProc">#define LCD_C     </span><span class="Constant">0x00</span>
<span class="PreProc">#define LCD_D     </span><span class="Constant">0x01</span>

<span class="PreProc">#define LCD_X     </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y     </span><span class="Constant">48</span>

<span class="PreProc">#define PORT_PCD8544 PORTD</span>
<span class="PreProc">#define DDR_PCD8544  DDRD</span>

<span class="Type">static</span> <span class="Type">const</span> <span class="Type">uint8_t</span> ASCII[][<span class="Constant">5</span>] =
{
 {<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">20</span><span class="Comment">  </span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x5f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">21</span><span class="Comment"> !</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">22</span><span class="Comment"> </span><span class="Constant">"</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>} <span class="Comment">// </span><span class="Constant">23</span><span class="Comment"> #</span>
,{<span class="Constant">0x24</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x12</span>} <span class="Comment">// </span><span class="Constant">24</span><span class="Comment"> $</span>
,{<span class="Constant">0x23</span>, <span class="Constant">0x13</span>, <span class="Constant">0x08</span>, <span class="Constant">0x64</span>, <span class="Constant">0x62</span>} <span class="Comment">// </span><span class="Constant">25</span><span class="Comment"> %</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x55</span>, <span class="Constant">0x22</span>, <span class="Constant">0x50</span>} <span class="Comment">// </span><span class="Constant">26</span><span class="Comment"> &amp;</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">27</span><span class="Comment"> '</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">28</span><span class="Comment"> (</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">29</span><span class="Comment"> )</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>} <span class="Comment">// 2a *</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2b +</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x50</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2c ,</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2d -</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x60</span>, <span class="Constant">0x60</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2e .</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">2f</span><span class="Comment"> /</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">30</span><span class="Comment"> </span><span class="Constant">0</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x42</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">31</span><span class="Comment"> </span><span class="Constant">1</span>
,{<span class="Constant">0x42</span>, <span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">32</span><span class="Comment"> </span><span class="Constant">2</span>
,{<span class="Constant">0x21</span>, <span class="Constant">0x41</span>, <span class="Constant">0x45</span>, <span class="Constant">0x4b</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">33</span><span class="Comment"> </span><span class="Constant">3</span>
,{<span class="Constant">0x18</span>, <span class="Constant">0x14</span>, <span class="Constant">0x12</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x10</span>} <span class="Comment">// </span><span class="Constant">34</span><span class="Comment"> </span><span class="Constant">4</span>
,{<span class="Constant">0x27</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x39</span>} <span class="Comment">// </span><span class="Constant">35</span><span class="Comment"> </span><span class="Constant">5</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x30</span>} <span class="Comment">// </span><span class="Constant">36</span><span class="Comment"> </span><span class="Constant">6</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x71</span>, <span class="Constant">0x09</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>} <span class="Comment">// </span><span class="Constant">37</span><span class="Comment"> </span><span class="Constant">7</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">38</span><span class="Comment"> </span><span class="Constant">8</span>
,{<span class="Constant">0x06</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x29</span>, <span class="Constant">0x1e</span>} <span class="Comment">// </span><span class="Constant">39</span><span class="Comment"> </span><span class="Constant">9</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x36</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3a :</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x56</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3b ;</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3c &lt;</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>} <span class="Comment">// 3d =</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// 3e &gt;</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x51</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">3f</span><span class="Comment"> ?</span>
,{<span class="Constant">0x32</span>, <span class="Constant">0x49</span>, <span class="Constant">0x79</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">40</span><span class="Comment"> @</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>} <span class="Comment">// </span><span class="Constant">41</span><span class="Comment"> A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">42</span><span class="Comment"> B</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>} <span class="Comment">// </span><span class="Constant">43</span><span class="Comment"> C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">44</span><span class="Comment"> D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>} <span class="Comment">// </span><span class="Constant">45</span><span class="Comment"> E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">46</span><span class="Comment"> F</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x7a</span>} <span class="Comment">// </span><span class="Constant">47</span><span class="Comment"> G</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">48</span><span class="Comment"> H</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">49</span><span class="Comment"> I</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>} <span class="Comment">// 4a J</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>} <span class="Comment">// 4b K</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// 4c L</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4d M</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4e N</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">4f</span><span class="Comment"> O</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">50</span><span class="Comment"> P</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x51</span>, <span class="Constant">0x21</span>, <span class="Constant">0x5e</span>} <span class="Comment">// </span><span class="Constant">51</span><span class="Comment"> Q</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x19</span>, <span class="Constant">0x29</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">52</span><span class="Comment"> R</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">53</span><span class="Comment"> S</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">54</span><span class="Comment"> T</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">55</span><span class="Comment"> U</span>
,{<span class="Constant">0x1f</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1f</span>} <span class="Comment">// </span><span class="Constant">56</span><span class="Comment"> V</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x38</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">57</span><span class="Comment"> W</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>} <span class="Comment">// </span><span class="Constant">58</span><span class="Comment"> X</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x70</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>} <span class="Comment">// </span><span class="Constant">59</span><span class="Comment"> Y</span>
,{<span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x43</span>} <span class="Comment">// 5a Z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5b [</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x20</span>} <span class="Comment">// 5c ?</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5d ]</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>} <span class="Comment">// 5e ^</span>
,{<span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// </span><span class="Constant">5f</span><span class="Comment"> _</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">60</span><span class="Comment"> `</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">61</span><span class="Comment"> a</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">62</span><span class="Comment"> b</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">63</span><span class="Comment"> c</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x48</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">64</span><span class="Comment"> d</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>} <span class="Comment">// </span><span class="Constant">65</span><span class="Comment"> e</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x7e</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">66</span><span class="Comment"> f</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">67</span><span class="Comment"> g</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">68</span><span class="Comment"> h</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x44</span>, <span class="Constant">0x7d</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">69</span><span class="Comment"> i</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3d</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6a j </span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6b k</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6c l</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x18</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6d m</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6e n</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">6f</span><span class="Comment"> o</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">70</span><span class="Comment"> p</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x18</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">71</span><span class="Comment"> q</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">72</span><span class="Comment"> r</span>
,{<span class="Constant">0x48</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">73</span><span class="Comment"> s</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x44</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">74</span><span class="Comment"> t</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">75</span><span class="Comment"> u</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">76</span><span class="Comment"> v</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x30</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">77</span><span class="Comment"> w</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>} <span class="Comment">// </span><span class="Constant">78</span><span class="Comment"> x</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">79</span><span class="Comment"> y</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x64</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>} <span class="Comment">// 7a z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x08</span>, <span class="Constant">0x36</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7b {</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7c |</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x36</span>, <span class="Constant">0x08</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7d }</span>
,{<span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>} <span class="Comment">// 7e &lt;</span>
,{<span class="Constant">0x78</span>, <span class="Constant">0x46</span>, <span class="Constant">0x41</span>, <span class="Constant">0x46</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">7f</span><span class="Comment"> &gt;</span>
};

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>);
<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data);
<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str);
<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch);
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>);
<span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> size, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">void</span> pcd8544_send_char_size2(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">void</span> pcd8544_send_char_size3(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">void</span> pcd8544_print_uint8_at(<span class="Type">uint8_t</span> num, <span class="Type">uint8_t</span> size, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);

<span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   <span class="Type">uint8_t</span> i=<span class="Constant">0</span>;
   <span class="Statement">for</span> (;;){
      pcd8544_clear();
      pcd8544_print_at(<span class="Constant">"&gt;"</span>,<span class="Constant">3</span>,<span class="Constant">0</span>,<span class="Constant">2</span>);
      pcd8544_print_uint8_at(i++,<span class="Constant">3</span>,<span class="Constant">3</span>,<span class="Constant">2</span>);
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>)
{
   <span class="Comment">// GPIO Setup</span>
   DDR_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_SCE) | (<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC) | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) | (<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   pcd8544_send(LCD_C, <span class="Constant">0x21</span> );  <span class="Comment">// LCD Extended Commands.</span>
   pcd8544_send(LCD_C, <span class="Constant">0xBA</span> );  <span class="Comment">// Set LCD Vop (Contrast).</span>
   pcd8544_send(LCD_C, <span class="Constant">0x04</span> );  <span class="Comment">// Set Temp coefficent. //</span><span class="Constant">0x04</span>
   pcd8544_send(LCD_C, <span class="Constant">0x14</span> );  <span class="Comment">// LCD bias mode </span><span class="Constant">1</span><span class="Comment">:</span><span class="Constant">48.</span><span class="Comment"> //</span><span class="Constant">0x13</span>
   pcd8544_send(LCD_C, <span class="Constant">0x20</span> );  <span class="Comment">// LCD Basic Commands</span>
   pcd8544_send(LCD_C, <span class="Constant">0x0C</span> );  <span class="Comment">// LCD in normal mode.</span>
}

<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data)
{
   <span class="Type">uint8_t</span> i;
   <span class="Statement">if</span> (dc == LCD_D)
      PORT_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_DC);
   <span class="Statement">else</span>
      PORT_PCD8544 &amp;= ~(<span class="Constant">1</span>&lt;&lt;PIN_DC);

   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i&lt;<span class="Constant">8</span>; i++)
   {
      PORT_PCD8544=(data &amp; <span class="Constant">0x80</span>) ? PORT_PCD8544 | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) : PORT_PCD8544 &amp; ~(<span class="Constant">1</span>&lt;&lt;PIN_SDIN);

      data=(data&lt;&lt;<span class="Constant">1</span>);

      PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
      PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   }
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
}

<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str)
{
   <span class="Statement">while</span> (*str)
   {
      pcd8544_send_char(*str++);
   }
}

<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch)
{
   <span class="Type">int</span> i;
   <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
      <span class="Statement">for</span> (i = <span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
      {
         pcd8544_send(LCD_D,  ASCII[ch - <span class="Constant">0x20</span>][i]);
      }
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>)
{
   <span class="Type">int</span> i;
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; LCD_X * LCD_Y / <span class="Constant">8</span>; i++)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}

<span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    x=x%<span class="Constant">12</span>; y=y%<span class="Constant">6</span>;
    pcd8544_send(LCD_C, <span class="Constant">0x40</span>+y);
    pcd8544_send(LCD_C, <span class="Constant">0x80</span>+x*<span class="Constant">7</span>);
}

<span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> size,  <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y)
{
    <span class="Type">uint8_t</span> i=<span class="Constant">0</span>;
    pcd8544_set_cursor(x,y);
    <span class="Statement">switch</span> (size) {
      <span class="Statement">case</span> <span class="Constant">3</span>:
      <span class="Statement">while</span> (*str)
      {
         pcd8544_send_char_size3(*str++,x+i,y);
         i+=<span class="Constant">3</span>;
      }
      <span class="Statement">break</span>;
      <span class="Statement">case</span> <span class="Constant">2</span>:
      <span class="Statement">while</span> (*str)
      {
        pcd8544_send_char_size2(*str++,x+i,y);
        i+=<span class="Constant">2</span>;
      }
      <span class="Statement">break</span>;
      <span class="Statement">default</span>:
      <span class="Statement">while</span> (*str)
      {
        pcd8544_send_char(*str++);
      }
      <span class="Statement">break</span>;
   }
}

<span class="Type">void</span> pcd8544_send_char_size2(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    <span class="Type">uint8_t</span> s[<span class="Constant">5</span>]; <span class="Comment">// source</span>
    <span class="Type">uint8_t</span> r[<span class="Constant">20</span>]; <span class="Comment">// result</span>
    <span class="Type">uint8_t</span> i,j;
   <span class="Comment">// get littera</span>
    <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
    {
        <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
        {
            s[i]=ASCII[ch-<span class="Constant">0x20</span>][i];
        }
    }
    <span class="Comment">// scale</span>
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b=<span class="Constant">0</span>;
        <span class="Type">uint8_t</span> a=<span class="Constant">0</span>;
        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;<span class="Constant">4</span>;j++)
        {
            b=(s[i]&gt;&gt;j) &amp; <span class="Constant">0x01</span>;
            a|=(b&lt;&lt;(j&lt;&lt;<span class="Constant">1</span>)) | (b&lt;&lt;((j&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>));
        }
        r[(i&lt;&lt;<span class="Constant">1</span>)]=a;
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>]=a;
    }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b=<span class="Constant">0</span>;
        <span class="Type">uint8_t</span> a=<span class="Constant">0</span>;
        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;<span class="Constant">4</span>;j++)
        {
            b=(s[i]&gt;&gt;(j+<span class="Constant">4</span>)) &amp; <span class="Constant">0x01</span>;
            a|=(b&lt;&lt;(j&lt;&lt;<span class="Constant">1</span>)) | (b&lt;&lt;((j&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>));
        }
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">10</span>]=a;
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">11</span>]=a;
    }
    <span class="Comment">// print</span>
    pcd8544_set_cursor(x,y);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">10</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">1</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">10</span>;i&lt;<span class="Constant">20</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
}
<span class="Type">void</span> pcd8544_send_char_size3(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    <span class="Type">uint8_t</span> s[<span class="Constant">5</span>]; <span class="Comment">// source</span>
    <span class="Type">uint8_t</span> r[<span class="Constant">45</span>]; <span class="Comment">// result</span>
    <span class="Type">uint8_t</span> i;
    <span class="Comment">// get littera</span>
    <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
    {
        <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
        {
            s[i]=ASCII[ch-<span class="Constant">0x20</span>][i];
        }
    }
    <span class="Comment">// scale</span>
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i] &amp; <span class="Constant">0x01</span>);
        a=(b) ? <span class="Constant">0x7</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">1</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x38</span>;
        b=(s[i]&gt;&gt;<span class="Constant">2</span>) &amp; <span class="Constant">0x01</span>;
        a|=(b&lt;&lt;<span class="Constant">6</span>)|(b&lt;&lt;<span class="Constant">7</span>);

        r[i*<span class="Constant">3</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">1</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">2</span>]=a;

        r[i*<span class="Constant">3</span>+<span class="Constant">15</span>]=b;
        r[i*<span class="Constant">3</span>+<span class="Constant">16</span>]=b;
        r[i*<span class="Constant">3</span>+<span class="Constant">17</span>]=b;
    }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i]&gt;&gt;<span class="Constant">3</span>) &amp; <span class="Constant">0x01</span>;
        a=(b) ? <span class="Constant">0x0e</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">4</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x70</span>;
        b=(s[i]&gt;&gt;<span class="Constant">5</span>) &amp; <span class="Constant">0x01</span>;
        a|=(b&lt;&lt;<span class="Constant">7</span>);

        r[i*<span class="Constant">3</span>+<span class="Constant">15</span>]|=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">16</span>]|=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">17</span>]|=a;
     }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i]&gt;&gt;<span class="Constant">5</span>) &amp; <span class="Constant">0x01</span>;
        a=(b) ? <span class="Constant">0x3</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">6</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x1c</span>;
        b=(s[i]&gt;&gt;<span class="Constant">7</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0xe0</span>;

        r[i*<span class="Constant">3</span>+<span class="Constant">30</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">31</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">32</span>]=a;
     }

    <span class="Comment">// print</span>
    pcd8544_set_cursor(x,y);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">15</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">1</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">15</span>;i&lt;<span class="Constant">30</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">2</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">30</span>;i&lt;<span class="Constant">45</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
}

<span class="Type">void</span> pcd8544_print_uint8_at(<span class="Type">uint8_t</span> num, <span class="Type">uint8_t</span> size, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y){
    <span class="Type">uint8_t</span> sym[<span class="Constant">3</span>];
    <span class="Type">int8_t</span> i=<span class="Constant">2</span>;
    <span class="Statement">do</span>  {
      <span class="Statement">if</span> (num == <span class="Constant">0</span> &amp;&amp; i&lt;<span class="Constant">2</span>)
        sym[i]=<span class="Constant">0x20</span>; <span class="Comment">// space</span>
      <span class="Statement">else</span>
        sym[i]=<span class="Constant">0x30</span>+num%<span class="Constant">10</span>;

      num=num/<span class="Constant">10</span>;
      i--;

    } <span class="Statement">while</span> (i&gt;=<span class="Constant">0</span>);

    <span class="Type">uint8_t</span> j=<span class="Constant">0</span>;
    <span class="Statement">for</span> (i=<span class="Constant">0</span>;i&lt;<span class="Constant">3</span>;i++)
    {
        <span class="Statement">if</span> (!(i&lt;<span class="Constant">2</span> &amp;&amp; sym[i] == <span class="Constant">0x20</span>))
        {
            <span class="Statement">switch</span>(size) {
            <span class="Statement">case</span> <span class="Constant">3</span>:
                pcd8544_send_char_size3(sym[i],x+j*size,y);
                <span class="Statement">break</span>;
            <span class="Statement">case</span> <span class="Constant">2</span>:
                pcd8544_send_char_size2(sym[i],x+j*size,y);
                <span class="Statement">break</span>;
            <span class="Statement">default</span>:
                pcd8544_send_char(sym[i]);
                <span class="Statement">break</span>;
            }
            j++;
        }
    }
}</pre>
</div>
</div>
<h3><a name="6"></a>6) Создание проекта для реального микроконтроллера ATmega8, чтение таблицы ASCII  из флеш-памяти</h3>

<p>
	К сожалению, это все на был способен Proteus, поэтому переходим к реальному железу. Сейчас мы создадим проект и заодно перепишем код на хранение ascii-таблицы в флеш-памяти, с последующим чтением ее оттуда. Так следовало бы сделать с самого начала, если бы не Proteus :(
</p>
<p>
	Итак, предполагаем, что используется Linux или CYGWIN в случае с Windows. Т.к. работа с флеш-памятью может меняться в зависимости от то ли версии avr-gcc то ли версии avr-libc, скажу что avr-libc у меня версии 1.8.1,  а  версия avr-gcc:
</p>
<pre class="CodeC">$ avr-gcc --version
avr-gcc (GCC) 4.9.2
Copyright (C) 2014 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
</pre>

<p>
	Создаем структуру каталогов будущего проекта:
</p>
<pre class="CodeC">$ mkdir -p ./06_flash_ascii/{inc,src}</pre>
<p>
	Заходим:
</p>
<pre class="CodeC">$ cd ./06_flash_ascii</pre>
<p>
	Создаем Makefile такого содержания:
</p>
<pre class="CodeC"><span class="Identifier">MCU</span>=atmega8
<span class="Identifier">OBJCOPY</span>=avr-objcopy
<span class="Identifier">CC</span>=avr-gcc
<span class="Identifier">CFLAGS</span>=-mmcu=<span class="Identifier">$(MCU)</span> -Os -fdata-sections -ffunction-sections -DF_CPU=16000000UL -Wall -I ./inc
<span class="Identifier">LDFLAGS</span>=-mmcu=<span class="Identifier">$(MCU)</span> -Wl,--gc-sections  -Werror
<span class="Identifier">OBJ</span>=main.o pcd8544_soft.o
<span class="Identifier">TARGET</span>=lcd
<span class="Statement">.PHONY:</span> all install clean

<span class="Identifier">%.o:</span>    ./src/<span class="Identifier">%</span>.c
<span class="Constant">        </span><span class="Identifier">$(CC)</span><span class="Constant">  -c -o </span><span class="Identifier">$@</span><span class="Constant"> </span><span class="Identifier">$&lt;</span><span class="Constant"> </span><span class="Identifier">$(CFLAGS)</span>
<span class="Identifier">all:</span>    <span class="Identifier">$(OBJ)</span>
<span class="Constant">        </span><span class="Identifier">$(CC)</span><span class="Constant"> </span><span class="Identifier">$(LDFLAGS)</span><span class="Constant"> -o </span><span class="Identifier">$(TARGET)</span><span class="Constant">.elf  </span><span class="Identifier">$(OBJ)</span>
<span class="Constant">        </span><span class="Identifier">$(OBJCOPY)</span><span class="Constant"> -O ihex </span><span class="Identifier">$(TARGET)</span><span class="Constant">.elf </span><span class="Identifier">$(TARGET)</span><span class="Constant">.hex</span>
<span class="Identifier">install:</span>
<span class="Constant">        avrdude  -p</span><span class="Identifier">$(MCU)</span><span class="Constant"> -c usbasp -p m8   -U flash:w:./</span><span class="Identifier">$(TARGET)</span><span class="Constant">.hex:i</span>
<span class="Identifier">clean:</span>
<span class="Special">        @</span><span class="Constant">rm -v *.elf *.hex </span><span class="Identifier">$(OBJ)</span>
</pre>
<p>
	Не забывайте, что в Makefile отступы формируются табуляцией, а не пробелами, как будет если скопировать из браузера(ну нету в HTML табуляции).
</p>
<p>
	Теперь создадим файл ./inc/ascii.h с нашей табличкой:
</p>
<a href="http://www.count-zero.ru/2017/pcd8544/#spoiler-6A" data-toggle="collapse" class="btn tag-primary spoiler collapsed">показать ./inc/ascii.h</a><p></p>
<div class="collapse" id="spoiler-6A">
<div class="wall"> 
<pre class="CodeC"><span class="PreProc">#ifndef __ASCII_H__</span>
<span class="PreProc">#define __ASCII_H__</span>
<span class="PreProc">#include </span><span class="Constant">&lt;avr/pgmspace.h&gt;</span>

<span class="Type">const</span> <span class="Type">uint8_t</span> ASCII[][<span class="Constant">5</span>] PROGMEM = {
 {<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">20</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x5f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">21</span><span class="Comment"> !</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">22</span><span class="Comment"> </span><span class="Constant">"</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>} <span class="Comment">// </span><span class="Constant">23</span><span class="Comment"> #</span>
,{<span class="Constant">0x24</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x12</span>} <span class="Comment">// </span><span class="Constant">24</span><span class="Comment"> $</span>
,{<span class="Constant">0x23</span>, <span class="Constant">0x13</span>, <span class="Constant">0x08</span>, <span class="Constant">0x64</span>, <span class="Constant">0x62</span>} <span class="Comment">// </span><span class="Constant">25</span><span class="Comment"> %</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x55</span>, <span class="Constant">0x22</span>, <span class="Constant">0x50</span>} <span class="Comment">// </span><span class="Constant">26</span><span class="Comment"> &amp;</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">27</span><span class="Comment"> '</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">28</span><span class="Comment"> (</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">29</span><span class="Comment"> )</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>} <span class="Comment">// 2a *</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2b +</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x50</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2c ,</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2d -</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x60</span>, <span class="Constant">0x60</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2e .</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">2f</span><span class="Comment"> /</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">30</span><span class="Comment"> </span><span class="Constant">0</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x42</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">31</span><span class="Comment"> </span><span class="Constant">1</span>
,{<span class="Constant">0x42</span>, <span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">32</span><span class="Comment"> </span><span class="Constant">2</span>
,{<span class="Constant">0x21</span>, <span class="Constant">0x41</span>, <span class="Constant">0x45</span>, <span class="Constant">0x4b</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">33</span><span class="Comment"> </span><span class="Constant">3</span>
,{<span class="Constant">0x18</span>, <span class="Constant">0x14</span>, <span class="Constant">0x12</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x10</span>} <span class="Comment">// </span><span class="Constant">34</span><span class="Comment"> </span><span class="Constant">4</span>
,{<span class="Constant">0x27</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x39</span>} <span class="Comment">// </span><span class="Constant">35</span><span class="Comment"> </span><span class="Constant">5</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x30</span>} <span class="Comment">// </span><span class="Constant">36</span><span class="Comment"> </span><span class="Constant">6</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x71</span>, <span class="Constant">0x09</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>} <span class="Comment">// </span><span class="Constant">37</span><span class="Comment"> </span><span class="Constant">7</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">38</span><span class="Comment"> </span><span class="Constant">8</span>
,{<span class="Constant">0x06</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x29</span>, <span class="Constant">0x1e</span>} <span class="Comment">// </span><span class="Constant">39</span><span class="Comment"> </span><span class="Constant">9</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x36</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3a :</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x56</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3b ;</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3c &lt;</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>} <span class="Comment">// 3d =</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// 3e &gt;</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x51</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">3f</span><span class="Comment"> ?</span>
,{<span class="Constant">0x32</span>, <span class="Constant">0x49</span>, <span class="Constant">0x79</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">40</span><span class="Comment"> @</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>} <span class="Comment">// </span><span class="Constant">41</span><span class="Comment"> A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">42</span><span class="Comment"> B</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>} <span class="Comment">// </span><span class="Constant">43</span><span class="Comment"> C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">44</span><span class="Comment"> D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>} <span class="Comment">// </span><span class="Constant">45</span><span class="Comment"> E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">46</span><span class="Comment"> F</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x7a</span>} <span class="Comment">// </span><span class="Constant">47</span><span class="Comment"> G</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">48</span><span class="Comment"> H</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">49</span><span class="Comment"> I</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>} <span class="Comment">// 4a J</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>} <span class="Comment">// 4b K</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// 4c L</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4d M</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4e N</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">4f</span><span class="Comment"> O</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">50</span><span class="Comment"> P</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x51</span>, <span class="Constant">0x21</span>, <span class="Constant">0x5e</span>} <span class="Comment">// </span><span class="Constant">51</span><span class="Comment"> Q</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x19</span>, <span class="Constant">0x29</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">52</span><span class="Comment"> R</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">53</span><span class="Comment"> S</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">54</span><span class="Comment"> T</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">55</span><span class="Comment"> U</span>
,{<span class="Constant">0x1f</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1f</span>} <span class="Comment">// </span><span class="Constant">56</span><span class="Comment"> V</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x38</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">57</span><span class="Comment"> W</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>} <span class="Comment">// </span><span class="Constant">58</span><span class="Comment"> X</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x70</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>} <span class="Comment">// </span><span class="Constant">59</span><span class="Comment"> Y</span>
,{<span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x43</span>} <span class="Comment">// 5a Z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5b [</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x20</span>} <span class="Comment">// 5c ¥</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5d ]</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>} <span class="Comment">// 5e ^</span>
,{<span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// </span><span class="Constant">5f</span><span class="Comment"> _</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">60</span><span class="Comment"> `</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">61</span><span class="Comment"> a</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">62</span><span class="Comment"> b</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">63</span><span class="Comment"> c</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x48</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">64</span><span class="Comment"> d</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>} <span class="Comment">// </span><span class="Constant">65</span><span class="Comment"> e</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x7e</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">66</span><span class="Comment"> f</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">67</span><span class="Comment"> g</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">68</span><span class="Comment"> h</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x44</span>, <span class="Constant">0x7d</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">69</span><span class="Comment"> i</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3d</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6a j </span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6b k</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6c l</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x18</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6d m</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6e n</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">6f</span><span class="Comment"> o</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">70</span><span class="Comment"> p</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x18</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">71</span><span class="Comment"> q</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">72</span><span class="Comment"> r</span>
,{<span class="Constant">0x48</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">73</span><span class="Comment"> s</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x44</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">74</span><span class="Comment"> t</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">75</span><span class="Comment"> u</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">76</span><span class="Comment"> v</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x30</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">77</span><span class="Comment"> w</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>} <span class="Comment">// </span><span class="Constant">78</span><span class="Comment"> x</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">79</span><span class="Comment"> y</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x64</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>} <span class="Comment">// 7a z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x08</span>, <span class="Constant">0x36</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7b {</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7c |</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x36</span>, <span class="Constant">0x08</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7d }</span>
,{<span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>} <span class="Comment">// 7e ←</span>
,{<span class="Constant">0x78</span>, <span class="Constant">0x46</span>, <span class="Constant">0x41</span>, <span class="Constant">0x46</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">7f</span><span class="Comment"> →</span>
};

<span class="PreProc">#endif</span></pre>
</div>
</div>

<p>
	А также заголовочный файл библиотеки pcd8544 ./scr/pcd8544_soft.h
</p>
<pre class="CodeC"><span class="PreProc">#ifndef __PCD8544_SOFT_H__</span>
<span class="PreProc">#define __PCD8544_SOFT_H__</span>

<span class="PreProc">#define PIN_SCE   PD7</span>
<span class="PreProc">#define PIN_RESET PD6</span>
<span class="PreProc">#define PIN_DC    PD5</span>
<span class="PreProc">#define PIN_SDIN  PD4</span>
<span class="PreProc">#define PIN_SCLK  PD3</span>

<span class="PreProc">#define LCD_C     </span><span class="Constant">0x00</span>
<span class="PreProc">#define LCD_D     </span><span class="Constant">0x01</span>

<span class="PreProc">#define LCD_X     </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y     </span><span class="Constant">48</span>

<span class="PreProc">#define PORT_PCD8544 PORTD</span>
<span class="PreProc">#define DDR_PCD8544  DDRD</span>

<span class="Type">extern</span> <span class="Type">void</span> pcd8544_init(<span class="Type">void</span>);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> size, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_send_char_size2(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_send_char_size3(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);
<span class="Type">extern</span> <span class="Type">void</span> pcd8544_print_uint8_at(<span class="Type">uint8_t</span> num, <span class="Type">uint8_t</span> size, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y);

<span class="PreProc">#endif</span></pre>

<p>
	В функции pcd8544_send_char(uint8_t ch):
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch)
{
   <span class="Type">int</span> i;
   <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
      <span class="Statement">for</span> (i = <span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
      {
         pcd8544_send(LCD_D,  ASCII[ch - <span class="Constant">0x20</span>][i]);
      }
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}</pre>
<p>
	- нужно будет добавить чтение из флеш-памяти(тема рассматривалась <a href="http://www.count-zero.ru/2016/simulavr/" target="_blank"> здесь</a>)
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch)
{
   <span class="Type">int</span> i;
   <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;ASCII);
   <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
      <span class="Statement">for</span> (i = <span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
      {
            <span class="Type">uint8_t</span> c=ch - <span class="Constant">0x20</span>;
            c=pgm_read_byte(ptr+c*<span class="Constant">5</span>+i);
            pcd8544_send(LCD_D,  c);
      }
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}</pre>
<p>
	Тоже самое нужно будет сделать в функциях void pcd8544_send_char_size2(uint8_t ch, uint8_t x, uint8_t y)  и void pcd8544_send_char_size3(uint8_t ch, uint8_t x, uint8_t y).
</p>
<p>
	Все функции мы скинем в библиотечный файл /src/pcd8544_soft.c
</p>
<a href="http://www.count-zero.ru/2017/pcd8544/#spoiler-6B" data-toggle="collapse" class="btn tag-primary spoiler collapsed">показать /src/pcd8544_soft.c</a><p></p>
<div class="collapse" id="spoiler-6B">
<div class="wall"> 
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"ascii.h"</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="Type">void</span> pcd8544_init(<span class="Type">void</span>)
{
   <span class="Comment">// GPIO Setup</span>
   DDR_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_SCE) | (<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC) | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) | (<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   pcd8544_send(LCD_C, <span class="Constant">0x21</span> );  <span class="Comment">// LCD Extended Commands.</span>
   pcd8544_send(LCD_C, <span class="Constant">0xBA</span> );  <span class="Comment">// Set LCD Vop (Contrast).</span>
   pcd8544_send(LCD_C, <span class="Constant">0x04</span> );  <span class="Comment">// Set Temp coefficent. //</span><span class="Constant">0x04</span>
   pcd8544_send(LCD_C, <span class="Constant">0x14</span> );  <span class="Comment">// LCD bias mode </span><span class="Constant">1</span><span class="Comment">:</span><span class="Constant">48.</span><span class="Comment"> //</span><span class="Constant">0x13</span>
   pcd8544_send(LCD_C, <span class="Constant">0x20</span> );  <span class="Comment">// LCD Basic Commands</span>
   pcd8544_send(LCD_C, <span class="Constant">0x0C</span> );  <span class="Comment">// LCD in normal mode.</span>
}

<span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data)
{
   <span class="Type">uint8_t</span> i;
   <span class="Statement">if</span> (dc == LCD_D)
      PORT_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_DC);
   <span class="Statement">else</span>
      PORT_PCD8544 &amp;= ~(<span class="Constant">1</span>&lt;&lt;PIN_DC);

   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i&lt;<span class="Constant">8</span>; i++)
   {
      PORT_PCD8544=(data &amp; <span class="Constant">0x80</span>) ? PORT_PCD8544 | (<span class="Constant">1</span>&lt;&lt;PIN_SDIN) : PORT_PCD8544 &amp; ~(<span class="Constant">1</span>&lt;&lt;PIN_SDIN);

      data=(data&lt;&lt;<span class="Constant">1</span>);

      PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
      PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_SCLK);
   }
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_SCE);
}

<span class="Type">void</span> pcd8544_print_string(<span class="Type">char</span> *str)
{
   <span class="Statement">while</span> (*str)
   {
      pcd8544_send_char(*str++);
   }
}

<span class="Type">void</span> pcd8544_send_char(<span class="Type">uint8_t</span> ch)
{
   <span class="Type">int</span> i;
   <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;ASCII);
   <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
      <span class="Statement">for</span> (i = <span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
      {
            <span class="Type">uint8_t</span> c=ch - <span class="Constant">0x20</span>;
            c=pgm_read_byte(ptr+c*<span class="Constant">5</span>+i);
            pcd8544_send(LCD_D,  c);
      }
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}
<span class="Type">void</span> pcd8544_clear(<span class="Type">void</span>)
{
   <span class="Type">int</span> i;
   <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; LCD_X * LCD_Y / <span class="Constant">8</span>; i++)
   {
      pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
   }
}

<span class="Type">void</span> pcd8544_set_cursor(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    x=x%<span class="Constant">12</span>; y=y%<span class="Constant">6</span>;
    pcd8544_send(LCD_C, <span class="Constant">0x40</span>+y);
    pcd8544_send(LCD_C, <span class="Constant">0x80</span>+x*<span class="Constant">7</span>);
}

<span class="Type">void</span> pcd8544_print_at(<span class="Type">char</span> *str, <span class="Type">uint8_t</span> size,  <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y)
{
    <span class="Type">uint8_t</span> i=<span class="Constant">0</span>;
    pcd8544_set_cursor(x,y);
    <span class="Statement">switch</span> (size) {
      <span class="Statement">case</span> <span class="Constant">3</span>:
      <span class="Statement">while</span> (*str)
      {
         pcd8544_send_char_size3(*str++,x+i,y);
         i+=<span class="Constant">3</span>;
      }
      <span class="Statement">break</span>;
      <span class="Statement">case</span> <span class="Constant">2</span>:
      <span class="Statement">while</span> (*str)
      {
        pcd8544_send_char_size2(*str++,x+i,y);
        i+=<span class="Constant">2</span>;
      }
      <span class="Statement">break</span>;
      <span class="Statement">default</span>:
      <span class="Statement">while</span> (*str)
      {
        pcd8544_send_char(*str++);
      }
      <span class="Statement">break</span>;
   }
}

<span class="Type">void</span> pcd8544_send_char_size2(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    <span class="Type">uint8_t</span> s[<span class="Constant">5</span>]; <span class="Comment">// source</span>
    <span class="Type">uint8_t</span> r[<span class="Constant">20</span>]; <span class="Comment">// result</span>
    <span class="Type">uint8_t</span> i,j;
   <span class="Comment">// get littera</span>
    <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;ASCII);
    <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
    {
        <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
        {
              <span class="Type">uint8_t</span> c=ch - <span class="Constant">0x20</span>;
              s[i]=pgm_read_byte(ptr+c*<span class="Constant">5</span>+i);
        }
    }
    <span class="Comment">// scale</span>
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b=<span class="Constant">0</span>;
        <span class="Type">uint8_t</span> a=<span class="Constant">0</span>;
        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;<span class="Constant">4</span>;j++)
        {
            b=(s[i]&gt;&gt;j) &amp; <span class="Constant">0x01</span>;
            a|=(b&lt;&lt;(j&lt;&lt;<span class="Constant">1</span>)) | (b&lt;&lt;((j&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>));
        }
        r[(i&lt;&lt;<span class="Constant">1</span>)]=a;
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>]=a;
    }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b=<span class="Constant">0</span>;
        <span class="Type">uint8_t</span> a=<span class="Constant">0</span>;
        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;<span class="Constant">4</span>;j++)
        {
            b=(s[i]&gt;&gt;(j+<span class="Constant">4</span>)) &amp; <span class="Constant">0x01</span>;
            a|=(b&lt;&lt;(j&lt;&lt;<span class="Constant">1</span>)) | (b&lt;&lt;((j&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">1</span>));
        }
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">10</span>]=a;
        r[(i&lt;&lt;<span class="Constant">1</span>)+<span class="Constant">11</span>]=a;
    }
    <span class="Comment">// print</span>
    pcd8544_set_cursor(x,y);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">10</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">1</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">10</span>;i&lt;<span class="Constant">20</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
}
<span class="Type">void</span> pcd8544_send_char_size3(<span class="Type">uint8_t</span> ch, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    <span class="Type">uint8_t</span> s[<span class="Constant">5</span>]; <span class="Comment">// source</span>
    <span class="Type">uint8_t</span> r[<span class="Constant">45</span>]; <span class="Comment">// result</span>
    <span class="Type">uint8_t</span> i;
    <span class="Comment">// get littera</span>
    <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;ASCII);
    <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0x80</span>)
    {
        <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
        {
              <span class="Type">uint8_t</span> c=ch - <span class="Constant">0x20</span>;
              s[i]=pgm_read_byte(ptr+c*<span class="Constant">5</span>+i);
        }
    }
    <span class="Comment">// scale</span>
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i] &amp; <span class="Constant">0x01</span>);
        a=(b) ? <span class="Constant">0x7</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">1</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x38</span>;
        b=(s[i]&gt;&gt;<span class="Constant">2</span>) &amp; <span class="Constant">0x01</span>;
        a|=(b&lt;&lt;<span class="Constant">6</span>)|(b&lt;&lt;<span class="Constant">7</span>);

        r[i*<span class="Constant">3</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">1</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">2</span>]=a;

        r[i*<span class="Constant">3</span>+<span class="Constant">15</span>]=b;
        r[i*<span class="Constant">3</span>+<span class="Constant">16</span>]=b;
        r[i*<span class="Constant">3</span>+<span class="Constant">17</span>]=b;
    }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i]&gt;&gt;<span class="Constant">3</span>) &amp; <span class="Constant">0x01</span>;
        a=(b) ? <span class="Constant">0x0e</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">4</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x70</span>;
        b=(s[i]&gt;&gt;<span class="Constant">5</span>) &amp; <span class="Constant">0x01</span>;
        a|=(b&lt;&lt;<span class="Constant">7</span>);

        r[i*<span class="Constant">3</span>+<span class="Constant">15</span>]|=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">16</span>]|=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">17</span>]|=a;
     }

    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">5</span>;i++)
    {
        <span class="Type">uint8_t</span> b,a;
        b=(s[i]&gt;&gt;<span class="Constant">5</span>) &amp; <span class="Constant">0x01</span>;
        a=(b) ? <span class="Constant">0x3</span> : <span class="Constant">0</span>;
        b=(s[i]&gt;&gt;<span class="Constant">6</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0x1c</span>;
        b=(s[i]&gt;&gt;<span class="Constant">7</span>) &amp; <span class="Constant">0x01</span>;
        <span class="Statement">if</span> (b) a|=<span class="Constant">0xe0</span>;

        r[i*<span class="Constant">3</span>+<span class="Constant">30</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">31</span>]=a;
        r[i*<span class="Constant">3</span>+<span class="Constant">32</span>]=a;
     }

    <span class="Comment">// print</span>
    pcd8544_set_cursor(x,y);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">15</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">1</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">15</span>;i&lt;<span class="Constant">30</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);

    pcd8544_set_cursor(x,y+<span class="Constant">2</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    <span class="Statement">for</span>(i=<span class="Constant">30</span>;i&lt;<span class="Constant">45</span>;i++)
        pcd8544_send(LCD_D, r[i]);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
    pcd8544_send(LCD_D, <span class="Constant">0x00</span>);
}

<span class="Type">void</span> pcd8544_print_uint8_at(<span class="Type">uint8_t</span> num, <span class="Type">uint8_t</span> size, <span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y){
    <span class="Type">uint8_t</span> sym[<span class="Constant">3</span>];
    <span class="Type">int8_t</span> i=<span class="Constant">2</span>;
    <span class="Statement">do</span>  {
      <span class="Statement">if</span> (num == <span class="Constant">0</span> &amp;&amp; i&lt;<span class="Constant">2</span>)
        sym[i]=<span class="Constant">0x20</span>; <span class="Comment">// space</span>
      <span class="Statement">else</span>
        sym[i]=<span class="Constant">0x30</span>+num%<span class="Constant">10</span>;

      num=num/<span class="Constant">10</span>;
      i--;

    } <span class="Statement">while</span> (i&gt;=<span class="Constant">0</span>);

    <span class="Type">uint8_t</span> j=<span class="Constant">0</span>;
    <span class="Statement">for</span> (i=<span class="Constant">0</span>;i&lt;<span class="Constant">3</span>;i++)
    {
        <span class="Statement">if</span> (!(i&lt;<span class="Constant">2</span> &amp;&amp; sym[i] == <span class="Constant">0x20</span>))
        {
            <span class="Statement">switch</span>(size) {
            <span class="Statement">case</span> <span class="Constant">3</span>:
                pcd8544_send_char_size3(sym[i],x+j*size,y);
                <span class="Statement">break</span>;
            <span class="Statement">case</span> <span class="Constant">2</span>:
                pcd8544_send_char_size2(sym[i],x+j*size,y);
                <span class="Statement">break</span>;
            <span class="Statement">default</span>:
                pcd8544_send_char(sym[i]);
                <span class="Statement">break</span>;
            }
            j++;
        }
    }
}</pre>
</div>
</div>

<p>
	В итоге остается непосредственно сама программа в main.c
</p>

<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   <span class="Type">uint8_t</span> i=<span class="Constant">0</span>;
   <span class="Statement">for</span> (;;){
      pcd8544_clear();
      pcd8544_print_at(<span class="Constant">"&gt;"</span>,<span class="Constant">3</span>,<span class="Constant">0</span>,<span class="Constant">2</span>);
      pcd8544_print_uint8_at(i++,<span class="Constant">3</span>,<span class="Constant">3</span>,<span class="Constant">2</span>);
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<p>
	По-моему гораздо, лучше, чем все в одном файле.
</p>
<p>
	Результат работы:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/13.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/13.jpg" width="60%"></a> 
</p>
<p>
	Полные исходники к этому примеру можно посмотреть здесь:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/06_flash_ascii" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/06_flash_ascii</a>
</p>

<h3><a name="7"></a>7) Добавляем кириллицу в кодировке CP866</h3>
<p>
	Сложность с выводом русского текста на экран графического дисплея заключается в том, что тексты программ мы пишем в двухбайтовом юникоде. Не будем же вы кодировку юникода записывать в микроконтроллер? Поэтому вспоминаются былинные 8-битные кодировки: cp866, koi8-r и cp1251. И значит возникает необходимость преобразования одной кодировки в другую. Доходит до того, что это преобразование пытаются выполнять на стороне микроконтроллера. Нда..
</p>
<p>
	Я выбрал кодировку CP866 из-за того, что там есть псевдографика. В свое время с ее использованием много чего делали: Лексикон, Дос Навигатор, Нортон Командер и т.д. Однако пока псевдографику трогать не будем, а будем заниматься непосредственно кириллицей. Кодовую таблицу CP866 можно посмотреть например здесь <a href="http://kvodo.ru/tablitsa-cp866.html" target="_blank">Таблица CP 866 DOS — Kvodo</a>
</p>
<p>
	Обращаю внимание, что строчными буквами "п" и "р" имеется разрыв на 48 символа псевдографики. В своей  ASCII таблице мы все символы запишем единым массивом, соответственно индекс символа нужно будет корректировать.
</p>
<p>
	Это значит, что вместо строки:
</p>
<pre class="CodeC"><span class="Type">uint8_t</span> c=ch - <span class="Constant">0x20</span>;</pre>
<p>
	нужно будет использовать:
</p>
<pre class="CodeC"><span class="Type">uint8_t</span> c=(ch&lt;<span class="Constant">0xe0</span>) ? ch - <span class="Constant">0x20</span> : ch - <span class="Constant">0x50</span>;</pre>
<p>
	Для преобразования кодировок, в  Makefile добавим новую цель:
</p>
<pre class="CodeC"><span class="Identifier">prepare:</span>
<span class="Constant">        cat main.c|iconv -f utf8 -t cp866 &gt; cp866.c</span></pre>
<p>
	Теперь для того чтобы перекодировать и сразу скомпилировать программу достаточно будет ввести команду:
</p>
<pre class="CodeC">$ make prepare &amp;&amp; make all</pre>
<p>
	Осталось табличный файл c ASCII дополнить русскими буквами:
</p>
<a href="http://www.count-zero.ru/2017/pcd8544/#spoiler-7A" data-toggle="collapse" class="btn tag-primary spoiler collapsed">показать /inc/ascii.h</a><p></p>
<div class="collapse" id="spoiler-7A">
<div class="wall"> 
<pre class="CodeC"><span class="PreProc">#ifndef __ASCII_H__</span>
<span class="PreProc">#define __ASCII_H__</span>
<span class="PreProc">#include </span><span class="Constant">&lt;avr/pgmspace.h&gt;</span>

<span class="Comment">// 96x5 = </span><span class="Constant">480</span><span class="Comment"> bytes</span>
<span class="Type">const</span> <span class="Type">uint8_t</span> ASCII[][<span class="Constant">5</span>] PROGMEM = {
 {<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">20</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x5f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">21</span><span class="Comment"> !</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>, <span class="Constant">0x07</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">22</span><span class="Comment"> </span><span class="Constant">"</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x14</span>} <span class="Comment">// </span><span class="Constant">23</span><span class="Comment"> #</span>
,{<span class="Constant">0x24</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x2a</span>, <span class="Constant">0x12</span>} <span class="Comment">// </span><span class="Constant">24</span><span class="Comment"> $</span>
,{<span class="Constant">0x23</span>, <span class="Constant">0x13</span>, <span class="Constant">0x08</span>, <span class="Constant">0x64</span>, <span class="Constant">0x62</span>} <span class="Comment">// </span><span class="Constant">25</span><span class="Comment"> %</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x55</span>, <span class="Constant">0x22</span>, <span class="Constant">0x50</span>} <span class="Comment">// </span><span class="Constant">26</span><span class="Comment"> &amp;</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">27</span><span class="Comment"> '</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">28</span><span class="Comment"> (</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">29</span><span class="Comment"> )</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>} <span class="Comment">// 2a *</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2b +</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x50</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2c ,</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>} <span class="Comment">// 2d -</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x60</span>, <span class="Constant">0x60</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 2e .</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">2f</span><span class="Comment"> /</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">30</span><span class="Comment"> </span><span class="Constant">0</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x42</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">31</span><span class="Comment"> </span><span class="Constant">1</span>
,{<span class="Constant">0x42</span>, <span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">32</span><span class="Comment"> </span><span class="Constant">2</span>
,{<span class="Constant">0x21</span>, <span class="Constant">0x41</span>, <span class="Constant">0x45</span>, <span class="Constant">0x4b</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">33</span><span class="Comment"> </span><span class="Constant">3</span>
,{<span class="Constant">0x18</span>, <span class="Constant">0x14</span>, <span class="Constant">0x12</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x10</span>} <span class="Comment">// </span><span class="Constant">34</span><span class="Comment"> </span><span class="Constant">4</span>
,{<span class="Constant">0x27</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x45</span>, <span class="Constant">0x39</span>} <span class="Comment">// </span><span class="Constant">35</span><span class="Comment"> </span><span class="Constant">5</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x30</span>} <span class="Comment">// </span><span class="Constant">36</span><span class="Comment"> </span><span class="Constant">6</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x71</span>, <span class="Constant">0x09</span>, <span class="Constant">0x05</span>, <span class="Constant">0x03</span>} <span class="Comment">// </span><span class="Constant">37</span><span class="Comment"> </span><span class="Constant">7</span>
,{<span class="Constant">0x36</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">38</span><span class="Comment"> </span><span class="Constant">8</span>
,{<span class="Constant">0x06</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x29</span>, <span class="Constant">0x1e</span>} <span class="Comment">// </span><span class="Constant">39</span><span class="Comment"> </span><span class="Constant">9</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x36</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3a :</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x56</span>, <span class="Constant">0x36</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3b ;</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 3c &lt;</span>
,{<span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>} <span class="Comment">// 3d =</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// 3e &gt;</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x51</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">3f</span><span class="Comment"> ?</span>
,{<span class="Constant">0x32</span>, <span class="Constant">0x49</span>, <span class="Constant">0x79</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">40</span><span class="Comment"> @</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>} <span class="Comment">// </span><span class="Constant">41</span><span class="Comment"> A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>} <span class="Comment">// </span><span class="Constant">42</span><span class="Comment"> B</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>} <span class="Comment">// </span><span class="Constant">43</span><span class="Comment"> C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">44</span><span class="Comment"> D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>} <span class="Comment">// </span><span class="Constant">45</span><span class="Comment"> E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">46</span><span class="Comment"> F</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x7a</span>} <span class="Comment">// </span><span class="Constant">47</span><span class="Comment"> G</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">48</span><span class="Comment"> H</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">49</span><span class="Comment"> I</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>} <span class="Comment">// 4a J</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>} <span class="Comment">// 4b K</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// 4c L</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4d M</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7f</span>} <span class="Comment">// 4e N</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">4f</span><span class="Comment"> O</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>} <span class="Comment">// </span><span class="Constant">50</span><span class="Comment"> P</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x51</span>, <span class="Constant">0x21</span>, <span class="Constant">0x5e</span>} <span class="Comment">// </span><span class="Constant">51</span><span class="Comment"> Q</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x19</span>, <span class="Constant">0x29</span>, <span class="Constant">0x46</span>} <span class="Comment">// </span><span class="Constant">52</span><span class="Comment"> R</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>} <span class="Comment">// </span><span class="Constant">53</span><span class="Comment"> S</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>} <span class="Comment">// </span><span class="Constant">54</span><span class="Comment"> T</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">55</span><span class="Comment"> U</span>
,{<span class="Constant">0x1f</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1f</span>} <span class="Comment">// </span><span class="Constant">56</span><span class="Comment"> V</span>
,{<span class="Constant">0x3f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x38</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3f</span>} <span class="Comment">// </span><span class="Constant">57</span><span class="Comment"> W</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>} <span class="Comment">// </span><span class="Constant">58</span><span class="Comment"> X</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x70</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>} <span class="Comment">// </span><span class="Constant">59</span><span class="Comment"> Y</span>
,{<span class="Constant">0x61</span>, <span class="Constant">0x51</span>, <span class="Constant">0x49</span>, <span class="Constant">0x45</span>, <span class="Constant">0x43</span>} <span class="Comment">// 5a Z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5b [</span>
,{<span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x20</span>} <span class="Comment">// 5c ¥</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>} <span class="Comment">// 5d ]</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x02</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>} <span class="Comment">// 5e ^</span>
,{<span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>} <span class="Comment">// </span><span class="Constant">5f</span><span class="Comment"> _</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>, <span class="Constant">0x04</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">60</span><span class="Comment"> `</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">61</span><span class="Comment"> a</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">62</span><span class="Comment"> b</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">63</span><span class="Comment"> c</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x48</span>, <span class="Constant">0x7f</span>} <span class="Comment">// </span><span class="Constant">64</span><span class="Comment"> d</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>} <span class="Comment">// </span><span class="Constant">65</span><span class="Comment"> e</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x7e</span>, <span class="Constant">0x09</span>, <span class="Constant">0x01</span>, <span class="Constant">0x02</span>} <span class="Comment">// </span><span class="Constant">66</span><span class="Comment"> f</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x52</span>, <span class="Constant">0x3e</span>} <span class="Comment">// </span><span class="Constant">67</span><span class="Comment"> g</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">68</span><span class="Comment"> h</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x44</span>, <span class="Constant">0x7d</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// </span><span class="Constant">69</span><span class="Comment"> i</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3d</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6a j </span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6b k</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x00</span>} <span class="Comment">// 6c l</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x18</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6d m</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x78</span>} <span class="Comment">// 6e n</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>} <span class="Comment">// </span><span class="Constant">6f</span><span class="Comment"> o</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">70</span><span class="Comment"> p</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x18</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">71</span><span class="Comment"> q</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x08</span>} <span class="Comment">// </span><span class="Constant">72</span><span class="Comment"> r</span>
,{<span class="Constant">0x48</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">73</span><span class="Comment"> s</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x44</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>} <span class="Comment">// </span><span class="Constant">74</span><span class="Comment"> t</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>} <span class="Comment">// </span><span class="Constant">75</span><span class="Comment"> u</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x40</span>, <span class="Constant">0x20</span>, <span class="Constant">0x1c</span>} <span class="Comment">// </span><span class="Constant">76</span><span class="Comment"> v</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x30</span>, <span class="Constant">0x40</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">77</span><span class="Comment"> w</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>} <span class="Comment">// </span><span class="Constant">78</span><span class="Comment"> x</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3c</span>} <span class="Comment">// </span><span class="Constant">79</span><span class="Comment"> y</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x64</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>} <span class="Comment">// 7a z</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x08</span>, <span class="Constant">0x36</span>, <span class="Constant">0x41</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7b {</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x00</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7c |</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x41</span>, <span class="Constant">0x36</span>, <span class="Constant">0x08</span>, <span class="Constant">0x00</span>} <span class="Comment">// 7d }</span>
,{<span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>} <span class="Comment">// 7e ←</span>
,{<span class="Constant">0x78</span>, <span class="Constant">0x46</span>, <span class="Constant">0x41</span>, <span class="Constant">0x46</span>, <span class="Constant">0x78</span>} <span class="Comment">// </span><span class="Constant">7f</span><span class="Comment"> →</span>
,{<span class="Constant">0x7e</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7e</span>}<span class="Comment">//A  </span><span class="Constant">0x80</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x33</span>}<span class="Comment">//Б  </span><span class="Constant">0x81</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>}<span class="Comment">//В  </span><span class="Constant">0x82</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x03</span>}<span class="Comment">//Г  </span><span class="Constant">0x83</span>
,{<span class="Constant">0xe0</span>, <span class="Constant">0x51</span>, <span class="Constant">0x4f</span>, <span class="Constant">0x41</span>, <span class="Constant">0xff</span>}<span class="Comment">//Д  </span><span class="Constant">0x84</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x41</span>}<span class="Comment">//E  </span><span class="Constant">0x85</span>
,{<span class="Constant">0x77</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x77</span>}<span class="Comment">//Ж  </span><span class="Constant">0x86</span>
,{<span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x36</span>}<span class="Comment">//З  </span><span class="Constant">0x87</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x04</span>, <span class="Constant">0x7f</span>}<span class="Comment">//И  </span><span class="Constant">0x88</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x21</span>, <span class="Constant">0x12</span>, <span class="Constant">0x09</span>, <span class="Constant">0x7c</span>}<span class="Comment">//Й  </span><span class="Constant">0x89</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x22</span>, <span class="Constant">0x41</span>}<span class="Comment">//K  </span><span class="Constant">0x8A</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>}<span class="Comment">//Л  </span><span class="Constant">0x8B</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x02</span>, <span class="Constant">0x0c</span>, <span class="Constant">0x02</span>, <span class="Constant">0x7f</span>}<span class="Comment">//M  </span><span class="Constant">0x8C</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>}<span class="Comment">//H  </span><span class="Constant">0x8D</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>}<span class="Comment">//O  </span><span class="Constant">0x8E</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>}<span class="Comment">//П  </span><span class="Constant">0x8F</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x09</span>, <span class="Constant">0x06</span>}<span class="Comment">//P  </span><span class="Constant">0x90</span>
,{<span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>}<span class="Comment">//C  </span><span class="Constant">0x91</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x01</span>, <span class="Constant">0x01</span>}<span class="Comment">//T  </span><span class="Constant">0x92</span>
,{<span class="Constant">0x47</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x07</span>}<span class="Comment">//У  </span><span class="Constant">0x93</span>
,{<span class="Constant">0x1c</span>, <span class="Constant">0x22</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x22</span>, <span class="Constant">0x1c</span>}<span class="Comment">//Ф  </span><span class="Constant">0x94</span>
,{<span class="Constant">0x63</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>, <span class="Constant">0x14</span>, <span class="Constant">0x63</span>}<span class="Comment">//X  </span><span class="Constant">0x95</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0xff</span>}<span class="Comment">//Ц  </span><span class="Constant">0x96</span>
,{<span class="Constant">0x07</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7f</span>}<span class="Comment">//Ч  </span><span class="Constant">0x97</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x7f</span>}<span class="Comment">//Ш  </span><span class="Constant">0x98</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x40</span>, <span class="Constant">0xff</span>}<span class="Comment">//Щ  </span><span class="Constant">0x99</span>
,{<span class="Constant">0x01</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x48</span>, <span class="Constant">0x30</span>}<span class="Comment">//Ъ  </span><span class="Constant">0x9A</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x30</span>, <span class="Constant">0x00</span>, <span class="Constant">0x7f</span>}<span class="Comment">//Ы  </span><span class="Constant">0x9B</span>
,{<span class="Constant">0x00</span>, <span class="Constant">0x7f</span>, <span class="Constant">0x48</span>, <span class="Constant">0x48</span>, <span class="Constant">0x30</span>}<span class="Comment">//Э  </span><span class="Constant">0x9C</span>
,{<span class="Constant">0x22</span>, <span class="Constant">0x41</span>, <span class="Constant">0x49</span>, <span class="Constant">0x49</span>, <span class="Constant">0x3e</span>}<span class="Comment">//Ь  </span><span class="Constant">0x9D</span>
,{<span class="Constant">0x7f</span>, <span class="Constant">0x08</span>, <span class="Constant">0x3e</span>, <span class="Constant">0x41</span>, <span class="Constant">0x3e</span>}<span class="Comment">//Ю  </span><span class="Constant">0x9E</span>
,{<span class="Constant">0x46</span>, <span class="Constant">0x29</span>, <span class="Constant">0x19</span>, <span class="Constant">0x09</span>, <span class="Constant">0x7f</span>}<span class="Comment">//Я  </span><span class="Constant">0x9F</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x78</span>}<span class="Comment">//a  </span><span class="Constant">0xA0</span>
,{<span class="Constant">0x3c</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x4a</span>, <span class="Constant">0x49</span>, <span class="Constant">0x31</span>}<span class="Comment">//б  </span><span class="Constant">0xA1</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x28</span>, <span class="Constant">0x00</span>}<span class="Comment">//в  </span><span class="Constant">0xA2</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x0c</span>}<span class="Comment">//г  </span><span class="Constant">0xA3</span>
,{<span class="Constant">0xe0</span>, <span class="Constant">0x54</span>, <span class="Constant">0x4c</span>, <span class="Constant">0x44</span>, <span class="Constant">0xfc</span>}<span class="Comment">//д  </span><span class="Constant">0xA4</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x18</span>}<span class="Comment">//e  </span><span class="Constant">0xA5</span>
,{<span class="Constant">0x6c</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7c</span>, <span class="Constant">0x10</span>, <span class="Constant">0x6c</span>}<span class="Comment">//ж  </span><span class="Constant">0xA6</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x28</span>}<span class="Comment">//з  </span><span class="Constant">0xA7</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x20</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7c</span>}<span class="Comment">//и  </span><span class="Constant">0xA8</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x41</span>, <span class="Constant">0x22</span>, <span class="Constant">0x11</span>, <span class="Constant">0x7c</span>}<span class="Comment">//й  </span><span class="Constant">0xA9</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x00</span>}<span class="Comment">//к  </span><span class="Constant">0xAA</span>
,{<span class="Constant">0x20</span>, <span class="Constant">0x44</span>, <span class="Constant">0x3c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x7c</span>}<span class="Comment">//л  </span><span class="Constant">0xAB</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x08</span>, <span class="Constant">0x10</span>, <span class="Constant">0x08</span>, <span class="Constant">0x7c</span>}<span class="Comment">//м  </span><span class="Constant">0xAC</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x10</span>, <span class="Constant">0x10</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7c</span>}<span class="Comment">//н  </span><span class="Constant">0xAD</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>}<span class="Comment">//o  </span><span class="Constant">0xAE</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x7c</span>}<span class="Comment">//п  </span><span class="Constant">0xAF</span>
,{<span class="Constant">0x7C</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x14</span>, <span class="Constant">0x08</span>}<span class="Comment">//p  </span><span class="Constant">0xE0</span>
,{<span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x44</span>, <span class="Constant">0x20</span>}<span class="Comment">//c  </span><span class="Constant">0xE1</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x04</span>, <span class="Constant">0x7c</span>, <span class="Constant">0x04</span>, <span class="Constant">0x04</span>}<span class="Comment">//т  </span><span class="Constant">0xE2</span>
,{<span class="Constant">0x0C</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x3C</span>}<span class="Comment">//у  </span><span class="Constant">0xE3</span>
,{<span class="Constant">0x30</span>, <span class="Constant">0x48</span>, <span class="Constant">0xfc</span>, <span class="Constant">0x48</span>, <span class="Constant">0x30</span>}<span class="Comment">//ф  </span><span class="Constant">0xE4</span>
,{<span class="Constant">0x44</span>, <span class="Constant">0x28</span>, <span class="Constant">0x10</span>, <span class="Constant">0x28</span>, <span class="Constant">0x44</span>}<span class="Comment">//x  </span><span class="Constant">0xE5</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0x40</span>, <span class="Constant">0xfc</span>}<span class="Comment">//ц  </span><span class="Constant">0xE6</span>
,{<span class="Constant">0x0c</span>, <span class="Constant">0x10</span>, <span class="Constant">0x10</span>, <span class="Constant">0x10</span>, <span class="Constant">0x7c</span>}<span class="Comment">//ч  </span><span class="Constant">0xE7</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x7c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x7c</span>}<span class="Comment">//ш  </span><span class="Constant">0xE8</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x40</span>, <span class="Constant">0x7c</span>, <span class="Constant">0x40</span>, <span class="Constant">0xfc</span>}<span class="Comment">//щ  </span><span class="Constant">0xE9</span>
,{<span class="Constant">0x04</span>, <span class="Constant">0x7c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x20</span>}<span class="Comment">//ъ  </span><span class="Constant">0xEA</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x20</span>, <span class="Constant">0x7c</span>}<span class="Comment">//ы  </span><span class="Constant">0xEB</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x50</span>, <span class="Constant">0x50</span>, <span class="Constant">0x20</span>, <span class="Constant">0x00</span>}<span class="Comment">//ь  </span><span class="Constant">0xEC</span>
,{<span class="Constant">0x28</span>, <span class="Constant">0x44</span>, <span class="Constant">0x54</span>, <span class="Constant">0x54</span>, <span class="Constant">0x38</span>}<span class="Comment">//э  </span><span class="Constant">0xED</span>
,{<span class="Constant">0x7c</span>, <span class="Constant">0x10</span>, <span class="Constant">0x38</span>, <span class="Constant">0x44</span>, <span class="Constant">0x38</span>}<span class="Comment">//ю  </span><span class="Constant">0xEE</span>
,{<span class="Constant">0x08</span>, <span class="Constant">0x54</span>, <span class="Constant">0x34</span>, <span class="Constant">0x14</span>, <span class="Constant">0x7c</span>}<span class="Comment">//я  </span><span class="Constant">0xEF</span>
};

<span class="PreProc">#endif</span></pre>
</div>
</div>
<p>
	Шрифты брал вроде бы на arduino.ru, кто их первоначальный автор, я не знаю.
</p>
<p>
	Ну и теперь, мы можем вывести на экран что-то осмысленное. main.c:
</p>
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">&lt;avr/pgmspace.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="PreProc">#define LEN </span><span class="Constant">72</span>
<span class="Type">const</span> <span class="Type">unsigned</span> <span class="Type">char</span> mystr[LEN] PROGMEM = {<span class="Constant">"оператор Лапласа это векторный дифференциальный оператор второго порядка"</span>};

<span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   pcd8544_clear();
   <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;mystr);
   <span class="Type">uint8_t</span> i; <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;LEN;i++)
   {
        pcd8544_send_char(pgm_read_byte(ptr+i));
   }

   <span class="Statement">for</span> (;;){
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>

<p>
	Результат работы:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/14.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/14.jpg" width="60%"></a> 
</p>
<p>
	Полные исходники к этому примеру можно посмотреть здесь:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/07_cp866/" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/07_cp866</a>
</p>
<h3>
	<a name="8"></a> 8) Добавление фреймбуфера. Программа рисования  фрактала.
</h3>
<p>
	Фреймбуфер - это буфер в оперативной памяти микроконтроллера, размер которого равен размеру видеопамяти дисплея.
</p>
<p>
	Фреймбуфер нужен для того чтобы нарисовать на экране точку. Т.к. вся видеопамять дисплея pcd8544 упакована в 504 байта, для того чтобы нарисовать точку на экране, нужно определить номер байта к которому относится данная точка, <em>прочитать</em> этот байт, изменить в нем нужный бит относящийся к точке, и записать этот байт обратно. Однако с нашего дисплея ничего читать нельзя, дисплей доступен только для записи. Поэтому нужен фреймбуфер, чтобы поставить простую точку.
</p>
<p>
	Микроконтроллер ATmega8 имеет 1 Kбайт оперативной памяти, и фреймбуфер будет занимать почти половину этой памяти. Но например такие микроконтроллеры как MSP430G2553 с 512 байтами SRAM, оказываются уже не у дел.
</p>

<p>
	Для организации фреймбуфера, в файле pcd8544_soft.c объявим массив:
</p>
<pre class="CodeC"><span class="PreProc">#define FB_LEN  </span><span class="Constant">504</span>
<span class="Type">static</span> <span class="Type">uint8_t</span> fb[FB_LEN];
<span class="Type">uint16_t</span> pos;</pre>
<p>
	Так же пригодиться переменная pos которая будет служить  позицией виртуального курсора во фреймбуфере.
</p>

<p>
	Для работы с фреймбуфер ом, понадобятся дополнительные функции для очистки содержимого фреймбуфера:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_clear_fb(<span class="Type">void</span>)
{
    <span class="Statement">for</span>(pos=<span class="Constant">0</span>;pos&lt;FB_LEN; pos++)
        fb[pos]=<span class="Constant">0</span>;
    pos=<span class="Constant">0</span>;
}</pre>
<p>
	и для вывода его содержимого на дисплей:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_display_fb() {
    <span class="Type">int</span> i;
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;FB_LEN; i++)
        pcd8544_send(LCD_D,fb[i]);
}</pre>
<p>
	Ну и само собой, потребуется небольшая работа по переписываю существующих функций для обеспечения поддержки работы с фреймбуфером. 
</p>
<p>
	Например в void pcd8544_send_char_fb(uint8_t ch) меняется всего одна строчка:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_send_char_fb(<span class="Type">uint8_t</span> ch)
{
    <span class="Type">int</span> i;
    <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;ASCII);

    <span class="Statement">if</span> (ch &gt;= <span class="Constant">0x20</span> &amp;&amp; ch &lt;= <span class="Constant">0xf0</span> &amp;&amp; pos &lt;= (FB_LEN-<span class="Constant">7</span>))
    {
        <span class="Statement">for</span> (i=<span class="Constant">0</span>; i &lt; <span class="Constant">5</span>; i++)
        {
            <span class="Type">uint8_t</span> c=(ch&lt;<span class="Constant">0xe0</span>) ? ch - <span class="Constant">0x20</span> : ch - <span class="Constant">0x50</span>;
            c=pgm_read_byte(ptr+c*<span class="Constant">5</span>+i);
            fb[pos+i]|=c;
        }
        pos+=<span class="Constant">7</span>;
    }
}</pre>

<p>
	После завершения всей работы хорошо было бы проверить что все работает как надо.  К примеру main.c из <a href="http://www.count-zero.ru/2017/pcd8544/#6"> предыдущего примера</a> у меня получился таким:
</p>
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="Type">int</span> main(<span class="Type">void</span>)
{
   pcd8544_init();
   pcd8544_clear();
   <span class="Type">uint8_t</span> i=<span class="Constant">0</span>;
   <span class="Statement">for</span> (;;){
      pcd8544_clear_fb();
      pcd8544_print_at_fb(<span class="Constant">"&gt;"</span>,<span class="Constant">3</span>,<span class="Constant">0</span>,<span class="Constant">2</span>);
      pcd8544_print_uint8_at_fb(i++,<span class="Constant">3</span>,<span class="Constant">3</span>,<span class="Constant">2</span>);
      pcd8544_display_fb();
      _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<p>
	Теперь для работы с дисплеем нужно сначала очищать содержимое фреймбуфера, а в конце выводить его содержимое на экран функцией pcd8544_display_fb();
</p>

<p>
	Теперь мы можем добавить функцию для ради которой все и затевалось, т.е. для рисования точки:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_set_point(<span class="Type">uint8_t</span> x, <span class="Type">uint8_t</span> y) {
    <span class="Statement">if</span> (x &lt; LCD_X &amp;&amp; y &lt; LCD_Y)
    {
        <span class="Type">uint16_t</span> index = ((y&gt;&gt;<span class="Constant">3</span>)*LCD_X)+x;
        fb[index]|=(<span class="Constant">1</span>&lt;&lt;(y&amp;<span class="Constant">0x07</span>));
    }
}</pre>
<p>
	Выглядит гадко, но это работает.
</p>
<p>
	Ок. Теперь можно что-либо нарисовать. Я адаптировал  программу из старой книжки по ZX Spectrum для отрисовки простенького фрактала:
</p>
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="Type">int</span> main(<span class="Type">void</span>)
{
    <span class="Type">int8_t</span> x[<span class="Constant">17</span>];
    <span class="Type">int8_t</span> y[<span class="Constant">17</span>];
    pcd8544_init();
    pcd8544_clear();
    <span class="Statement">for</span> (;;)
    {
        pcd8544_clear_fb();

        <span class="Type">uint8_t</span> i,j,k;
        <span class="Statement">for</span>(i=<span class="Constant">1</span>;i&lt;=<span class="Constant">4</span>;i++)
        {
            <span class="Statement">for</span>(j=<span class="Constant">1</span>;j&lt;=<span class="Constant">4</span>;j++)
            {
                k=<span class="Constant">4</span>*i+j-<span class="Constant">4</span>;
                x[k]=j-<span class="Constant">3</span>;
                y[k]=i-<span class="Constant">3</span>;
            }
        }

        x[<span class="Constant">2</span>]=<span class="Constant">0</span>;   y[<span class="Constant">2</span>]=-<span class="Constant">3</span>;
        x[<span class="Constant">8</span>]=<span class="Constant">2</span>;   y[<span class="Constant">8</span>]=<span class="Constant">0</span>;
        x[<span class="Constant">9</span>]=-<span class="Constant">3</span>;  y[<span class="Constant">9</span>]=-<span class="Constant">1</span>;
        x[<span class="Constant">15</span>]=-<span class="Constant">1</span>; y[<span class="Constant">15</span>]=<span class="Constant">2</span>;

        <span class="Statement">for</span>(i=<span class="Constant">1</span>;i&lt;=<span class="Constant">16</span>;i++)
        {
            <span class="Statement">for</span>(j=<span class="Constant">1</span>;j&lt;=<span class="Constant">16</span>;j++)
            {
                <span class="Statement">for</span>(k=<span class="Constant">1</span>;k&lt;=<span class="Constant">16</span>;k++)
                {
                    <span class="Type">int8_t</span> xx=(((x[i]&lt;&lt;<span class="Constant">4</span>)+(x[j]&lt;&lt;<span class="Constant">2</span>)+x[k])&gt;&gt;<span class="Constant">1</span>);
                    <span class="Type">int8_t</span> yy=(((y[i]&lt;&lt;<span class="Constant">4</span>)+(y[j]&lt;&lt;<span class="Constant">2</span>)+y[k])&gt;&gt;<span class="Constant">1</span>);
                    pcd8544_set_point(<span class="Constant">50</span>+xx,<span class="Constant">28</span>+yy);
                }
            }
        }

        pcd8544_display_fb();

        _delay_ms(<span class="Constant">1000</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>

<p>
	Результат работы выглядит так:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/15.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/15.jpg" width="60%"></a> 
</p>
<p>
	Полные исходники к этому примеру можно посмотреть здесь:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/08_2_fractal" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/08_2_fractal</a>
</p>
<h3>
	<a name="9"></a>9) Делаем скринсейвер "сквозь звездное небо"
</h3>

<p>
	Фрактал штука интересная, но абсолютно бесполезная. Попробуем сделать что-нибудь более полезное. Допустим, что у нашего устройства имеется ждущий режим, во время которого на дисплее будет запускаться простая анимационная заставка. 
</p>

<p>
	На мой взгляд самая простая заставка это - "полет сквозь звездное небо".
</p>
<p>
	Наиболее простой алгоритм этой заставки работает так: a) случайным образом формируется звездное небо для первой четверти координатной плоскости; б) картинка из первой четверти зеркалится на остальные четверти; в) при каждой итерации к х и у координатам "звезд" прибавляется по единице; г) при выходе "звезды" за пределы дисплея, случайно генерируется новая "звезда".
</p>
<p>
	В итоге у меня получилась такая программа:
</p>
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">"stdlib.h"</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="PreProc">#define NUM </span><span class="Constant">40</span>
<span class="PreProc">#define LCD_X </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y </span><span class="Constant">48</span>

<span class="Type">uint8_t</span> x[NUM];
<span class="Type">uint8_t</span> y[NUM];

<span class="Type">int</span> main(<span class="Type">void</span>)
{
    pcd8544_init();
    pcd8544_clear();
    <span class="Type">uint8_t</span> i,j;
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;NUM;i++)
    {
        x[i]=rand()%(LCD_X/<span class="Constant">2</span>);
        y[i]=rand()%(LCD_Y/<span class="Constant">2</span>);
    }
    <span class="Statement">for</span> (;;){
        <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;NUM;i++)
        {
            <span class="Statement">if</span> (x[i] == <span class="Constant">0</span> || y[i] == <span class="Constant">0</span>)
            {
                x[i]=rand()%(LCD_X/<span class="Constant">2</span>);
                y[i]=rand()%(LCD_Y/<span class="Constant">2</span>);
            } <span class="Statement">else</span> {
                x[i]=x[i]-<span class="Constant">1</span>;
                y[i]=y[i]-<span class="Constant">1</span>;
            }

        }

        pcd8544_clear_fb();
        <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;<span class="Constant">4</span>;i++)
        {
            <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;NUM;j++)
                pcd8544_set_point(x[j],y[j]);
            <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;NUM;j++)
                pcd8544_set_point(LCD_X-x[j],y[j]);
            <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;NUM;j++)
                pcd8544_set_point(LCD_X-x[j],LCD_Y-y[j]);
            <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;NUM;j++)
                pcd8544_set_point(x[j],LCD_Y-y[j]);

        }
        pcd8544_display_fb();
        _delay_ms(<span class="Constant">300</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<p>
	Результат:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/16.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/16.jpg" width="60%"></a> 
</p>
<p>
	исходники:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/09_1_starsky" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/09_1_starsky</a>
</p>
<p>
	На мой взгляд, за счет симметрии выглядит несколько странно.
</p>

<p>
	Второй вариант алгоритма отличается от первого тем, что "звезды" не зеркалятся, а генерируются случайным образом по всей плоскости дисплея.
</p>
<p>
	Программа:
</p>
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">"stdlib.h"</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="PreProc">#define NUM </span><span class="Constant">120</span>
<span class="PreProc">#define LCD_X </span><span class="Constant">84</span>
<span class="PreProc">#define LCD_Y </span><span class="Constant">48</span>

<span class="Type">uint8_t</span> x[NUM];
<span class="Type">uint8_t</span> y[NUM];

<span class="Type">int</span> main(<span class="Type">void</span>)
{
    pcd8544_init();
    pcd8544_clear();
    <span class="Type">uint8_t</span> i,j;
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;NUM;i++)
    {
        x[i]=rand()%(LCD_X);
        y[i]=rand()%(LCD_Y);
    }
    <span class="Statement">for</span> (;;)
    {
        <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;NUM;i++)
        {
            <span class="Statement">if</span> (x[i] == <span class="Constant">0</span> || y[i] == <span class="Constant">0</span> || x[i] == LCD_X || y[i] == LCD_Y) <span class="Comment">// border control</span>
            {
                x[i]=rand()%(LCD_X);
                y[i]=rand()%(LCD_Y);
            } <span class="Statement">else</span> <span class="Statement">if</span> (x[i] &lt; LCD_X/<span class="Constant">2</span> &amp;&amp; y[i] &lt; LCD_Y/<span class="Constant">2</span>) {
                x[i]=x[i]-<span class="Constant">1</span>;
                y[i]=y[i]-<span class="Constant">1</span>;
            } <span class="Statement">else</span> <span class="Statement">if</span> (x[i] &lt; LCD_X/<span class="Constant">2</span> &amp;&amp; y[i] &gt;= LCD_Y/<span class="Constant">2</span>) {
                x[i]=x[i]-<span class="Constant">1</span>;
                y[i]=y[i]+<span class="Constant">1</span>;
            } <span class="Statement">else</span> <span class="Statement">if</span> (x[i] &gt;=  LCD_X/<span class="Constant">2</span> &amp;&amp; y[i] &lt;LCD_Y/<span class="Constant">2</span>) {
                x[i]=x[i]+<span class="Constant">1</span>;
                y[i]=y[i]-<span class="Constant">1</span>;
            } <span class="Statement">else</span> <span class="Statement">if</span> (x[i] &gt;= LCD_X/<span class="Constant">2</span> &amp;&amp; y[i] &gt;= LCD_Y/<span class="Constant">2</span>) {
                x[i]=x[i]+<span class="Constant">1</span>;
                y[i]=y[i]+<span class="Constant">1</span>;
            }
        }
        pcd8544_clear_fb();

        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;NUM;j++)
            pcd8544_set_point(x[j],y[j]);

        pcd8544_display_fb();
        _delay_ms(<span class="Constant">200</span>);
   }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<p>
	Результат:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/17.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/17.jpg" width="60%"></a> 
</p>
<p>
	Теперь выглядит получше, но все-равно не так как я ожидал. Звездное небо хорошо смотрится на черном фоне 14-дюймового ЭЛТ монитора, а здесь, не то не сё. Ну да ладно.
</p>

<p>
	исходники:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/09_2_starsky" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/09_2_starsky</a>
</p>

<h3><a name="10"></a>10) Функции рисования прямых линий, и окружностей</h3>
<p>
	Целочисленные алгоритмы рисования прямых линий и окружностей можно скопировать из википедии <a href="https://ru.wikibooks.org/wiki/%D0%A0%D0%B5%D0%B0%D0%BB%D0%B8%D0%B7%D0%B0%D1%86%D0%B8%D0%B8_%D0%B0%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC%D0%BE%D0%B2/%D0%90%D0%BB%D0%B3%D0%BE%D1%80%D0%B8%D1%82%D0%BC_%D0%91%D1%80%D0%B5%D0%B7%D0%B5%D0%BD%D1%85%D1%8D%D0%BC%D0%B0" target="_blank">Реализации алгоритмов/Алгоритм Брезенхэма</a>
</p>
<p>
	Т.о. функция рисования прямой линии получается такой:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_draw_line(<span class="Type">uint8_t</span> x1, <span class="Type">uint8_t</span> y1, <span class="Type">uint8_t</span> x2, <span class="Type">uint8_t</span> y2) {
    <span class="Type">const</span> <span class="Type">int</span> deltaX = myabs(x2 - x1);
    <span class="Type">const</span> <span class="Type">int</span> deltaY = myabs(y2 - y1);
    <span class="Type">const</span> <span class="Type">int</span> signX = x1 &lt; x2 ? <span class="Constant">1</span> : -<span class="Constant">1</span>;
    <span class="Type">const</span> <span class="Type">int</span> signY = y1 &lt; y2 ? <span class="Constant">1</span> : -<span class="Constant">1</span>;

    <span class="Type">int</span> error = deltaX - deltaY;

    pcd8544_set_point(x2,y2);
    <span class="Statement">while</span>(x1 != x2 || y1 != y2)
    {
        pcd8544_set_point(x1,y1);
        <span class="Type">const</span> <span class="Type">int</span> error2 = error * <span class="Constant">2</span>;

        <span class="Statement">if</span>(error2 &gt; -deltaY)
        {
            error -= deltaY;
            x1 += signX;
        }
        <span class="Statement">if</span>(error2 &lt; deltaX)
        {
            error += deltaX;
            y1 += signY;
        }
    }
}</pre>
<p>
	А функция рисования окружности такой:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_draw_circle(<span class="Type">uint8_t</span> x0, <span class="Type">uint8_t</span> y0, <span class="Type">uint8_t</span> radius) {
    <span class="Type">int</span> x = <span class="Constant">0</span>;
    <span class="Type">int</span> y = radius;
    <span class="Type">int</span> delta = <span class="Constant">1</span> - <span class="Constant">2</span> * radius;
    <span class="Type">int</span> error = <span class="Constant">0</span>;
    <span class="Statement">while</span>(y &gt;= <span class="Constant">0</span>)
    {
        pcd8544_set_point(x0 + x, y0 + y);
        pcd8544_set_point(x0 + x, y0 - y);
        pcd8544_set_point(x0 - x, y0 + y);
        pcd8544_set_point(x0 - x, y0 - y);
        error = <span class="Constant">2</span> * (delta + y) - <span class="Constant">1</span>;
        <span class="Statement">if</span>(delta &lt; <span class="Constant">0</span> &amp;&amp; error &lt;= <span class="Constant">0</span>) {
            ++x;
            delta += <span class="Constant">2</span> * x + <span class="Constant">1</span>;
            <span class="Statement">continue</span>;
        }
        error = <span class="Constant">2</span> * (delta - x) - <span class="Constant">1</span>;
        <span class="Statement">if</span>(delta &gt; <span class="Constant">0</span> &amp;&amp; error &gt; <span class="Constant">0</span>) {
            --y;
            delta += <span class="Constant">1</span> - <span class="Constant">2</span> * y;
            <span class="Statement">continue</span>;
        }
        ++x;
        delta += <span class="Constant">2</span> * (x - y);
        --y;
    }
}</pre>

<p>
	Какого-то впечатляющего примера для проверки этих функций я не нашел, поэтому предлагаю проверить их сразу в деле.
</p>
<h3><a name="11"></a>11) Интерфейс для метеостанции</h3>
<p>
	Теперь собственно о том, ради чего всё это делалось. Для начала попробуем сделать интерфейс для самодельной метеостанции. Допустим, что у нас имеется уличный датчик DS18B20, и комнатный DHT11. Информация с уличного датчика будет более приоритетна, поэтому она будет выводиться крупным шрифтом, а вся остальная сопутствующая информация - мелким.
</p>
<p>
	Но для начала, чтобы рисовать интерфейсы, нам понадобиться еще одна функция для рисования иконок размером 7х8. Функция для рисования букв нам не подойдёт, т.к. она рисует растр 5x8, т.е. с межбуквенным интервалом по краям. В целях оптимизации иконки будем выводить построчно, т.е. в пределах одного банка.
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_draw_icon_fb(<span class="Type">char</span> * img, <span class="Type">uint8_t</span> x,<span class="Type">uint8_t</span> y, <span class="Type">uint8_t</span> num) {
    pos=x+y*<span class="Constant">84</span>;
    <span class="Type">uint8_t</span> i;
    <span class="Statement">for</span>(i=<span class="Constant">0</span>;i&lt;(num*<span class="Constant">7</span>);i++)
    {
        <span class="Type">uint8_t</span> c=pgm_read_byte(img+i);
        <span class="Statement">if</span> ((pos+i)&lt;<span class="Constant">504</span>) fb[pos+i]|=c;
    }
    pos+=num;
}</pre>
<p>
	Здесь y - это номер строки или банка, x - это номер пикселя в пределах от 0 до 83. num - это ширина изображения в знакоместах, т.е. в пикселях ширина будет равна num*7.
</p>
<p>
	В итоге программа для отрисовки интерфейса у меня получилась такой:
</p>
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">&lt;avr/pgmspace.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="PreProc">#define myabs(n) ((n) &lt; </span><span class="Constant">0</span><span class="PreProc"> ? -(n) : (n))</span>

<span class="Type">const</span> <span class="Type">uint8_t</span> blob[<span class="Constant">7</span>] PROGMEM={<span class="Constant">112</span>,<span class="Constant">216</span>,<span class="Constant">134</span>,<span class="Constant">129</span>,<span class="Constant">134</span>,<span class="Constant">216</span>,<span class="Constant">112</span>};
<span class="Type">const</span> <span class="Type">uint8_t</span> degree[<span class="Constant">7</span>] PROGMEM={<span class="Constant">0</span>,<span class="Constant">0</span>,<span class="Constant">6</span>,<span class="Constant">9</span>,<span class="Constant">9</span>,<span class="Constant">6</span>,<span class="Constant">0</span>};
<span class="Type">const</span> <span class="Type">uint8_t</span> degree_big[<span class="Constant">7</span>] PROGMEM={<span class="Constant">0</span>,<span class="Constant">14</span>,<span class="Constant">27</span>,<span class="Constant">17</span>,<span class="Constant">27</span>,<span class="Constant">14</span>,<span class="Constant">0</span>};
<span class="Type">const</span> <span class="Type">uint8_t</span> termometer[<span class="Constant">7</span>] PROGMEM={<span class="Constant">0</span>,<span class="Constant">96</span>,<span class="Constant">158</span>,<span class="Constant">129</span>,<span class="Constant">158</span>,<span class="Constant">96</span>,<span class="Constant">0</span>};

<span class="Type">int</span> main(<span class="Type">void</span>)
{
    <span class="Comment">// LCD setup</span>
    pcd8544_init();
    <span class="Comment">/// set variables</span>
    <span class="Type">int16_t</span> temp=-<span class="Constant">117</span>;
    <span class="Type">int8_t</span> t1,t2;
    <span class="Type">char</span> i=+<span class="Constant">1</span>;
    <span class="Comment">// main loop</span>
     <span class="Statement">for</span> (;;){
        pcd8544_clear_fb();
        <span class="Comment">// PRINT TIME</span>
        pcd8544_print_at_fb(<span class="Constant">"10:32"</span>, FONT_SIZE_2,<span class="Constant">0</span>,<span class="Constant">4</span>);
        pcd8544_print_at_fb(<span class="Constant">"07"</span>, FONT_SIZE_1,<span class="Constant">10</span>,<span class="Constant">5</span>);
        <span class="Comment">/// print temperature</span>
        t1=temp/<span class="Constant">10</span>;t2=temp%<span class="Constant">10</span>;

        <span class="Statement">if</span> (myabs(t1)&gt;=<span class="Constant">10</span>) {
            pcd8544_print_uint8_at_fb(myabs(t1),FONT_SIZE_3,<span class="Constant">4</span>,<span class="Constant">1</span>);
            <span class="Statement">if</span> (t1&gt;=<span class="Constant">0</span>)
                pcd8544_print_at_fb(<span class="Constant">"+"</span>, FONT_SIZE_3,<span class="Constant">1</span>,<span class="Constant">1</span>);
            <span class="Statement">else</span>
                pcd8544_print_at_fb(<span class="Constant">"-"</span>, FONT_SIZE_3,<span class="Constant">1</span>,<span class="Constant">1</span>);
        } <span class="Statement">else</span> {
            <span class="Statement">if</span> (t1&gt;=<span class="Constant">0</span>)
                pcd8544_print_at_fb(<span class="Constant">"+"</span>, FONT_SIZE_3,<span class="Constant">4</span>,<span class="Constant">1</span>);
            <span class="Statement">else</span>
                pcd8544_print_at_fb(<span class="Constant">"-"</span>, FONT_SIZE_3,<span class="Constant">4</span>,<span class="Constant">1</span>);
            pcd8544_print_uint8_at_fb(myabs(t1),FONT_SIZE_3,<span class="Constant">7</span>,<span class="Constant">1</span>);
        }
        pcd8544_print_uint8_at_fb(myabs(t2),FONT_SIZE_2,<span class="Constant">10</span>,<span class="Constant">2</span>);
        <span class="Comment">// draw dot</span>
        pcd8544_set_point(<span class="Constant">68</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">60</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">70</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">68</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">69</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">70</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">68</span>,<span class="Constant">29</span>);
        pcd8544_set_point(<span class="Constant">69</span>,<span class="Constant">29</span>);
        pcd8544_set_point(<span class="Constant">70</span>,<span class="Constant">29</span>);
        <span class="Comment">// draw blob</span>
        <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;blob);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">0</span>,<span class="Constant">0</span>,<span class="Constant">1</span>);
        <span class="Comment">// draw degree</span>
        ptr= (<span class="Type">char</span> *)(&amp;degree);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">67</span>,<span class="Constant">0</span>,<span class="Constant">1</span>);
        ptr= (<span class="Type">char</span> *)(&amp;degree_big);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">67</span>,<span class="Constant">1</span>,<span class="Constant">1</span>);
        <span class="Comment">// draw termometer</span>
        ptr= (<span class="Type">char</span> *)(&amp;termometer);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">48</span> ,<span class="Constant">0</span>,<span class="Constant">1</span>);
        <span class="Comment">// status bar</span>
        pcd8544_print_at_fb(<span class="Constant">"35%"</span>, FONT_SIZE_1,<span class="Constant">1</span>,<span class="Constant">0</span>);
        pcd8544_print_at_fb(<span class="Constant">"26"</span>, FONT_SIZE_1,<span class="Constant">8</span>,<span class="Constant">0</span>);

        pcd8544_display_fb();

        <span class="Statement">if</span> (temp &gt;= <span class="Constant">350</span>)
            i=-<span class="Constant">1</span>;
        <span class="Statement">else</span> <span class="Statement">if</span> (temp &lt;= -<span class="Constant">350</span>)
            i=<span class="Constant">1</span>;
        temp+=i;

        _delay_ms(<span class="Constant">1000</span>);
     }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<p>
	Результат:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/18.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/18.jpg" width="60%"></a> 
</p>

<p>
	Полные исходники к этому примеру можно посмотреть здесь:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/11_meteo" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/11_meteo</a>
</p>

<h3><a name="12"></a>12) Интерфейс для FM-радиоприемника</h3>
<p>
	Еще одна распространенная задача - дисплей для FM-приемника. Я не стал изобретать велосипед и попытался скопировать интерфейс со своего старенького плеера iRiver ifp-180tc. Там тоже монохромный дисплей, правда не квадратный, а прямоугольный.
</p>
<p>
	В итоге у меня получилась такая программа:
</p>

<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">&lt;avr/pgmspace.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="Type">const</span> <span class="Type">uint8_t</span> pointer[<span class="Constant">7</span>] PROGMEM={<span class="Constant">0x2</span>,<span class="Constant">0x6</span>,<span class="Constant">0xc</span>,<span class="Constant">0x18</span>,<span class="Constant">0xc</span>,<span class="Constant">0x6</span>,<span class="Constant">0x2</span>};
<span class="Type">const</span> <span class="Type">uint8_t</span> stereo[<span class="Constant">7</span>] PROGMEM={<span class="Constant">0x3c</span>,<span class="Constant">0x66</span>,<span class="Constant">0xc3</span>,<span class="Constant">0x81</span>,<span class="Constant">0xc3</span>,<span class="Constant">0x66</span>,<span class="Constant">0x3c</span>};
<span class="Type">static</span> <span class="Type">const</span> <span class="Type">uint8_t</span> battery[<span class="Constant">14</span>] PROGMEM={<span class="Constant">28</span>,<span class="Constant">34</span>,<span class="Constant">65</span>,<span class="Constant">93</span>,<span class="Constant">93</span>,<span class="Constant">65</span>,<span class="Constant">93</span>, <span class="Constant">93</span>,<span class="Constant">65</span>,<span class="Constant">93</span>,<span class="Constant">93</span>,<span class="Constant">65</span>,<span class="Constant">127</span>,<span class="Constant">0</span>};

<span class="Type">int</span> main(<span class="Type">void</span>) {
    <span class="Comment">// LCD setup</span>
    pcd8544_init();
    <span class="Comment">/// set variables</span>
    <span class="Type">uint16_t</span> freq=<span class="Constant">1017</span>;
    <span class="Type">char</span> i=<span class="Constant">1</span>;
    <span class="Type">uint8_t</span> f1,f2;
    <span class="Type">uint8_t</span> j;
    <span class="Comment">// main loop</span>
    <span class="Statement">for</span>(;;)
    {
         pcd8544_clear_fb();
        <span class="Comment">/// print frequency</span>
        f1=freq/<span class="Constant">10</span>;f2=freq%<span class="Constant">10</span>;
        <span class="Statement">if</span> (f1&gt;=<span class="Constant">100</span>)
            pcd8544_print_uint8_at_fb(f1,FONT_SIZE_3,<span class="Constant">0</span>,<span class="Constant">1</span>);
        <span class="Statement">else</span>
            pcd8544_print_uint8_at_fb(f1,FONT_SIZE_3,<span class="Constant">3</span>,<span class="Constant">1</span>);

        pcd8544_print_uint8_at_fb(f2,FONT_SIZE_2,<span class="Constant">9</span>,<span class="Constant">2</span>);

        <span class="Comment">// draw dot</span>
        pcd8544_set_point(<span class="Constant">61</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">62</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">63</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">61</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">62</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">63</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">61</span>,<span class="Constant">29</span>);
        pcd8544_set_point(<span class="Constant">62</span>,<span class="Constant">29</span>);
        pcd8544_set_point(<span class="Constant">63</span>,<span class="Constant">29</span>);
        <span class="Comment">// status bar</span>
        pcd8544_print_at_fb(<span class="Constant">"MГц"</span>, FONT_SIZE_1,<span class="Constant">9</span>,<span class="Constant">1</span>);
        pcd8544_print_at_fb(<span class="Constant">"ПМ"</span>, FONT_SIZE_1,<span class="Constant">3</span>,<span class="Constant">0</span>);
        pcd8544_print_at_fb(<span class="Constant">"60dB"</span>, FONT_SIZE_1,<span class="Constant">6</span>,<span class="Constant">0</span>);
        pcd8544_print_at_fb(<span class="Constant">"7-НАШЕ РАДИО"</span>, FONT_SIZE_1,<span class="Constant">0</span>,<span class="Constant">4</span>);
        <span class="Comment">//</span>
        pcd8544_draw_line(<span class="Constant">0</span>,<span class="Constant">46</span>,<span class="Constant">83</span>,<span class="Constant">46</span>);
        <span class="Statement">for</span>(j=<span class="Constant">0</span>;j&lt;<span class="Constant">14</span>;j++)
            pcd8544_draw_line(j*<span class="Constant">6</span>,<span class="Constant">44</span>,j*<span class="Constant">6</span>,<span class="Constant">47</span>);
        pcd8544_draw_line(<span class="Constant">83</span>,<span class="Constant">44</span>,<span class="Constant">83</span>,<span class="Constant">47</span>);
        <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;pointer);
        <span class="Type">uint8_t</span> p=(freq-<span class="Constant">880</span>)/<span class="Constant">2</span>-(freq-<span class="Constant">880</span>)/<span class="Constant">10</span>;
        pcd8544_draw_icon_fb(ptr,p,<span class="Constant">5</span>,<span class="Constant">1</span>);

        ptr= (<span class="Type">char</span> *)(&amp;stereo);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">0</span>,<span class="Constant">0</span>,<span class="Constant">1</span>);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">7</span>,<span class="Constant">0</span>,<span class="Constant">1</span>);

        ptr= (<span class="Type">char</span> *)(&amp;battery);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">70</span>,<span class="Constant">0</span>,<span class="Constant">2</span>);

        pcd8544_display_fb();

        <span class="Statement">if</span> (freq &gt;= <span class="Constant">1080</span>)
            i=-<span class="Constant">1</span>;
        <span class="Statement">else</span> <span class="Statement">if</span> (freq &lt;=<span class="Constant">880</span>)
            i=<span class="Constant">1</span>;
       freq+=i;

         _delay_ms(<span class="Constant">1000</span>);
     }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<p>
	Результат:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/19.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/19.jpg" width="60%"></a> 
</p>
<p>
	исходники:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/12_radio" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/12_radio</a>
</p>

<p>
	Когда происходит нажатие на кнопки регулировки громкости, то шкала FM диапазона на пару секунд меняется на шкалу регулировки громкости.
</p>
<pre class="CodeC"><span class="PreProc">#include </span><span class="Constant">"avr/io.h"</span>
<span class="PreProc">#include </span><span class="Constant">"util/delay.h"</span>
<span class="PreProc">#include </span><span class="Constant">&lt;avr/pgmspace.h&gt;</span>
<span class="PreProc">#include </span><span class="Constant">"pcd8544_soft.h"</span>

<span class="Type">const</span> <span class="Type">uint8_t</span> pointer[<span class="Constant">7</span>] PROGMEM={<span class="Constant">0x2</span>,<span class="Constant">0x6</span>,<span class="Constant">0xc</span>,<span class="Constant">0x18</span>,<span class="Constant">0xc</span>,<span class="Constant">0x6</span>,<span class="Constant">0x2</span>};
<span class="Type">const</span> <span class="Type">uint8_t</span> stereo[<span class="Constant">7</span>] PROGMEM={<span class="Constant">0x3c</span>,<span class="Constant">0x66</span>,<span class="Constant">0xc3</span>,<span class="Constant">0x81</span>,<span class="Constant">0xc3</span>,<span class="Constant">0x66</span>,<span class="Constant">0x3c</span>};
<span class="Type">static</span> <span class="Type">const</span> <span class="Type">uint8_t</span> battery[<span class="Constant">14</span>] PROGMEM={<span class="Constant">28</span>,<span class="Constant">34</span>,<span class="Constant">65</span>,<span class="Constant">93</span>,<span class="Constant">93</span>,<span class="Constant">65</span>,<span class="Constant">93</span>, <span class="Constant">93</span>,<span class="Constant">65</span>,<span class="Constant">93</span>,<span class="Constant">93</span>,<span class="Constant">65</span>,<span class="Constant">127</span>,<span class="Constant">0</span>};

<span class="Type">int</span> main(<span class="Type">void</span>) {
    <span class="Comment">// LCD setup</span>
    pcd8544_init();
    <span class="Comment">/// set variables</span>
    <span class="Type">char</span> volume=<span class="Constant">100</span>;
    <span class="Type">uint16_t</span> freq=<span class="Constant">1017</span>;
    <span class="Type">char</span> i=<span class="Constant">1</span>;
    <span class="Type">uint8_t</span> f1,f2;
    <span class="Comment">// main loop</span>
    <span class="Statement">for</span>(;;)
    {
         pcd8544_clear_fb();
        <span class="Comment">/// print frequency</span>
        f1=freq/<span class="Constant">10</span>;f2=freq%<span class="Constant">10</span>;
        <span class="Statement">if</span> (f1&gt;=<span class="Constant">100</span>)
            pcd8544_print_uint8_at_fb(f1,FONT_SIZE_3,<span class="Constant">0</span>,<span class="Constant">1</span>);
        <span class="Statement">else</span>
            pcd8544_print_uint8_at_fb(f1,FONT_SIZE_3,<span class="Constant">3</span>,<span class="Constant">1</span>);

        pcd8544_print_uint8_at_fb(f2,FONT_SIZE_2,<span class="Constant">9</span>,<span class="Constant">2</span>);

        <span class="Comment">// draw dot</span>
        pcd8544_set_point(<span class="Constant">61</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">62</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">63</span>,<span class="Constant">27</span>);
        pcd8544_set_point(<span class="Constant">61</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">62</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">63</span>,<span class="Constant">28</span>);
        pcd8544_set_point(<span class="Constant">61</span>,<span class="Constant">29</span>);
        pcd8544_set_point(<span class="Constant">62</span>,<span class="Constant">29</span>);
        pcd8544_set_point(<span class="Constant">63</span>,<span class="Constant">29</span>);
        <span class="Comment">// status bar</span>
        pcd8544_print_at_fb(<span class="Constant">"MГц"</span>, FONT_SIZE_1,<span class="Constant">9</span>,<span class="Constant">1</span>);
        pcd8544_print_at_fb(<span class="Constant">"ПМ"</span>, FONT_SIZE_1,<span class="Constant">3</span>,<span class="Constant">0</span>);
        pcd8544_print_at_fb(<span class="Constant">"60dB"</span>, FONT_SIZE_1,<span class="Constant">6</span>,<span class="Constant">0</span>);
        pcd8544_print_at_fb(<span class="Constant">"7-НАШЕ РАДИО"</span>, FONT_SIZE_1,<span class="Constant">0</span>,<span class="Constant">4</span>);
        <span class="Comment">//</span>
        pcd8544_print_at_fb(<span class="Constant">"гр"</span>, FONT_SIZE_1,<span class="Constant">0</span>,<span class="Constant">5</span>);
        pcd8544_print_uint8_at_fb(volume, FONT_SIZE_1,<span class="Constant">3</span>,<span class="Constant">5</span>);
        pcd8544_draw_line(<span class="Constant">33</span>,<span class="Constant">45</span>,<span class="Constant">83</span>,<span class="Constant">45</span>);
        <span class="Comment">//</span>
        <span class="Type">char</span> * ptr= (<span class="Type">char</span> *)(&amp;pointer);
        <span class="Type">uint8_t</span> p=<span class="Constant">33</span>+(volume&gt;&gt;<span class="Constant">1</span>);
        pcd8544_draw_icon_fb(ptr,p,<span class="Constant">5</span>,<span class="Constant">1</span>);

        ptr= (<span class="Type">char</span> *)(&amp;stereo);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">0</span>,<span class="Constant">0</span>,<span class="Constant">1</span>);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">7</span>,<span class="Constant">0</span>,<span class="Constant">1</span>);

        ptr= (<span class="Type">char</span> *)(&amp;battery);
        pcd8544_draw_icon_fb(ptr,<span class="Constant">70</span>,<span class="Constant">0</span>,<span class="Constant">2</span>);

        pcd8544_display_fb();

        <span class="Statement">if</span> (volume &gt;= <span class="Constant">100</span>)
            i=-<span class="Constant">1</span>;
        <span class="Statement">else</span> <span class="Statement">if</span> (volume &lt;= <span class="Constant">0</span>)
            i=<span class="Constant">1</span>;

        volume+=i;

         _delay_ms(<span class="Constant">1000</span>);
     }

   <span class="Statement">return</span> <span class="Constant">0</span>;
}</pre>
<p>
	Результат:
</p>
<p style="text-align:left;">
	<a href="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/20.jpg" target="_blank"><img src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/20.jpg" width="60%"></a> 
</p>
<p>
	Здесь можно видеть, что цифры налезают на статусную строку, хотя внизу есть пустое место. Вцелом, я бы для больших цифр сделал персональные шрифты, примерно как <a href="http://www.count-zero.ru/2015/hd44780_big/" target="_blank">на HD44780</a>.
</p>
<p>
	исходники:<br> <a href="https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/12_radio_volume" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8/tree/master/12_radio_volume</a>
</p>

<h3><a name="13"></a>13) Финальная версия библиотеки на аппаратном SPI</h3>
<p>
	Ну и  в завершение, можно перевести библиотеку на аппаратный SPI. Напомню, что для корректной работы устройства при заливке прошивки через ISP-программатор, дисплей нужно отключать от микроконтроллера.
</p>
<p>
	В библиотечном файле нужно будет задать переменную, в которой будет храниться номер CS пина:
</p>
<pre class="CodeC"><span class="Type">static</span> <span class="Type">uint8_t</span> CSpin;</pre>
<p>
	Соответственно функция инициализации дополниться одним входным параметром:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_init(<span class="Type">uint8_t</span> cs)
{
   CSpin=cs;
   <span class="Comment">// GPIO Setup</span>
   DDR_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_RESET) | (<span class="Constant">1</span>&lt;&lt;PIN_DC);
   PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;PIN_RESET);
   pcd8544_send(LCD_C, <span class="Constant">0x21</span> );  <span class="Comment">// LCD Extended Commands.</span>
   pcd8544_send(LCD_C, <span class="Constant">0xBA</span> );  <span class="Comment">// Set LCD Vop (Contrast).</span>
   pcd8544_send(LCD_C, <span class="Constant">0x04</span> );  <span class="Comment">// Set Temp coefficent. //</span><span class="Constant">0x04</span>
   pcd8544_send(LCD_C, <span class="Constant">0x14</span> );  <span class="Comment">// LCD bias mode </span><span class="Constant">1</span><span class="Comment">:</span><span class="Constant">48.</span><span class="Comment"> //</span><span class="Constant">0x13</span>
   pcd8544_send(LCD_C, <span class="Constant">0x20</span> );  <span class="Comment">// LCD Basic Commands</span>
   pcd8544_send(LCD_C, <span class="Constant">0x0C</span> );  <span class="Comment">// LCD in normal mode.</span>
}</pre>

<p>
	Инициализацию SPI я предпочитаю делать в main() функции, или через библиотеку SPI.
</p>
<p>
	Функция void pcd8544_send(uint8_t dc, uint8_t data) примет в таком случае следующий вид:
</p>
<pre class="CodeC"><span class="Type">void</span> pcd8544_send(<span class="Type">uint8_t</span> dc, <span class="Type">uint8_t</span> data)
{
    <span class="Statement">if</span> (dc == LCD_D)
        PORT_PCD8544 |= (<span class="Constant">1</span>&lt;&lt;PIN_DC);
    <span class="Statement">else</span>
        PORT_PCD8544 &amp;= ~(<span class="Constant">1</span>&lt;&lt;PIN_DC);

    PORT_PCD8544&amp;=~(<span class="Constant">1</span>&lt;&lt;CSpin);

    SPDR=data;
    <span class="Statement">while</span>(!(SPSR &amp; (<span class="Constant">1</span>&lt;&lt;SPIF)));

    PORT_PCD8544|=(<span class="Constant">1</span>&lt;&lt;CSpin);
}</pre>
<p>
	И в принципе это все. Все исходники в примерам можно скачать  с этого сайта <a href="http://www.count-zero.ru/files/pcd8544_atmega8.zip" target="_blank">www.count-zero.ru/files/pcd8544_atmega8.zip</a> или c gitlab.com <a href="https://gitlab.com/flank1er/pcd8544_atmega8" target="_blank">https://gitlab.com/flank1er/pcd8544_atmega8</a>.
</p>


<div class="btn-toolbar">
        <div class="btn-group pull-right">
                <a href="javascript:history.back();" class="btn tag-dark"><i class="fa fa-arrow-left fa-inverse" aria-hidden="true"></i></a>
                <a href="http://www.count-zero.ru/2017/pcd8544/#top" class="btn tag-dark"><i class="fa fa-level-up fa-inverse" aria-hidden="true"></i></a>
                <a href="http://www.count-zero.ru/" class="btn tag-dark"><i class="fa fa-home fa-inverse" aria-hidden="true"></i></a>                            
        </div>  
</div>
<div align="right" style="font-family: cursive;">
поделиться:
<script type="text/javascript" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/es5-shims.min.js.Без названия" charset="utf-8"></script>
<script type="text/javascript" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/share.js.Без названия" charset="utf-8"></script>
<div class="ya-share2 ya-share2_inited" data-services="vkontakte,facebook,odnoklassniki,moimir,gplus,twitter"><div class="ya-share2__container ya-share2__container_size_m ya-share2__container_color-scheme_normal ya-share2__container_shape_normal"><ul class="ya-share2__list ya-share2__list_direction_horizontal"><li class="ya-share2__item ya-share2__item_service_vkontakte"><a class="ya-share2__link" href="https://vk.com/share.php?url=http%3A%2F%2Fwww.count-zero.ru%2F2017%2Fpcd8544%2F&amp;title=ATmega8%20%2B%20PCD8544%3A%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B5%D0%BC%20%D0%BE%D1%82%20%D1%82%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BE%D0%B2%20Nokia%205110%2F3310&amp;utm_source=share2" rel="nofollow noopener" target="_blank" title="ВКонтакте"><span class="ya-share2__badge"><span class="ya-share2__icon"></span></span><span class="ya-share2__title">ВКонтакте</span></a></li><li class="ya-share2__item ya-share2__item_service_facebook"><a class="ya-share2__link" href="https://www.facebook.com/sharer.php?src=sp&amp;u=http%3A%2F%2Fwww.count-zero.ru%2F2017%2Fpcd8544%2F&amp;title=ATmega8%20%2B%20PCD8544%3A%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B5%D0%BC%20%D0%BE%D1%82%20%D1%82%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BE%D0%B2%20Nokia%205110%2F3310&amp;utm_source=share2" rel="nofollow noopener" target="_blank" title="Facebook"><span class="ya-share2__badge"><span class="ya-share2__icon"></span></span><span class="ya-share2__title">Facebook</span></a></li><li class="ya-share2__item ya-share2__item_service_odnoklassniki"><a class="ya-share2__link" href="https://connect.ok.ru/offer?url=http%3A%2F%2Fwww.count-zero.ru%2F2017%2Fpcd8544%2F&amp;title=ATmega8%20%2B%20PCD8544%3A%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B5%D0%BC%20%D0%BE%D1%82%20%D1%82%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BE%D0%B2%20Nokia%205110%2F3310&amp;utm_source=share2" rel="nofollow noopener" target="_blank" title="Одноклассники"><span class="ya-share2__badge"><span class="ya-share2__icon"></span></span><span class="ya-share2__title">Одноклассники</span></a></li><li class="ya-share2__item ya-share2__item_service_moimir"><a class="ya-share2__link" href="https://connect.mail.ru/share?url=http%3A%2F%2Fwww.count-zero.ru%2F2017%2Fpcd8544%2F&amp;title=ATmega8%20%2B%20PCD8544%3A%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B5%D0%BC%20%D0%BE%D1%82%20%D1%82%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BE%D0%B2%20Nokia%205110%2F3310&amp;utm_source=share2" rel="nofollow noopener" target="_blank" title="Мой Мир"><span class="ya-share2__badge"><span class="ya-share2__icon"></span></span><span class="ya-share2__title">Мой Мир</span></a></li><li class="ya-share2__item ya-share2__item_service_twitter"><a class="ya-share2__link" href="https://twitter.com/intent/tweet?text=ATmega8%20%2B%20PCD8544%3A%20%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%B0%20%D1%81%20%D0%B3%D1%80%D0%B0%D1%84%D0%B8%D1%87%D0%B5%D1%81%D0%BA%D0%B8%D0%BC%20%D0%B4%D0%B8%D1%81%D0%BF%D0%BB%D0%B5%D0%B5%D0%BC%20%D0%BE%D1%82%20%D1%82%D0%B5%D0%BB%D0%B5%D1%84%D0%BE%D0%BD%D0%BE%D0%B2%20Nokia%205110%2F3310&amp;url=http%3A%2F%2Fwww.count-zero.ru%2F2017%2Fpcd8544%2F&amp;utm_source=share2" rel="nofollow noopener" target="_blank" title="Twitter"><span class="ya-share2__badge"><span class="ya-share2__icon"></span></span><span class="ya-share2__title">Twitter</span></a></li></ul></div></div>
<br>
</div>

<div id="disqus_thread"><iframe id="dsq-app2308" name="dsq-app2308" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/saved_resource.html"></iframe></div>


</div>
</div>
    <div class="col-lg-2 col-md-2 hidden-sm hidden-xs">
    <aside>	<div class="menu"><h3 class="btn tag-primary btn-lg btn-block">Теги</h3>
    
	<a href="http://www.count-zero.ru/tags/arduino/" class="tag-warm">Arduino(12)</a>
	<a href="http://www.count-zero.ru/tags/assembler/">ASM(7)</a>
	<a href="http://www.count-zero.ru/tags/avr/" class="tag-hot">AVR(32)</a>
	<a href="http://www.count-zero.ru/tags/hc_sr04/">HC-SR04(2)</a>
	<a href="http://www.count-zero.ru/tags/hd44780/">HD44780(5)</a>
	<a href="http://www.count-zero.ru/tags/i2c/">I<sup>2</sup>C(8)</a> 
	<a href="http://www.count-zero.ru/tags/ide/">IDE(7)</a>
	<a href="http://www.count-zero.ru/tags/iot/">IoT(5)</a>
	<a href="http://www.count-zero.ru/tags/max6675/">MAX6675(2)</a> 
	<a href="http://www.count-zero.ru/tags/msp430/" class="tag-warm">MSP430(6)</a> 
	<a href="http://www.count-zero.ru/tags/myrobot/">myRobot(3)</a> 
	<a href="http://www.count-zero.ru/tags/pcd8544/">PCD8544(1)</a> 
	<a href="http://www.count-zero.ru/tags/rda5807m/">RDA5807m(2)</a> 
	<a href="http://www.count-zero.ru/tags/ds1307/">RTC(4)</a>
	<a href="http://www.count-zero.ru/tags/spi/">SPI(4)</a> 
	<a href="http://www.count-zero.ru/tags/stm32/" class="tag-warm">STM32(10)</a> 
	<a href="http://www.count-zero.ru/tags/leafmaple/">STM32duino(5)</a> 
	<a href="http://www.count-zero.ru/tags/stm8/" class="tag-hot">STM8(26)</a> 
	<a href="http://www.count-zero.ru/tags/uart/">UART(6)</a> 
	</div>

	<div class="menu_cal"> <h4>
	</h4><h3 class="btn tag-primary btn-lg btn-block">Архив</h3>
        <h5 class="btn tag-normal btn-sm  btn-block" style="font-family:myCrystal; font-size:16pt;">2020 год:</h5>
        <a href="http://www.count-zero.ru/archive/2020_07/">Июль(1)</a><br>
        <h5 class="btn tag-normal btn-sm  btn-block">2019 год:</h5>
        <p> <a href="http://www.count-zero.ru/archive/2019_12/">Декабрь(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2019_11/">Ноябрь(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2019_05/">Май(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2019_03/">Март(1)</a></p>
        <h5 class="btn tag-normal btn-sm  btn-block">2018 год:</h5>
        <p><a href="http://www.count-zero.ru/archive/2018_12/">Декабрь(2)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_11/">Ноябрь(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_10/">Октябрь(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_09/">Сентябрь(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_08/">Август(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_07/">Июль(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_05/">Май(1)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_04/">Апрель(2)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_03/">Март(2)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_02/">Февраль(2)</a><br>
        <a href="http://www.count-zero.ru/archive/2018_01/">Январь(1)</a><br></p>
        <h5 class="btn tag-normal btn-sm  btn-block">2017 год:</h5>
		<p><a href="http://www.count-zero.ru/archive/2017_12/">Декабрь(1)</a><br>
		<a href="http://www.count-zero.ru/archive/2017_11/">Ноябрь(1)</a><br>
		<a href="http://www.count-zero.ru/archive/2017_10/">Октябрь(3)</a><br>
		<a href="http://www.count-zero.ru/archive/2017_09/">Сентябрь(3)</a><br>
		<a href="http://www.count-zero.ru/archive/2017_08/">Август(1)</a><br>
		<a href="http://www.count-zero.ru/archive/2017_04/">Апрель(2)</a><br>
		<a href="http://www.count-zero.ru/archive/2017_02/">Февраль(2)</a></p>
        <h5 class="btn tag-normal btn-sm  btn-block">2016 год:</h5>
        <p><a href="http://www.count-zero.ru/archive/2016_11/">Ноябрь(4)</a><br>
        <a href="http://www.count-zero.ru/archive/2016_10/">Октябрь(2)</a><br>
		<a href="http://www.count-zero.ru/archive/2016_08/">Август(3)</a><br>
        <a href="http://www.count-zero.ru/archive/2016_07/">Июль(7)</a><br>
        <a href="http://www.count-zero.ru/archive/2016_04/">Апрель(4)</a><br>
        <a href="http://www.count-zero.ru/archive/2016_03/">Март(8)</a></p>
        <h5 class="btn tag-normal btn-sm  btn-block">2015 год:</h5>
        <p><a href="http://www.count-zero.ru/archive/2015_11/">Ноябрь(4)</a><br>
        <a href="http://www.count-zero.ru/archive/2015_10/">Октябрь(3)</a><br>
        <a href="http://www.count-zero.ru/archive/2015_09/">Сентябрь(10)</a><br>
        <a href="http://www.count-zero.ru/archive/2015_08/">Aвгуст(2)</a><br>
        <a href="http://www.count-zero.ru/archive/2015_07/">Июль(5)</a></p>
        <h5 class="btn tag-normal btn-sm  btn-block">старые:</h5>
        <p><a href="http://www.count-zero.ru/archive/2014_03/">2014 год(5)</a><br>
        <!--a href="/archive/2013_02/">2013 год(3)</a></br-->
    
</p></div></aside>

   </div>
</div> </div>   




<iframe name="ym-native-frame" title="ym-native-frame" frameborder="0" aria-hidden="true" style="opacity: 0 !important; width: 0px !important; height: 0px !important; position: absolute !important; left: 100% !important; bottom: 100% !important; border: 0px !important;" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/saved_resource(1).html"></iframe><div class="mallbery-caa" style="z-index: 2147483647 !important; text-transform: none !important; position: fixed;"></div><iframe style="display: none;" src="./ATmega8 + PCD8544_ работа с графическим дисплеем от телефонов Nokia 5110_3310_files/saved_resource(2).html"></iframe></body></html>